{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/api-openai-mapper/chat.ts","webpack:///./src/api-openai-mapper/embedding.ts","webpack:///./src/api-openai-mapper/index.ts","webpack:///./src/api-openai-mapper/model.ts","webpack:///./src/api-openai-mapper/text-generation.ts","webpack:///./src/api-openai-mapper/tokenizer.ts","webpack:///./src/api-openai/chat.ts","webpack:///./src/api-openai/embedding.ts","webpack:///./src/api-openai/index.ts","webpack:///./src/api-openai/model.ts","webpack:///./src/api-openai/openai-api.ts","webpack:///./src/api-openai/text-generation.ts","webpack:///./src/api-openai/tokenizer.ts","webpack:///./src/client-public/ApiKeyPage.tsx","webpack:///./src/client-public/App.tsx","webpack:///./src/client-public/AssistantToolCallMessageForm.tsx","webpack:///./src/client-public/ChatRequestConfigUx.tsx","webpack:///./src/client-public/ContentMessageForm.tsx","webpack:///./src/client-public/ConversationEditPage.tsx","webpack:///./src/client-public/ConversationListPage.tsx","webpack:///./src/client-public/DefaultMenu.tsx","webpack:///./src/client-public/ErrorMessage.tsx","webpack:///./src/client-public/FunctionToolEditPage.tsx","webpack:///./src/client-public/FunctionToolForm.tsx","webpack:///./src/client-public/FunctionToolList.tsx","webpack:///./src/client-public/FunctionToolListPage.tsx","webpack:///./src/client-public/HomePage.tsx","webpack:///./src/client-public/MessageForm.tsx","webpack:///./src/client-public/MessageListForm.tsx","webpack:///./src/client-public/ModelListPage.tsx","webpack:///./src/client-public/ToolCallForm.tsx","webpack:///./src/client-public/ToolCallListForm.tsx","webpack:///./src/client-public/ToolResponseMessageForm.tsx","webpack:///./src/client-public/error-handling.ts","webpack:///./src/client-public/local-storage-util.ts","webpack:///./src/client-public/main.tsx","webpack:///./src/client-public/self-discover/SelfDiscoverAdaptTab.tsx","webpack:///./src/client-public/self-discover/SelfDiscoverEditPage.tsx","webpack:///./src/client-public/self-discover/SelfDiscoverExecuteTab.tsx","webpack:///./src/client-public/self-discover/SelfDiscoverImplementTab.tsx","webpack:///./src/client-public/self-discover/SelfDiscoverListPage.tsx","webpack:///./src/client-public/self-discover/SelfDiscoverSelectTab.tsx","webpack:///./src/client-public/self-discover/SelfDiscoverTaskForm.tsx","webpack:///./src/client-public/self-discover/SelfDiscoverTaskListForm.tsx","webpack:///./src/client-public/self-discover/SelfDiscoverTaskTab.tsx","webpack:///./src/client-public/use-dropdown.ts","webpack:///./src/client-public/use-error.ts","webpack:///./src/json-schema-editor/index.tsx"],"names":[],"mappings":"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","file":"main.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"main\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([\"./src/client-public/main.tsx\",\"vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import * as tm from \"type-mapping/fluent\";\nimport * as tm2 from \"type-mapping\";\n\n/**\n * https://platform.openai.com/docs/guides/function-calling\n */\nexport const toolResponseChatMessage = tm.object({\n    tool_call_id : tm.string(),\n\n    role : tm.literal(\"tool\"),\n\n    /**\n     * The function name\n     */\n    name : tm.string(),\n\n    /**\n     * The result of the tool call\n     */\n    content : tm.string(),\n});\n\n/**\n * https://platform.openai.com/docs/guides/function-calling\n */\nexport const assistantToolCallChatMessage = tm.object({\n    role : tm.literal(\"assistant\"),\n\n    //content : tm.null(),\n    tool_calls : tm.array(tm.object({\n        id : tm.string(),\n        type : tm.literal(\"function\"),\n        function : tm.object({\n            name : tm.string(),\n            arguments : tm.jsonObjectString(),\n        }),\n    })),\n});\n\nexport const assistantContentChatMessage = tm.object({\n    role : tm.literal(\"assistant\"),\n\n    /**\n     * The contents of the message.\n     * content is required for all messages except assistant messages with function calls.\n     */\n    content : tm.string(),\n});\n\nexport const contentChatMessage = tm.object({\n    role : tm.literal(\"system\", \"user\"),\n\n    /**\n     * The contents of the message.\n     * content is required for all messages except assistant messages with function calls.\n     */\n    content : tm.string(),\n});\n\n\n\n/**\n * https://platform.openai.com/docs/guides/chat/introduction\n */\nexport const chatMessage = tm.or(\n    contentChatMessage,\n    assistantContentChatMessage,\n    assistantToolCallChatMessage,\n    toolResponseChatMessage,\n);\n\nexport type ChatMessage = tm2.ExpectedInputOf<typeof chatMessage>;\n\nexport const tools = tm.array(tm.object({\n    type : tm.literal(\"function\"),\n    function : tm.object({\n        name : tm.string(),\n        description : tm.string(),\n\n        /**\n         * The parameters the functions accepts, described as a JSON Schema object\n         * See the [guide](https://platform.openai.com/docs/guides/gpt/function-calling) for examples,\n         * and the JSON Schema [reference](https://json-schema.org/understanding-json-schema/) for documentation about the format.\n         */\n        parameters : tm.jsonObject(),\n    })\n}));\n\n/**\n * https://platform.openai.com/docs/api-reference/chat\n */\nexport const chatCompleteRequestBody = tm.object({\n    model : tm.string(),\n    messages : tm.array(chatMessage),\n\n    tools : tools.optional(),\n    tool_choice : tm.or(\n        tm.literal(\"none\", \"auto\"),\n        tm.object({\n            type : tm.literal(\"function\"),\n            function : tm.object({\n                name : tm.string(),\n            }),\n        })\n    ).optional(),\n\n    /** @deprecated use tools */\n    // functions : tm.array(tm.object({\n    //     name : tm.string(),\n    //     description : tm.string().optional(),\n\n    //     /**\n    //      * The parameters the functions accepts, described as a JSON Schema object\n    //      * See the [guide](https://platform.openai.com/docs/guides/gpt/function-calling) for examples,\n    //      * and the JSON Schema [reference](https://json-schema.org/understanding-json-schema/) for documentation about the format.\n    //      */\n    //     parameters : tm.jsonObject(),\n    // })).optional(),\n\n    /** @deprecated use tool_choice */\n    /**\n     * Controls how the model responds to function calls.\n     * \"none\" means the model does not call a function, and responds to the end-user.\n     * \"auto\" means the model can pick between an end-user or calling a function.\n     * Specifying a particular function via {\"name\":\\ \"my_function\"} forces the model to call that function.\n     * \"none\" is the default when no functions are present. \"auto\" is the default if functions are present.\n     */\n    // function_call : tm.or(\n    //     tm.literal(\"none\", \"auto\"),\n    //     tm.object({\n    //         name : tm.string(),\n    //     })\n    // ).optional(),\n\n    temperature : tm.range({\n        gtEq : 0.0,\n        ltEq : 1.0,\n    }).optional(),\n    top_p : tm.range({\n        gtEq : 0.0,\n        ltEq : 1.0,\n    }).optional(),\n    n : tm.gtEq(1).optional(),\n    stream : tm.boolean().optional(),\n    stop : tm.array(tm.string()).optional(),\n    max_tokens : tm.range({\n        gtEq : 1,\n        ltEq : 2048,\n    }).optional(),\n    presence_penalty : tm.range({\n        gtEq : -2.0,\n        ltEq : 2.0,\n    }).optional(),\n    frequency_penalty : tm.range({\n        gtEq : -2.0,\n        ltEq : 2.0,\n    }).optional(),\n    logit_bias : tm.jsonObject().optional(),\n    response_format : tm.object({\n        type : tm.literal(\"text\", \"json_object\"),\n    }).optional(),\n\n    /**\n     * A unique identifier representing your end-user, which can help OpenAI to monitor and detect abuse.\n     */\n    user : tm.string().optional(),\n});\n\nexport type ChatCompleteRequestBody = tm2.ExpectedInputOf<typeof chatCompleteRequestBody>;\n\n/**\n * https://platform.openai.com/docs/api-reference/chat/create\n */\nexport const chatCompleteResponseBody = tm.object({\n    id : tm.string(),\n    object : tm.string(),\n    created : tm.integer(),\n    model : tm.string(),\n    choices : tm.array(tm.object({\n        index : tm.integer(),\n        message : chatMessage,\n        finish_reason : tm.string(),\n    })),\n    usage : tm.object({\n        prompt_tokens : tm.integer(),\n        completion_tokens : tm.integer(),\n        total_tokens : tm.integer(),\n    }),\n});\n","import * as tm from \"type-mapping/fluent\";\nimport * as tm2 from \"type-mapping\";\n\nexport const getEmbeddingRequestBody = tm.object({\n    input : tm.string(),\n    model : tm.string().or(tm.literal(\"text-embedding-ada-002\")),\n});\n\nexport type GetEmbeddingRequestBody = tm2.ExpectedInputOf<typeof getEmbeddingRequestBody>;\n\nexport const getEmbeddingResponseBody = tm.object({\n    data : tm.array(tm.object({\n        embedding : tm.array(tm.finiteNumber()),\n        index : tm.finiteNumber(),\n        object : tm.literal(\"embedding\"),\n    })),\n    object : tm.string(),\n    model : tm.string(),\n    usage : tm.object({\n        prompt_tokens : tm.integer(),\n        total_tokens : tm.integer(),\n    }),\n});\n","export * from \"./chat\";\nexport * from \"./embedding\";\nexport * from \"./model\";\nexport * from \"./text-generation\";\nexport * from \"./tokenizer\";\n","import * as tm from \"type-mapping/fluent\";\n\n/**\n * https://platform.openai.com/docs/api-reference/models/object\n */\nexport const model = tm.object({\n    id : tm.string(),\n\n    created : tm.finiteNumber(),\n\n    object : tm.literal(\"model\"),\n\n    owned_by : tm.string(),\n});\n\nexport const modelListResponseBody = tm.object({\n    object : tm.literal(\"list\"),\n    data : tm.array(model),\n});","import * as tm from \"type-mapping\";\n\n/**\n * https://beta.openai.com/docs/api-reference/completions/create\n */\nexport const textGenerationRequestBody = tm.object({\n    prompt : tm.stringLength({\n        min : 1,\n    }),\n    max_tokens : tm.range({\n        gtEq : 16,\n        ltEq : 64,\n    }),\n    temperature : tm.range({\n        gtEq : 0.0,\n        ltEq : 1.0,\n    }),\n});\n\n/**\n * https://beta.openai.com/docs/api-reference/completions/create\n */\nexport const textGenerationResponseBody = tm.object({\n    id : tm.string(),\n    object : tm.string(),\n    created : tm.integer(),\n    model : tm.string(),\n    choices : tm.array(tm.object({\n        text : tm.string(),\n        index : tm.integer(),\n        finish_reason : tm.string(),\n    })),\n});\n","import * as tm from \"type-mapping/fluent\";\nimport * as tm2 from \"type-mapping\";\n\nexport const tokenizerTokenLengthRequestBody = tm.object({\n    text : tm.string(),\n});\n\nexport type TokenizerTokenLengthRequestBody = tm2.ExpectedInputOf<typeof tokenizerTokenLengthRequestBody>;\n\nexport const tokenizerTokenLengthResponseBody = tm.object({\n    length : tm.integer(),\n});\n","import * as rd from \"route-declaration\";\nimport * as rc from \"route-client\";\nimport * as m from \"../api-openai-mapper\";\n\n/**\n * https://platform.openai.com/docs/api-reference/chat/create\n */\nconst completeChat = rd.route()\n    .append(\"/v1/chat/completions\")\n    .setBody(m.chatCompleteRequestBody)\n    .setResponse(m.chatCompleteResponseBody);\n\nexport const ChatApi = rc.toAxiosApi({\n    complete: completeChat,\n});\n\nexport type ChatApi = InstanceType<typeof ChatApi>;\n","import * as rd from \"route-declaration\";\nimport * as rc from \"route-client\";\nimport * as m from \"../api-openai-mapper\";\n\nconst getEmbedding = rd.route()\n    .append(\"/v1/embeddings\")\n    .setBody(m.getEmbeddingRequestBody)\n    .setResponse(m.getEmbeddingResponseBody);\n\nexport const EmbeddingApi = rc.toAxiosApi({\n    getEmbedding,\n});\n\nexport type EmbeddingApi = InstanceType<typeof EmbeddingApi>;\n","export * from \"./openai-api\";\nexport * from \"./chat\";\nexport * from \"./embedding\";\nexport * from \"./text-generation\";\n","import * as rd from \"route-declaration\";\nimport * as rc from \"route-client\";\nimport * as m from \"../api-openai-mapper\";\n\n/**\n * https://platform.openai.com/docs/api-reference/models/list\n */\nconst list = rd.route()\n    .append(\"/v1/models\")\n    .setResponse(m.modelListResponseBody);\n\nexport const ModelApi = rc.toAxiosApi({\n    list: list,\n});\n\nexport type ModelApi = InstanceType<typeof ModelApi>;\n","import { AxiosApiArgs } from \"route-client\";\nimport { ChatApi } from \"./chat\";\nimport { EmbeddingApi } from \"./embedding\";\nimport { ModelApi } from \"./model\";\nimport { TextGenerationApi } from \"./text-generation\";\nimport { TokenizerApi } from \"./tokenizer\";\n\nexport interface OpenAiApiArgs extends AxiosApiArgs {\n    apiKey : string,\n}\n\nexport class OpenAiApi {\n    readonly chat : ChatApi;\n    readonly embedding : EmbeddingApi;\n    readonly model : ModelApi;\n    readonly textGeneration : TextGenerationApi;\n    readonly tokenizer : TokenizerApi;\n\n    constructor (args : OpenAiApiArgs) {\n        const myArgs : AxiosApiArgs = {\n            ...args,\n            onInjectHeader : () => {\n                return {\n                    Authorization : `Bearer ${args.apiKey}`,\n                };\n            }\n        }\n        const defaultTimeout = 240 * 1000;\n        this.chat = new ChatApi(myArgs);\n        this.chat.sender.axiosInstance.defaults.timeout = defaultTimeout;\n        this.embedding = new EmbeddingApi(myArgs);\n        this.embedding.sender.axiosInstance.defaults.timeout = defaultTimeout;\n        this.model = new ModelApi(myArgs);\n        this.model.sender.axiosInstance.defaults.timeout = defaultTimeout;\n        this.textGeneration = new TextGenerationApi(myArgs);\n        this.textGeneration.sender.axiosInstance.defaults.timeout = defaultTimeout;\n        this.tokenizer = new TokenizerApi(myArgs);\n        this.tokenizer.sender.axiosInstance.defaults.timeout = defaultTimeout;\n    }\n}\n","import * as rd from \"route-declaration\";\nimport * as rc from \"route-client\";\nimport * as m from \"../api-openai-mapper\";\nimport * as tm from \"type-mapping\";\n\nconst generate = rd.route()\n    .append(\"/v1/engines\")\n    .appendParam(\"engine_id\")\n    .append(\"/completions\")\n    .setParam(tm.object({\n        engine_id : tm.string(),\n    }))\n    .setBody(m.textGenerationRequestBody)\n    .setResponse(m.textGenerationResponseBody);\n\nexport const TextGenerationApi = rc.toAxiosApi({\n    generate,\n});\n\nexport type TextGenerationApi = InstanceType<typeof TextGenerationApi>;\n","import * as rd from \"route-declaration\";\nimport * as rc from \"route-client\";\nimport * as m from \"../api-openai-mapper\";\n\nconst tokenLength = rd.route()\n    .append(\"/v1/tokenizer/token-length\")\n    .setBody(m.tokenizerTokenLengthRequestBody)\n    .setResponse(m.tokenizerTokenLengthResponseBody);\n\nexport const TokenizerApi = rc.toAxiosApi({\n    tokenLength,\n});\n\nexport type TokenizerApi = InstanceType<typeof TokenizerApi>;\n","import * as React from \"react\";\nimport * as localStorageUtil from \"./local-storage-util\";\n\nexport function ApiKeyPage () {\n    const [\n        openAiApiKey,\n        setOpenAiApikey,\n    ] = React.useState(localStorageUtil.getItem(localStorageUtil.LocalStorageKey.OPEN_AI_API_KEY) ?? \"\");\n    return <div className=\"ui main container form\">\n        <div className=\"field\">\n            <label>Open AI API Key</label>\n            <input\n                type=\"text\"\n                value={openAiApiKey}\n                onChange={(evt) => {\n                    setOpenAiApikey(evt.target.value);\n                }}\n            />\n        </div>\n        <button className=\"ui primary button\" onClick={() => {\n            localStorageUtil.setItem(\n                localStorageUtil.LocalStorageKey.OPEN_AI_API_KEY,\n                openAiApiKey\n            );\n            alert(\"Saved API Key\");\n        }}>\n            Save\n        </button>\n    </div>\n}","import * as React from \"react\";\nimport {useDropdown} from \"./use-dropdown\";\nimport {HashRouter, Switch, Route, Link} from \"react-router-dom\";\n//import {DefaultMenu} from \"./DefaultMenu\";\n\nimport {HomePage} from \"./HomePage\";\n//import { Conversation, Story } from \"./route\";\nimport { OpenAiApi } from \"../api-openai\";\nimport { DefaultMenu } from \"./DefaultMenu\";\nimport { ApiKeyPage } from \"./ApiKeyPage\";\nimport { FunctionToolListPage } from \"./FunctionToolListPage\";\nimport { FunctionToolEditPage } from \"./FunctionToolEditPage\";\nimport { ConversationListPage } from \"./ConversationListPage\";\nimport { ConversationEditPage } from \"./ConversationEditPage\";\nimport { ModelListPage } from \"./ModelListPage\";\nimport { SelfDiscoverListPage } from \"./self-discover/SelfDiscoverListPage\";\nimport { SelfDiscoverEditPage } from \"./self-discover/SelfDiscoverEditPage\";\n\n\nexport interface Props {\n    openAiApi : OpenAiApi,\n}\nexport interface State {\n}\nexport function App (_props : Props) {\n    const sidebar = useDropdown({\n        openClassName : \"uncover visible\",\n        closeClassName : \"uncover animating\",\n    });\n\n    // const storyComponent = React.useRef(() => <Story openAiApi={props.openAiApi}/>);\n    // const conversationComponent = React.useRef(() => <Conversation openAiApi={props.openAiApi}/>);\n\n    return (\n        <HashRouter>\n            <div id=\"main-sidebar\" className={sidebar.className(\"ui sidebar inverted vertical massive menu left overlay\")}>\n                <Link className=\"item\" to=\"/\">\n                    Home\n                </Link>\n                <div className=\"item\">\n                    Lists\n                    <div className=\"menu\">\n                        <Link className=\"ui item\" to={`/list`}>All Lists</Link>\n                    </div>\n                </div>\n                <div className=\"item\">\n                    Search\n                    <div className=\"menu\">\n                        {/* <Link className=\"ui item\" to={(location) => {\n                            return `/search${QueryUtil.pickSearch(\n                                location.search,\n                                \"searchId\",\n                                \"atVersion\",\n                                \"rowsPerPage\"\n                            )}`;\n                        }}>\n                            Search\n                        </Link>\n                        <Link className=\"ui item\" to={(location) => {\n                            return `/randomizer-1p${QueryUtil.pickSearch(\n                                location.search,\n                                \"atVersion\"\n                            )}`;\n                        }}>\n                            Randomizer 1P\n                        </Link>\n                        <Link className=\"ui item\" to={(location) => {\n                            return `/randomizer-2p${QueryUtil.pickSearch(\n                                location.search,\n                                \"atVersion\"\n                            )}`;\n                        }}>\n                            Randomizer 2P\n                        </Link>\n                        {/* TODO Properly credit NXI for the idea * /}\n                        <Link className=\"ui item\" to={(location) => {\n                            return `/staircase-challenge${QueryUtil.pickSearch(\n                                location.search,\n                                \"atVersion\"\n                            )}`;\n                        }}>\n                            Staircase Challenge\n                        </Link> */}\n                        {/* <Link className=\"ui item\" to={`/search/preset`}>\n                            Presets\n                        </Link> */}\n                    </div>\n                </div>\n                <div className=\"item\">\n                    Settings\n                    <div className=\"menu\">\n                        <Link className=\"ui item\" to={`/api-key`}>API Key</Link>\n                        <Link className=\"ui item\" to={`/function-tool`}>Function Tools</Link>\n                        <Link className=\"ui item\" to={`/model`}>Models</Link>\n                        <Link className=\"ui item\" to={`/conversation`}>Conversations</Link>\n                        <Link className=\"ui item\" to={`/self-discover`}>Self-Discovers</Link>\n                    </div>\n                </div>\n            </div>\n            <div className=\"\" style={{height:\"100%\"}}>\n                <DefaultMenu\n                    sidebarHook={sidebar}\n                />\n                <Switch>\n                    {/* <Route path=\"/story\" component={storyComponent.current}/>\n                    <Route path=\"/conversation\" component={conversationComponent.current}/> */}\n\n                    <Route path=\"/api-key\" component={ApiKeyPage}/>\n                    <Route path=\"/function-tool/:uuid/edit\" component={FunctionToolEditPage}/>\n                    <Route path=\"/function-tool\" component={FunctionToolListPage}/>\n                    <Route path=\"/model\" component={() => <ModelListPage openAiApi={_props.openAiApi}/>}/>\n                    <Route path=\"/conversation/:uuid/edit\" component={() => <ConversationEditPage openAiApi={_props.openAiApi}/>}/>\n                    <Route path=\"/conversation\" component={ConversationListPage}/>\n                    <Route path=\"/self-discover/:uuid/edit\" component={() => <SelfDiscoverEditPage openAiApi={_props.openAiApi}/>}/>\n                    <Route path=\"/self-discover\" component={SelfDiscoverListPage}/>\n                    <Route path=\"/\" component={HomePage}/>\n                </Switch>\n                {/*<div className=\"ui vertical footer segment\">\n                    <div className=\"ui center aligned container\">\n                        <div className=\"ui stackable grid\">\n                            <div className=\"sixteen wide column\">\n                                <h4 className=\"ui header\">Made with <i className=\"heart icon\"></i></h4>\n                                <p>\n                                    -TODO- Add Credits\n                                </p>\n                            </div>\n                        </div>\n                    </div>\n                </div>*/}\n            </div>\n        </HashRouter>\n    );\n}\n","import * as React from \"react\";\nimport { AssistantToolCallMessage, ToolCall } from \"./local-storage-util\";\nimport { ToolCallListForm } from \"./ToolCallListForm\";\n\nexport interface AssistantToolCallMessageFormProps {\n    message : AssistantToolCallMessage;\n    onChange : (newMessage : AssistantToolCallMessage, oldMessage : AssistantToolCallMessage) => void;\n    onAddResponse : (toolCall : ToolCall) => void;\n}\n\nexport function AssistantToolCallMessageForm (props : AssistantToolCallMessageFormProps) {\n    const {\n        message,\n        onChange,\n        onAddResponse,\n    } = props;\n    return <div className=\"ui form\">\n        <ToolCallListForm\n            toolCalls={message.tool_calls}\n            onChange={(newToolCalls) => {\n                onChange({\n                    ...message,\n                    tool_calls : newToolCalls,\n                    tokenCount : undefined,\n                }, message);\n            }}\n            onAddResponse={(toolCall) => {\n                onAddResponse(toolCall);\n            }}\n        />\n    </div>\n}","import * as React from \"react\";\nimport * as localStorageUtil from \"./local-storage-util\";\nimport { ErrorMessage } from \"./ErrorMessage\";\n//import * as openAiMapper from \"../api-openai-mapper\";\n\nexport interface RawChatRequestConfig {\n    model : string,\n    temperature : number,\n    max_tokens : number,\n    stop : string,\n    top_p : number,\n    frequency_penalty : number,\n    presence_penalty : number,\n    response_format : {\n        type : typeof responseFormatTypes[number],\n    },\n}\n\nexport const responseFormatTypes = [\n    \"text\",\n    \"json_object\",\n] as const;\n\nexport interface ChatRequestConfigUxProps {\n    config : RawChatRequestConfig;\n\n    onConfigChange : (newConfig : RawChatRequestConfig) => void;\n}\n\nexport function ChatRequestConfigUx (props : ChatRequestConfigUxProps) {\n    const {\n        config,\n        onConfigChange,\n    } = props;\n    const [\n        models,\n        //setModels,\n    ] = React.useState(() => {\n        return localStorageUtil.loadModels().filter(model => model.id.startsWith(\"gpt\"));\n    });\n\n    return <div className=\"ui form\">\n        <div className=\"field\">\n            <label>Model</label>\n            <select\n                value={config.model}\n                onChange={(evt) => {\n                    onConfigChange({\n                        ...config,\n                        model : evt.target.value,\n                    });\n                }}\n            >\n                <option key={\"none\"} value={\"\"} disabled>\n                    Select a Model\n                </option>\n                {models.map(model => {\n                    return <option key={model.id} value={model.id}>\n                        {model.id} - ({new Date(model.created * 1000).toISOString()})\n                    </option>\n                })}\n            </select>\n        </div>\n        <div className=\"field\">\n            <label\n                data-tooltip=\"When using JSON mode, you must also instruct the model to produce JSON yourself via a system or user message.\"\n                data-position=\"top left\"\n                data-inverted\n            >\n                Response Format <i className=\"question circle icon\"></i>\n            </label>\n            <select\n                value={config.response_format.type}\n                onChange={(evt) => {\n                    onConfigChange({\n                        ...config,\n                        response_format : {\n                            type : evt.target.value as typeof responseFormatTypes[number],\n                        },\n                    });\n                }}\n            >\n                {responseFormatTypes.map(responeFormatType => {\n                    return <option key={responeFormatType} value={responeFormatType}>\n                        {responeFormatType}\n                    </option>\n                })}\n            </select>\n            {\n                config.response_format.type == \"json_object\" ?\n                <ErrorMessage\n                    error={{\n                        messages : [\n                            \"When using JSON mode, you must also instruct the model to produce JSON yourself via a system or user message.\",\n                            \"Without this, the model may generate an unending stream of whitespace until the generation reaches the token limit, resulting in a long-running and seemingly \\\"stuck\\\" request.\",\n                            \"Also note that the message content may be partially cut off if finish_reason=\\\"length\\\", which indicates the generation exceeded max_tokens or the conversation exceeded the max context length.\",\n                        ],\n                        type : \"warning\",\n                    }}\n                /> :\n                undefined\n            }\n        </div>\n        <div className=\"field\">\n            <label>Temperature</label>\n            <small>\n                What sampling temperature to use, between 0 and 2.\n                <br/>Higher values like 0.8 will make the output more random, while lower values like 0.2 will make it more focused and deterministic.\n                <br/>We generally recommend altering this or top_p but not both.\n            </small>\n            <input\n                type=\"number\"\n                min=\"0\"\n                max=\"2\"\n                step=\"0.01\"\n                value={config.temperature}\n                onChange={(evt) => {\n                    onConfigChange({\n                        ...config,\n                        temperature : Number(evt.target.value),\n                    });\n                }}\n            />\n        </div>\n        <div className=\"field\">\n            <label>Max Output Tokens</label>\n            <small>\n                The maximum number of tokens that can be generated in the chat completion.\n            </small>\n            <input\n                type=\"number\"\n                min=\"1\"\n                max=\"4096\"\n                step=\"1\"\n                value={config.max_tokens}\n                onChange={(evt) => {\n                    onConfigChange({\n                        ...config,\n                        max_tokens : Number(evt.target.value),\n                    });\n                }}\n            />\n        </div>\n        <div className=\"field\">\n            <label>Stop Sequences</label>\n            <small>\n                Up to 4 sequences where the API will stop generating further tokens.\n            </small>\n            <input\n                type=\"text\"\n                placeholder={`A JSON string or JSON array: \"test\" or [\"day\", \"night\"]`}\n                value={config.stop}\n                onChange={(evt) => {\n                    onConfigChange({\n                        ...config,\n                        stop : evt.target.value,\n                    });\n                }}\n            />\n        </div>\n        <div className=\"field\">\n            <label>Top P</label>\n            <small>\n                An alternative to sampling with temperature, called nucleus sampling, where the model considers the results of the tokens with top_p probability mass.\n                <br/>So 0.1 means only the tokens comprising the top 10% probability mass are considered.\n                <br/>We generally recommend altering this or temperature but not both.\n            </small>\n            <input\n                type=\"number\"\n                min=\"0\"\n                max=\"1\"\n                step=\"0.01\"\n                value={config.top_p}\n                onChange={(evt) => {\n                    onConfigChange({\n                        ...config,\n                        top_p : Number(evt.target.value),\n                    });\n                }}\n            />\n        </div>\n        <div className=\"field\">\n            <label>Frequency Penalty</label>\n            <small>\n                Number between -2.0 and 2.0.\n                Positive values penalize new tokens based on their existing frequency in the text so far,\n                decreasing the model's likelihood to repeat the same line verbatim.\n            </small>\n            <input\n                type=\"number\"\n                min=\"-2\"\n                max=\"2\"\n                step=\"0.01\"\n                value={config.frequency_penalty}\n                onChange={(evt) => {\n                    onConfigChange({\n                        ...config,\n                        frequency_penalty : Number(evt.target.value),\n                    });\n                }}\n            />\n        </div>\n        <div className=\"field\">\n            <label>Presence Penalty</label>\n            <small>\n                Number between -2.0 and 2.0.\n                Positive values penalize new tokens based on whether they appear in the text so far,\n                increasing the model's likelihood to talk about new topics.\n            </small>\n            <input\n                type=\"number\"\n                min=\"-2\"\n                max=\"2\"\n                step=\"0.01\"\n                value={config.presence_penalty}\n                onChange={(evt) => {\n                    onConfigChange({\n                        ...config,\n                        presence_penalty : Number(evt.target.value),\n                    });\n                }}\n            />\n        </div>\n    </div>\n}","import * as React from \"react\";\nimport { AssistantMessage, Message, SystemMessage, UserMessage } from \"./local-storage-util\";\n\nexport type ContentMessage =\n    | SystemMessage\n    | UserMessage\n    | AssistantMessage\n\nconst contentMessageTypes = [\n    \"system\",\n    \"user\",\n    \"assistant\",\n] as Message[\"messageType\"][];\n\nexport function isContentMessage (m : Message) : m is ContentMessage {\n    return contentMessageTypes.includes(m.messageType);\n}\n\nexport interface ContentMessageFormProps {\n    message : ContentMessage,\n    onChange : (newMessage : ContentMessage, oldMessage : ContentMessage) => void;\n}\n\nexport function ContentMessageForm (props : ContentMessageFormProps) {\n    return <div className=\"ui form\">\n        <textarea\n            style={{\n                minHeight : \"8em\",\n                maxHeight : \"48em\",\n            }}\n            value={props.message.content}\n            onChange={(evt) => {\n                props.onChange({\n                    ...props.message,\n                    content : evt.target.value,\n                    tokenCount : undefined,\n                }, props.message);\n            }}\n        />\n    </div>\n}","import * as React from \"react\";\nimport * as reactRouter from \"react-router-dom\";\nimport * as uuid from \"uuid\";\nimport * as classNames from \"classnames\";\nimport * as gptTokenizer from \"gpt-tokenizer\";\nimport { OpenAiApi } from \"../api-openai\";\nimport * as localStorageUtil from \"./local-storage-util\";\nimport { ChatRequestConfigUx } from \"./ChatRequestConfigUx\";\nimport { FunctionToolList } from \"./FunctionToolList\";\nimport { MessageListForm } from \"./MessageListForm\";\nimport { FunctionTool } from \"./FunctionToolForm\";\nimport { tools as toolsMapper, chatMessage as chatMessageMapper, ChatCompleteRequestBody, ChatMessage } from \"../api-openai-mapper\";\nimport { cleanObject } from \"../json-schema-editor\";\nimport { useError } from \"./use-error\";\nimport { ErrorMessage } from \"./ErrorMessage\";\nimport { handleError } from \"./error-handling\";\n\nfunction toMessage (m : ChatMessage) : localStorageUtil.Message {\n    switch (m.role) {\n        case \"system\": {\n            return {\n                uuid : uuid.v4(),\n                messageType : \"system\",\n                role : m.role,\n                content : m.content,\n            };\n        }\n        case \"user\": {\n            return {\n                uuid : uuid.v4(),\n                messageType : \"user\",\n                role : m.role,\n                content : m.content,\n            };\n        }\n        case \"assistant\": {\n            if (\"tool_calls\" in m) {\n                return {\n                    uuid : uuid.v4(),\n                    messageType : \"assistant_tool_call\",\n                    role : m.role,\n                    tool_calls : m.tool_calls,\n                };\n            } else {\n                return {\n                    uuid : uuid.v4(),\n                    messageType : \"assistant\",\n                    role : m.role,\n                    content : m.content,\n                };\n            }\n        }\n        case \"tool\": {\n            return {\n                uuid : uuid.v4(),\n                messageType : \"tool_response\",\n                role : m.role,\n                tool_call_id : m.tool_call_id,\n                name : m.name,\n                content : m.content,\n            };\n        }\n    }\n}\n\nfunction parseStop (str : string) : string[]|undefined {\n    if (str.trim() == \"\") {\n        return undefined;\n    }\n    try {\n        const result = JSON.parse(str);\n        if (typeof result == \"string\") {\n            return [result];\n        } else {\n            return result as string[];\n        }\n    } catch (err) {\n        console.warn(err);\n        return undefined;\n    }\n}\n\nfunction parseFunctionTools (\n    conversation : localStorageUtil.Conversation,\n    functionTools : FunctionTool[],\n) : ChatCompleteRequestBody[\"tools\"] {\n    const result = functionTools\n        .filter(f => {\n            return Object.prototype.hasOwnProperty.call(conversation.usedFunctions, f.uuid) ?\n                conversation.usedFunctions[f.uuid] ?? false :\n                false;\n        })\n        .map(f => {\n            return {\n                type : \"function\" as const,\n                function : {\n                    name : f.name,\n                    description : f.description,\n                    parameters : {\n                        ...cleanObject(f.parameters),\n                    },\n                },\n            };\n        });\n        \n    return result.length == 0 ?\n        undefined :\n        toolsMapper(\"parseFunctionTools\", result);\n}\n\nfunction parseMessages (messages : localStorageUtil.Message[]) {\n    return messages.map((m, i) => {\n        return chatMessageMapper(`parseMessages[${i}]`, m);\n    });\n}\n\nexport async function submitConversation (\n    openAiApi : OpenAiApi,\n    conversation : localStorageUtil.Conversation,\n    functionTools : FunctionTool[],\n) : Promise<localStorageUtil.Conversation> {\n    const parsedStop = parseStop(conversation.rawChatRequestConfig.stop);\n    const response = await openAiApi.chat.complete()\n        .setBody({\n            model : conversation.rawChatRequestConfig.model,\n            messages : parseMessages(conversation.messages),\n\n            tools : parseFunctionTools(conversation, functionTools),\n            tool_choice : undefined,\n\n            temperature : conversation.rawChatRequestConfig.temperature,\n            top_p : conversation.rawChatRequestConfig.top_p,\n\n            /**\n             * How many chat completion choices to generate for each input message.\n             * Note that you will be charged based on the number of generated tokens across all of the choices.\n             * Keep n as 1 to minimize costs.\n             */\n            n : undefined,\n            stream : false,\n            stop : parsedStop,\n            max_tokens : conversation.rawChatRequestConfig.max_tokens,\n            presence_penalty : conversation.rawChatRequestConfig.presence_penalty,\n            frequency_penalty : conversation.rawChatRequestConfig.frequency_penalty,\n            logit_bias : undefined,\n            response_format : conversation.rawChatRequestConfig.response_format,\n            user : undefined,\n        })\n        .send();\n    if (response.responseBody.choices.length != 1) {\n        console.error(response.responseBody);\n        throw new Error(`Expected 1 choice, found ${response.responseBody.choices.length}`);\n    }\n    const choice = response.responseBody.choices[0];\n    return {\n        ...conversation,\n        messages : [\n            ...conversation.messages,\n            toMessage(choice.message),\n        ],\n    };\n}\n\nexport interface ConversationEditPageProps {\n    openAiApi : OpenAiApi,\n}\n\nexport function ConversationEditPage (props : ConversationEditPageProps) {\n    const routeParams = reactRouter.useParams() as { uuid : string };\n    const [\n        conversation,\n        setConversation,\n    ] = React.useState(localStorageUtil.loadConversation(routeParams.uuid));\n    const functionTools = React.useMemo(() => {\n        return localStorageUtil.loadFunctionTools();\n    }, []);\n    const [isLoading, setIsLoading] = React.useState(false);\n    const error = useError();\n\n    React.useEffect(\n        () => {\n            if (conversation == undefined) {\n                return;\n            }\n            const timer = setTimeout(() => {\n                //localStorageUtil.loadConversation(conversation.uuid);\n                localStorageUtil.saveConversation(conversation);\n                const lastMessage = conversation.messages.length > 0 ?\n                    conversation.messages[conversation.messages.length-1] :\n                    undefined;\n                const meta = localStorageUtil.loadConversationsMeta().map((m) : localStorageUtil.ConversationMeta => {\n                    return m.uuid == conversation.uuid ?\n                        {\n                            uuid : conversation.uuid,\n                            name : conversation.name,\n                            description : conversation.description,\n                            lastMessage : lastMessage == undefined ?\n                                \"\" :\n                                \"content\" in lastMessage ?\n                                lastMessage.content.substring(0, 100) :\n                                lastMessage.messageType,\n                        } :\n                        m\n                });\n                localStorageUtil.saveConversationsMeta(meta);\n            }, 1000);\n            return () => clearTimeout(timer);\n        },\n        [conversation]\n    );\n\n    React.useEffect(\n        () => {\n            const timeout = setTimeout(\n                () => {\n                    if (conversation == undefined) {\n                        return;\n                    }\n                    let tokenized = false;\n                    const newConversation : localStorageUtil.Conversation = {\n                        ...conversation,\n                        messages : conversation.messages.map(m => {\n                            if (m.tokenCount != undefined) {\n                                return m;\n                            }\n\n                            if (m.messageType == \"tool_response\") {\n                                tokenized = true;\n                                return {\n                                    ...m,\n                                    tokenCount : gptTokenizer.encode(JSON.stringify({\n                                        tool_call_id : m.tool_call_id,\n                                        name : m.name,\n                                        content : m.content,\n                                    })).length,\n                                };\n                            }\n\n                            if (\"content\" in m) {\n                                tokenized = true;\n                                return {\n                                    ...m,\n                                    tokenCount : gptTokenizer.encode(m.content).length,\n                                };\n                            }\n\n                            if (\"tool_calls\" in m) {\n                                tokenized = true;\n                                return {\n                                    ...m,\n                                    tokenCount : gptTokenizer.encode(JSON.stringify(m.tool_calls)).length,\n                                };\n                            }\n\n                            return m;\n                        }),\n                    };\n                    if (tokenized) {\n                        setConversation(newConversation);\n                    }\n                },\n                500\n            );\n            return () => clearTimeout(timeout);\n        },\n        [conversation?.messages.map(m => m.tokenCount).join(\",\") ?? \"\"]\n    );\n\n    if (conversation == undefined) {\n        return <div className=\"ui main container\">\n            Conversation {routeParams.uuid} not found\n        </div>\n    }\n\n    return <div className=\"ui main container\">\n        <div className=\"ui form\">\n            <div className=\"two fields\">\n                <div className=\"field\">\n                    <label>Title</label>\n                    <input\n                        placeholder=\"Enter a Conversation Title\"\n                        value={conversation.name}\n                        onChange={(evt) => {\n                            setConversation({\n                                ...conversation,\n                                name : evt.target.value,\n                            });\n                        }}\n                    />\n                </div>\n                <div className=\"field\">\n                    <label>Description</label>\n                    <input\n                        placeholder=\"Enter a Conversation Description\"\n                        value={conversation.description}\n                        onChange={(evt) => {\n                            setConversation({\n                                ...conversation,\n                                description : evt.target.value,\n                            });\n                        }}\n                    />\n                </div>\n            </div>\n            <div className=\"ui mini label\">~{conversation.messages.reduce(\n                (sum, m) => {\n                    return sum + (m.tokenCount ?? 0);\n                },\n                0\n            )} tokens</div>\n        </div>\n        <MessageListForm\n            messages={conversation.messages}\n            onChange={(newMessages) => {\n                setConversation({\n                    ...conversation,\n                    messages : newMessages,\n                });\n            }}\n        />\n        <div className=\"ui segment\">\n            <ErrorMessage\n                error={error}\n            />\n            <button className=\"ui primary button\" onClick={() => {\n                setConversation({\n                    ...conversation,\n                    messages : [\n                        ...conversation.messages,\n                        {\n                            uuid : uuid.v4(),\n                            messageType : \"user\",\n                            role : \"user\",\n                            content : \"\",\n                        }\n                    ],\n                });\n            }}>\n                Add Message\n            </button>\n            <button className={classNames(\n                \"ui primary button\",\n                isLoading ? \"loading\" : undefined,\n            )} onClick={() => {\n                if (isLoading) {\n                    return;\n                }\n                setIsLoading(true);\n                submitConversation(props.openAiApi, conversation, functionTools)\n                    .then(\n                        (newConversation) => {\n                            setIsLoading(false);\n                            setConversation(newConversation);\n                            error.reset();\n                        },\n                        (err) => {\n                            setIsLoading(false);\n                            handleError(error, err);\n                        }\n                    );\n            }}>\n                Submit\n            </button>\n        </div>\n        <div className=\"ui segment\">\n            <ChatRequestConfigUx\n                config={conversation.rawChatRequestConfig}\n                onConfigChange={(rawChatRequestConfig) => {\n                    setConversation({\n                        ...conversation,\n                        rawChatRequestConfig,\n                    });\n                }}\n            />\n        </div>\n        <div className=\"ui segment\">\n            {<FunctionToolList\n                functionTools={functionTools}\n                editOnClick={false}\n                rightFloatedContent={(f) => {\n                    return <div className=\"ui checkbox\" key={f.uuid}>\n                        <input\n                            type=\"checkbox\"\n                            checked={Object.prototype.hasOwnProperty.call(conversation.usedFunctions, f.uuid) ?\n                                conversation.usedFunctions[f.uuid] ?? false :\n                                false\n                            }\n                            onChange={(evt) => {\n                                setConversation({\n                                    ...conversation,\n                                    usedFunctions : {\n                                        ...conversation.usedFunctions,\n                                        [f.uuid] : evt.target.checked\n                                    },\n                                });\n                            }}\n                        />\n                        <label></label>\n                    </div>\n                }}\n            />}\n        </div>\n    </div>\n}","import * as React from \"react\";\nimport * as reactRouter from \"react-router-dom\";\nimport * as uuid from \"uuid\";\nimport * as localStorageUtil from \"./local-storage-util\";\n//import { Conversation } from \"./ConversationForm\";\n\nexport function ConversationListPage () {\n    const history = reactRouter.useHistory();\n    const [\n        conversations,\n        setConversations,\n    ] = React.useState(localStorageUtil.loadConversationsMeta());\n\n    return <div className=\"ui main container\">\n        <div className=\"ui segment divided selection massive list\">\n            {conversations.map(meta => {\n                const displayName = meta.name.trim() == \"\" ?\n                    `Conversation ${meta.uuid}` :\n                    meta.name;\n                return <div className=\"item\" key={meta.uuid} onClick={() => {\n                    history.push(`/conversation/${meta.uuid}/edit`);\n                }}>\n                    <div className=\"extra right floated\">\n                        <div className=\"ui icon secondary button\" onClick={(evt) => {\n                            evt.preventDefault();\n                            evt.stopPropagation();\n                            if (confirm(`Copy ${displayName}?`)) {\n                                const existingConversation = localStorageUtil.loadConversation(meta.uuid);\n                                if (existingConversation == undefined) {\n                                    alert(`Cannot find ${displayName} / ${meta.uuid}`);\n                                    return;\n                                }\n                                const newUuid = uuid.v4();\n                                const newConversation = {\n                                    ...existingConversation,\n                                    uuid : newUuid,\n                                    name : `Copy of ${displayName}`,\n                                };\n                                const newConversations = [\n                                    ...localStorageUtil.loadConversationsMeta(),\n                                    {\n                                        ...meta,\n                                        uuid : newUuid,\n                                        name : `Copy of ${displayName}`,\n                                    },\n                                ];\n                                setConversations(newConversations);\n                                localStorageUtil.saveConversationsMeta(newConversations);\n                                localStorageUtil.saveConversation(newConversation);\n                            }\n                        }}>\n                            <i className=\"copy icon\"></i>\n                        </div>\n                        <div className=\"ui icon red button\" onClick={(evt) => {\n                            evt.preventDefault();\n                            evt.stopPropagation();\n                            if (confirm(`Delete ${displayName}?`)) {\n                                const newConversations = localStorageUtil.loadConversationsMeta()\n                                    .filter(m => m.uuid != meta.uuid);\n                                setConversations(newConversations);\n                                localStorageUtil.saveConversationsMeta(newConversations);\n                                localStorageUtil.deleteConversation(meta);\n                            }\n                        }}>\n                            <i className=\"trash icon\"></i>\n                        </div>\n                    </div>\n                    <div className=\"content\">\n                        <div className=\"header\">\n                            {displayName}\n                        </div>\n                        <div className=\"ui mini label\">{meta.uuid}</div>\n                        {\n                            meta.description.trim() == \"\" ?\n                            <small className=\"description\">\n                                There is no description for this conversation\n                            </small> :\n                            <div className=\"description\">\n                                {meta.description}\n                            </div>\n                        }\n                        {\n                            meta.lastMessage.trim() == \"\" ?\n                            undefined :\n                            <div className=\"description one-line-ellipsis small-description\">\n                                Last Message: {meta.lastMessage}\n                            </div>\n                        }\n                    </div>\n                </div>\n            })}\n        </div>\n        <button className=\"ui primary button\" onClick={() => {\n            const conversations = localStorageUtil.loadConversationsMeta();\n            const {\n                meta,\n                conversation,\n            } = localStorageUtil.makeConversation();\n            const newConversations : localStorageUtil.ConversationMeta[] = [\n                ...conversations,\n                meta,\n            ];\n            localStorageUtil.saveConversationsMeta(newConversations);\n            localStorageUtil.saveConversation(conversation)\n            setConversations(newConversations);\n        }}>\n            Create Conversation\n        </button>\n    </div>\n}","import * as React from \"react\";\nimport {Route, RouteComponentProps} from \"react-router-dom\";\nimport {DropdownHook} from \"./use-dropdown\";\n\nexport interface DefaultMenuProps {\n    sidebarHook : DropdownHook,\n}\nexport function DefaultMenu (props : DefaultMenuProps) {\n    const [searchInput, setSearchInput] = React.useState(\"\");\n\n    //const dropdownSearch = useDropdown({});\n\n    return <Route render={({history} : RouteComponentProps<any>) => {\n        //searchId, atVersion, rowsPerPage\n        //atVersion\n        //Convenience method to pick values, stringify and prepend \"?\" character\n\n        /*const queryOnlyLanguageCode = {\n            languageCode : query.languageCode,\n        };*/\n\n        const goToSearch = () => {\n            if (/^\\s*$/.test(searchInput)) {\n                return;\n            }\n            history.push(`/search/title/${encodeURIComponent(searchInput)}`);\n        };\n\n        return (\n            <div className=\"ui fixed inverted menu\">\n                <a\n                    className=\"ui item header home-button\"\n                    onClick={props.sidebarHook.onClick}\n                    onMouseOver={props.sidebarHook.onMouseOver}\n                    ref={props.sidebarHook.ref}\n                >\n                    <span className=\"home-button-text\">\n                        <i className=\"bars icon\"></i>\n                    </span>\n                    <span className=\"mini-home-button-text\">\n                        <i className=\"bars icon\"></i>\n                    </span>\n                </a>\n                {/*\n                <div\n                    className={dropdownSearch.className(\"ui dropdown item\")}\n                    onClick={dropdownSearch.onClick}\n                    onMouseOver={dropdownSearch.onMouseOver}\n                    ref={dropdownSearch.ref}\n                >\n                    Search\n                    <div className=\"menu\">\n                        <Link className=\"ui item\" to={`/search?${QueryUtil.toString({\n                            atVersion : \"125\",\n                            display : \"CHART\",\n                            itemLink : \"false\",\n                            randomize : \"true\",\n                            rowsPerPage : \"7\",\n                            layout : \"COMPACT\",\n                            useProtectVeto : \"true\",\n                            searchId : \"N4Igzg9gdg5gYgSwDYBcCmAnA4hiBXABzBAC4BtUDNSPDAYzVJAGEBVAFRABoQUBPAoxIgAkgDkA%2BgBkRAZU48oaGAEN0pAGYqkYNDzp4UIgCbFyAJgC6AX0v6AFiowpEqTDnxFSFEFRr0hEAAlAEF2cSxuXgFA0LEsAFEopVV1Ei0dPRAAWwhjNBMzMgBGO181BFgisuzK0mKAdh5slQAPUnMABh4AN208am8yyrokPHyAERVYTE1tXWa8gtNzIZ4RscnpmExV9Pm0ay5KanwApikQgCEEqSj%2BQSZxaTkFEBS1IRQMAZ4kFQARmgkIVvMUAGxcADMABZoQBWMoQQQYCrQUHkGzHXynWgMJghAAKhISITizCSPAegWeMnkyWUnzmmV6mDACHRpjB5kRPGRmDRUAxZBsZXy6AwtSgCDAKAQdAA8hh8hhvGQQABZBUTSkgEKyZggOzqiYiOBwERsKTsACaUX1huNIHC7CkuodRq46uYYQSWAVQTtPA9TquhI19oNnvVWBCGoSEhEOrE4QtCSCkcdNiAA\",\n                        })}`}>\n                            TBD 3D: Prime\n                        </Link>\n                    </div>\n                </div>\n                */}\n                <div className=\"ui item\" style={{\n                    minWidth : \"0px\",\n                    //maxWidth : \"200px\",\n                    flex : 1,\n                }}>\n                    <form className=\"ui input\" onSubmit={(e) => {\n                        e.preventDefault();\n                        goToSearch();\n                    }}>\n                        <input\n                            type=\"text\"\n                            placeholder=\"Search...\"\n                            value={searchInput}\n                            onChange={(e) => {\n                                setSearchInput(e.target.value);\n                            }}\n                        />\n                    </form>\n                </div>\n            </div>\n        );\n    }}/>;\n}\n","import * as React from \"react\";\nimport {Link} from \"react-router-dom\";\n\nexport interface ErrorMessageProps {\n    error : {\n        messages : string[],\n        type : \"warning\"|\"negative\",\n    }\n}\nexport function ErrorMessage (props : ErrorMessageProps) {\n    const {error} = props;\n\n    if (error.messages.length == 0) {\n        return <div className=\"ui hidden message\"></div>;\n    } else {\n        return (\n            <div className={\"ui icon message \" + error.type} style={{ display : \"flex\" }}>\n                <i className=\"exclamation triangle icon\"></i>\n                <div className=\"content\">\n                    <div className=\"header\">{error.type == \"warning\" ? \"Warning\" : \"Error\"}</div>\n                    <ul className=\"list\">\n                        {\n                            error.messages.map(\n                                (message, i) => <li key={i}>{message}</li>\n                            )\n                        }\n                        {\n                            error.messages.some(msg => msg.startsWith(\"no such\")) ?\n                            <li>\n                                <Link to={\"/\"}>\n                                    Maybe peforming a local data update on the Home page will help\n                                </Link>\n                            </li> :\n                            undefined\n                        }\n                    </ul>\n                </div>\n            </div>\n        );\n    }\n}\n","import * as React from \"react\";\nimport * as reactRouter from \"react-router-dom\";\nimport * as localStorageUtil from \"./local-storage-util\";\nimport { FunctionTool, FunctionToolForm } from \"./FunctionToolForm\";\n\nexport function FunctionToolEditPage () {\n    const history = reactRouter.useHistory();\n    const routeParams = reactRouter.useParams() as { uuid : string };\n    const [\n        functionTool,\n        setFunctionTool,\n    ] = React.useState(localStorageUtil.loadFunctionTools().find(f => f.uuid == routeParams.uuid));\n\n    if (functionTool == undefined) {\n        return <div className=\"ui main container\">\n            Function Tool {routeParams.uuid} not found\n        </div>\n    }\n\n    return <div className=\"ui main container\">\n        <div className=\"ui segment\">\n            <FunctionToolForm\n                functionTool={functionTool}\n                onChange={setFunctionTool}\n            />\n        </div>\n        <button className=\"ui primary button\" onClick={() => {\n            const functionTools = localStorageUtil.loadFunctionTools();\n            const newFunctionTools : FunctionTool[] = functionTools.map(f => {\n                return f.uuid == routeParams.uuid ?\n                    functionTool :\n                    f\n            });\n            localStorageUtil.saveFunctionTools(newFunctionTools);\n            history.push(\"/function-tool\");\n        }}>\n            Save\n        </button>\n    </div>\n}","import * as React from \"react\";\nimport * as classNames from \"classnames\";\nimport * as jsonSchemaEditor from \"../json-schema-editor\";\nimport { useError } from \"./use-error\";\nimport { handleError } from \"./error-handling\";\n\nexport interface FunctionTool {\n    uuid : string,\n    name : string,\n    description : string,\n    parameters : jsonSchemaEditor.Object,\n    useJavaScriptImpl : undefined|boolean,\n    javaScriptImpl : undefined|string,\n}\n\nexport interface FunctionToolFormProps {\n    functionTool : FunctionTool;\n\n    onChange : (newFunctionTool : FunctionTool) => void;\n}\n\nexport function FunctionToolForm (props : FunctionToolFormProps) {\n    const {\n        functionTool,\n        onChange,\n    } = props;\n\n    const [testArgs, setTestArgs] = React.useState(\"\");\n    const [testOutput, setTestOutput] = React.useState(\"\");\n    const [isLoading, setIsLoading] = React.useState(false);\n    const error = useError();\n\n    return <div className=\"ui form\">\n        <div className=\"field\">\n            <label>Name</label>\n            <small>\n                The name of the function to be called. Must be a-z, A-Z, 0-9, or contain underscores and dashes, with a maximum length of 64.\n            </small>\n            <input\n                type=\"text\"\n                value={functionTool.name}\n                onChange={(evt) => {\n                    onChange({\n                        ...functionTool,\n                        name : evt.target.value,\n                    });\n                }}\n            />\n        </div>\n        <div className=\"field\">\n            <label>Description</label>\n            <small>\n                A description of what the function does, used by the model to choose when and how to call the function.\n            </small>\n            <input\n                type=\"text\"\n                value={functionTool.description}\n                onChange={(evt) => {\n                    onChange({\n                        ...functionTool,\n                        description : evt.target.value,\n                    });\n                }}\n            />\n        </div>\n        <div className=\"field\">\n            <label>Parameters</label>\n            <small>\n                The parameters the functions accepts, described as a JSON Schema object.\n                See the\n                <a href=\"https://platform.openai.com/docs/guides/text-generation/function-calling\">\n                    guide\n                </a>\n                for examples, and the\n                <a href=\"https://json-schema.org/understanding-json-schema/\">\n                    JSON Schema reference\n                </a>\n                for documentation about the format.\n\n                Omitting parameters defines a function with an empty parameter list.\n            </small>\n            <jsonSchemaEditor.ObjectEditor\n                object={functionTool.parameters}\n                onChange={(object) => {\n                    onChange({\n                        ...functionTool,\n                        parameters : object,\n                    });\n                }}\n            />\n        </div>\n        <div className=\"field\">\n            <label>Use JavaScript Implementation</label>\n            <div className=\"ui checkbox\">\n                <input\n                    type=\"checkbox\"\n                    checked={functionTool.useJavaScriptImpl || false}\n                    onChange={(evt) => {\n                        onChange({\n                            ...functionTool,\n                            useJavaScriptImpl : evt.target.checked,\n                        });\n                    }}\n                />\n                <label>Use JavaScript Implementation</label>\n            </div>\n        </div>\n        {\n            functionTool.useJavaScriptImpl ?\n            <div className=\"field\">\n                <label>JavaScript Implementation</label>\n                <textarea\n                    value={functionTool.javaScriptImpl}\n                    placeholder={`function (args) {}`}\n                    onChange={(evt) => {\n                        onChange({\n                            ...functionTool,\n                            javaScriptImpl : evt.target.value,\n                        });\n                    }}\n                />\n            </div> :\n            undefined\n        }\n        {\n            functionTool.useJavaScriptImpl ?\n            <>\n                <div className=\"field\">\n                    <label>Test Args</label>\n                    <textarea\n                        value={testArgs}\n                        onChange={(evt) => {\n                            setTestArgs(evt.target.value);\n                        }}\n                    />\n                </div>\n                <div className=\"field\">\n                    <label>Test Output</label>\n                    <textarea\n                        value={testOutput}\n                        readOnly\n                    />\n                </div>\n                <button\n                    className={classNames(\n                        \"ui primary button\",\n                        isLoading ? \"loading\" : undefined,\n                    )}\n                    onClick={() => {\n                        if (isLoading) {\n                            return;\n                        }\n                        try {\n                            const f = new Function(`return ${functionTool.javaScriptImpl}`)();\n                            const args = JSON.parse(testArgs);\n                            const promise = Promise.resolve(f(args));\n    \n                            setIsLoading(true);\n                            promise\n                                .then(\n                                    (result) : void => {\n                                        setIsLoading(false);\n                                        setTestOutput(JSON.stringify(result, null, 2));\n                                        error.reset();\n                                    },\n                                    (err) => {\n                                        setIsLoading(false);\n                                        handleError(error, err);\n                                    },\n                                );\n                        } catch (err) {\n                            setIsLoading(false);\n                            handleError(error, err);\n                        }\n                    }}\n                >\n                    Test\n                </button>\n            </> :\n            undefined\n        }\n    </div>\n}","import * as React from \"react\";\nimport * as reactRouter from \"react-router-dom\";\nimport { FunctionTool } from \"./FunctionToolForm\";\nimport classNames = require(\"classnames\");\n\nexport interface FunctionToolListProps {\n    functionTools : readonly FunctionTool[];\n    editOnClick : boolean;\n    leftFloatedContent? : (functionTool : FunctionTool) => JSX.Element;\n    rightFloatedContent? : (functionTool : FunctionTool) => JSX.Element;\n}\n\nexport function FunctionToolList (props : FunctionToolListProps) {\n    const history = reactRouter.useHistory();\n    const {\n        functionTools,\n        editOnClick,\n        leftFloatedContent,\n        rightFloatedContent,\n    } = props;\n\n    return <div className=\"ui segment divided selection massive list\">\n        {functionTools.map(f => {\n            return <div className=\"item\" key={f.uuid} onClick={() => {\n                if (!editOnClick) {\n                    return;\n                }\n                history.push(`/function-tool/${f.uuid}/edit`);\n            }}>\n                {\n                    leftFloatedContent == undefined ?\n                    undefined :\n                    <div className=\"left floated content\">\n                        {leftFloatedContent(f)}\n                    </div>\n                }\n                {\n                    rightFloatedContent == undefined ?\n                    undefined :\n                    <div className=\"right floated content\">\n                        {rightFloatedContent(f)}\n                    </div>\n                }\n                <div className=\"content\">\n                    <div className=\"header\">\n                        {\n                            f.name.trim() == \"\" ?\n                            `Function ${f.uuid}` :\n                            f.name\n                        }\n                    </div>\n                    <div className=\"ui mini label\">{f.uuid}</div>\n                    {\n                        f.parameters.properties.map(p => {\n                            return <div\n                                key={p.propertyName}\n                                className={classNames(\n                                    \"ui mini label\",\n                                    p.propertyRequired ? \"red\" : \"yellow\",\n                                )}\n                            >\n                                {p.propertyName}\n                            </div>\n                        })\n                    }\n                    {\n                        f.description.trim() == \"\" ?\n                        <small className=\"description\">\n                            There is no description for this function\n                        </small> :\n                        <div className=\"description\">\n                            {f.description}\n                        </div>\n                    }\n                </div>\n            </div>\n        })}\n    </div>\n}","import * as React from \"react\";\nimport * as uuid from \"uuid\";\nimport * as localStorageUtil from \"./local-storage-util\";\nimport { FunctionTool } from \"./FunctionToolForm\";\nimport { FunctionToolList } from \"./FunctionToolList\";\n\nexport function FunctionToolListPage () {\n    const [\n        functionTools,\n        setFunctionTools,\n    ] = React.useState(localStorageUtil.loadFunctionTools());\n\n    return <div className=\"ui main container\">\n        <FunctionToolList\n            functionTools={functionTools}\n            editOnClick={true}\n        />\n        <button className=\"ui primary button\" onClick={() => {\n            const functionTools = localStorageUtil.loadFunctionTools();\n            const newFunctionTools : FunctionTool[] = [\n                ...functionTools,\n                {\n                    uuid : uuid.v4(),\n                    name : \"\",\n                    description : \"\",\n                    parameters : {\n                        type : \"object\",\n                        required : [],\n                        properties : [],\n                    },\n                    useJavaScriptImpl : undefined,\n                    javaScriptImpl : undefined,\n                },\n            ];\n            localStorageUtil.saveFunctionTools(newFunctionTools);\n            setFunctionTools(newFunctionTools);\n        }}>\n            Create Function Tool\n        </button>\n    </div>\n}","import * as React from \"react\";\nimport * as classnames from \"classnames\";\nimport {localStorageSupported, kbUsed} from \"./local-storage-util\";\n\nconst supportedLabel = (supported : boolean) => {\n    return (\n        <span className={classnames(\n            \"ui mini label\",\n            supported ? \"green\" : \"red\"\n        )}>\n            {supported ? \"Supported\" : \"Not Supported\"}\n        </span>\n    );\n};\nexport interface HomePageProps {\n}\n\nexport const HomePage = (_props : HomePageProps) => {\n    return (\n        <div className=\"ui main container\">\n            <h1 className=\"ui dividing header\">Chat GPT Playground</h1>\n\n            <p>\n                \n            </p>\n\n            <p>\n                \n            </p>\n\n            <hr/>\n\n            <hr/>\n\n            Browser information.\n\n            <table className=\"ui celled unstackable table\">\n                <thead>\n                    <tr>\n                        <th>\n                            Browser API\n                        </th>\n                        <th>\n                            Your Browser\n                        </th>\n                    </tr>\n                </thead>\n                <tbody>\n                    <tr>\n                        <td>\n                            <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage\">\n                                Local Storage\n                            </a>\n                        </td>\n                        <td>\n                            {supportedLabel(localStorageSupported())}\n                            <br/>\n                            {kbUsed()} KB used\n                        </td>\n                    </tr>\n                    <tr>\n                        <td>\n                            <a href=\"https://developer.mozilla.org/en-US/docs/WebAssembly\">\n                                Web Assembly\n                            </a>\n                        </td>\n                        <td>\n                            {supportedLabel(typeof WebAssembly !== \"undefined\")}\n                        </td>\n                    </tr>\n                    <tr>\n                        <td>\n                            <a href=\"https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API\">\n                                Web Workers\n                            </a>\n                        </td>\n                        <td>\n                            {supportedLabel(typeof Worker !== \"undefined\")}\n                        </td>\n                    </tr>\n                    <tr>\n                        <td>\n                            <a href=\"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt\">\n                                BigInt\n                            </a>\n                        </td>\n                        <td>\n                            {\n                                //eslint-disable-next-line local/polyfilled-bigint\n                                supportedLabel(typeof BigInt(0) == \"bigint\")\n                            }\n                            <br/>\n                            (Polyfilled if not supported)\n                        </td>\n                    </tr>\n                </tbody>\n            </table>\n\n            <hr/>\n\n            <div style={{\n                paddingTop : \"30px\",\n            }}>\n            </div>\n        </div>\n    );\n};\n","import * as React from \"react\";\nimport { Message, ToolCall, isAssistantToolCallMessage } from \"./local-storage-util\";\nimport { ContentMessageForm, isContentMessage } from \"./ContentMessageForm\";\nimport { AssistantToolCallMessageForm } from \"./AssistantToolCallMessageForm\";\nimport { ToolResponseMessageForm } from \"./ToolResponseMessageForm\";\n\nexport interface MessageFormProps {\n    messages : readonly Message[];\n    message : Message;\n    onChange : (newMessage : Message, oldMessage : Message) => void;\n    onRemove : (message : Message) => void;\n    onMoveUp : (message : Message) => void;\n    onMoveDown : (message : Message) => void;\n    onAddResponse : (toolCalls : ToolCall[]) => void;\n}\n\nconst messageTypes = [\n    \"system\",\n    \"user\",\n    \"assistant\",\n    \"assistant_tool_call\",\n    \"tool_response\",\n] as const;\n\nexport function MessageForm (props : MessageFormProps) {\n    const {\n        messages,\n        message,\n        onChange,\n        onRemove,\n        onMoveUp,\n        onMoveDown,\n        onAddResponse,\n    } = props;\n    return <div className=\"item\">\n        <div className=\"ui form\">\n            <div className=\"two fields\">\n                <div className=\"field\">\n                    <label>Message Type</label>\n                    <select\n                        value={message.messageType}\n                        onChange={(evt) => {\n                            const messageType = evt.target.value as Message[\"messageType\"];\n                            switch (messageType) {\n                                case \"system\": {\n                                    onChange({\n                                        ...message,\n                                        messageType,\n                                        role : \"system\",\n                                        content : \"content\" in message ?\n                                            message.content :\n                                            \"\",\n                                        tokenCount : undefined,\n                                    }, message);\n                                    break;\n                                }\n                                case \"user\": {\n                                    onChange({\n                                        ...message,\n                                        messageType,\n                                        role : \"user\",\n                                        content : \"content\" in message ?\n                                            message.content :\n                                            \"\",\n                                        tokenCount : undefined,\n                                    }, message);\n                                    break;\n                                }\n                                case \"assistant\": {\n                                    onChange({\n                                        ...message,\n                                        messageType,\n                                        role : \"assistant\",\n                                        content : \"content\" in message ?\n                                            message.content :\n                                            \"\",\n                                        tokenCount : undefined,\n                                    }, message);\n                                    break;\n                                }\n                                case \"assistant_tool_call\": {\n                                    onChange({\n                                        ...message,\n                                        messageType,\n                                        role : \"assistant\",\n                                        tool_calls : \"tool_calls\" in message ?\n                                            message.tool_calls :\n                                            [],\n                                        tokenCount : undefined,\n                                    }, message);\n                                    break;\n                                }\n                                case \"tool_response\": {\n                                    onChange({\n                                        ...message,\n                                        messageType,\n                                        role : \"tool\",\n                                        tool_call_id : \"tool_call_id\" in message ?\n                                            message.tool_call_id :\n                                            \"\",\n                                        name : \"name\" in message ?\n                                            message.name :\n                                            \"\",\n                                        content : \"content\" in message ?\n                                            message.content :\n                                            \"\",\n                                        tokenCount : undefined,\n                                    }, message);\n                                    break;\n                                }\n                            }\n                        }}\n                    >\n                        {messageTypes.map(s => {\n                            return <option key={s} value={s}>\n                                {s}\n                            </option>\n                        })}\n                    </select>\n                </div>\n                <div\n                    className=\"field button group\"\n                    style={{\n                        alignSelf: \"flex-end\",\n                    }}\n                >\n                    <button\n                        className=\"ui icon red button\"\n                        onClick={() => onRemove(message)}\n                    >\n                        <i className=\"trash icon\"></i>\n                    </button>\n                    {\n                        message.messageType == \"assistant_tool_call\" ?\n                        <button\n                            className=\"ui icon primary button\"\n                            onClick={() => onAddResponse(message.tool_calls)}\n                        >\n                            <i className=\"reply icon\"></i>\n                        </button> :\n                        undefined\n                    }\n                    <button\n                        className=\"ui icon button\"\n                        onClick={() => onMoveUp(message)}\n                    >\n                        <i className=\"arrow up icon\"></i>\n                    </button>\n                    <button\n                        className=\"ui icon button\"\n                        onClick={() => onMoveDown(message)}\n                    >\n                        <i className=\"arrow down icon\"></i>\n                    </button>\n                </div>\n            </div>\n        </div>\n        {\n            isContentMessage(message) ?\n            <ContentMessageForm\n                message={message}\n                onChange={(newMessage) => {\n                    onChange(newMessage, message);\n                }}\n            /> :\n            undefined\n        }\n        {\n            message.messageType == \"assistant_tool_call\" ?\n            <AssistantToolCallMessageForm\n                message={message}\n                onChange={(newMessage) => {\n                    onChange(newMessage, message);\n                }}\n                onAddResponse={(toolCall) => {\n                    onAddResponse([toolCall]);\n                }}\n            /> :\n            undefined\n        }\n        {\n            message.messageType == \"tool_response\" ?\n            <ToolResponseMessageForm\n                message={message}\n                functionArguments={(messages\n                    .filter(isAssistantToolCallMessage)\n                    .flatMap(m => m.tool_calls)\n                    .find(tc => tc.id == message.tool_call_id)\n                    ?.function\n                    ?.arguments) ?? \"\"\n                }\n                onChange={(newMessage) => {\n                    onChange(newMessage, message);\n                }}\n            /> :\n            undefined\n        }\n        {\n            message.tokenCount == undefined ?\n            <div className=\"ui mini label\">~- tokens</div> :\n            <div className=\"ui mini label\">~{message.tokenCount} tokens</div>\n        }\n    </div>\n}","import * as React from \"react\";\nimport * as uuid from \"uuid\";\nimport { MessageForm } from \"./MessageForm\";\nimport { Message, ToolResponseMessage } from \"./local-storage-util\";\n\nexport interface MessageListFormProps {\n    messages : readonly Message[];\n    onChange : (newMessages : Message[], oldMessages : readonly Message[]) => void;\n}\n\nexport function MessageListForm (props : MessageListFormProps) {\n    const {\n        messages,\n        onChange,\n    } = props;\n    return <div className=\"ui segment divided selection massive list\">\n        {messages.map((m, index) => {\n            return <MessageForm\n                messages={messages}\n                key={m.uuid}\n                message={m}\n                onChange={(newMessage) => {\n                    onChange(messages.map(m => {\n                        return m.uuid == newMessage.uuid ?\n                            newMessage :\n                            m;\n                    }), messages);\n                }}\n                onRemove={() => {\n                    const newMessages = [...messages];\n                    newMessages.splice(index, 1);\n                    onChange(newMessages, messages);\n                }}\n                onMoveUp={(m) => {\n                    if (index == 0) {\n                        return;\n                    }\n                    const newMessages = [...messages];\n                    newMessages.splice(index, 1);\n                    newMessages.splice(index-1, 0, m);\n                    onChange(newMessages, messages);\n                }}\n                onMoveDown={(m) => {\n                    if (index >= messages.length) {\n                        return;\n                    }\n                    const newMessages = [...messages];\n                    newMessages.splice(index, 1);\n                    newMessages.splice(index+1, 0, m);\n                    onChange(newMessages, messages);\n                }}\n                onAddResponse={(toolCalls) => {\n                    onChange([\n                        ...messages,\n                        ...toolCalls.map((tc) : ToolResponseMessage => {\n                            return {\n                                uuid : uuid.v4(),\n                                messageType : \"tool_response\",\n                                role : \"tool\",\n                                tool_call_id : tc.id,\n                                name : tc.function.name,\n                                content : \"\",\n                            };\n                        })\n                    ], messages)\n                }}\n            />\n        })}\n    </div>;\n}","import * as React from \"react\";\nimport * as classNames from \"classnames\";\nimport * as localStorageUtil from \"./local-storage-util\";\nimport { OpenAiApi } from \"../api-openai\";\nimport { useError } from \"./use-error\";\nimport { handleError } from \"./error-handling\";\n//import { Model } from \"./ModelForm\";\n\nexport interface ModelListPageProps {\n    openAiApi : OpenAiApi,\n}\n\nexport function ModelListPage (props : ModelListPageProps) {\n    const [\n        models,\n        setModels,\n    ] = React.useState(localStorageUtil.loadModels());\n    const [isLoading, setIsLoading] = React.useState(false);\n    const error = useError();\n\n    return <div className=\"ui main container\">\n        <div className=\"ui segment divided selection massive list\">\n            {models.map(f => {\n                return <div className=\"item\" key={f.id}>\n                    <div className=\"content\">\n                        <div className=\"header\">\n                            {f.id}\n                        </div>\n                        <div className=\"ui mini label\">{f.created}</div>\n                        <div className=\"ui mini label\">{new Date(f.created * 1000).toISOString()}</div>\n                        <div className=\"ui mini label\">{f.owned_by}</div>\n                    </div>\n                </div>\n            })}\n        </div>\n        <button\n            className={classNames(\n                \"ui primary button\",\n                isLoading ? \"loading\" : undefined,\n            )}\n            onClick={() => {\n                if (isLoading) {\n                    return;\n                }\n                setIsLoading(true);\n                props.openAiApi.model.list()\n                    .send()\n                    .then(\n                        (res) => {\n                            const arr = [...res.responseBody.data];\n                            arr.sort((a, b) => {\n                                return b.created - a.created;\n                            });\n                            setIsLoading(false);\n                            setModels(arr);\n                            localStorageUtil.saveModels(arr);\n                            error.reset();\n                        },\n                        (err) => {\n                            setIsLoading(false);\n                            handleError(error, err);\n                        },\n                    );\n            }}\n        >\n            Update\n        </button>\n    </div>\n}","import * as React from \"react\";\nimport { ToolCall } from \"./local-storage-util\";\n\nexport interface ToolCallFormProps {\n    toolCall : ToolCall;\n    onChange : (newToolCall : ToolCall, oldToolCall : ToolCall) => void;\n    onRemove : (toolCall : ToolCall) => void;\n    onMoveUp : (toolCall : ToolCall) => void;\n    onMoveDown : (toolCall : ToolCall) => void;\n    onAddResponse : (toolCall : ToolCall) => void;\n}\n\nexport function ToolCallForm (props : ToolCallFormProps) {\n    const {\n        toolCall,\n        onChange,\n        onRemove,\n        onMoveUp,\n        onMoveDown,\n        onAddResponse,\n    } = props;\n    return <div className=\"item\">\n        <div className=\"ui form\">\n            <div className=\"two fields\">\n                <div className=\"field\">\n                    <label>ID</label>\n                    <input\n                        type=\"text\"\n                        value={toolCall.id}\n                        placeholder=\"ID\"\n                        onChange={(evt) => {\n                            onChange({\n                                ...toolCall,\n                                id : evt.target.value,\n                            }, toolCall);\n                        }}\n                    />\n                </div>\n                <div\n                    className=\"field button group\"\n                    style={{\n                        alignSelf: \"flex-end\",\n                    }}\n                >\n                    <button\n                        className=\"ui icon red button\"\n                        onClick={() => onRemove(toolCall)}\n                    >\n                        <i className=\"trash icon\"></i>\n                    </button>\n                    <button\n                        className=\"ui icon primary button\"\n                        onClick={() => onAddResponse(toolCall)}\n                    >\n                        <i className=\"reply icon\"></i>\n                    </button>\n                    <button\n                        className=\"ui icon button\"\n                        onClick={() => onMoveUp(toolCall)}\n                    >\n                        <i className=\"arrow up icon\"></i>\n                    </button>\n                    <button\n                        className=\"ui icon button\"\n                        onClick={() => onMoveDown(toolCall)}\n                    >\n                        <i className=\"arrow down icon\"></i>\n                    </button>\n                </div>\n            </div>\n            <div className=\"field\">\n                <label>Function Name</label>\n                <input\n                    type=\"text\"\n                    value={toolCall.function.name}\n                    placeholder=\"Function Name\"\n                    onChange={(evt) => {\n                        onChange({\n                            ...toolCall,\n                            function : {\n                                ...toolCall.function,\n                                name : evt.target.value,\n                            },\n                        }, toolCall);\n                    }}\n                />\n            </div>\n            <div className=\"field\">\n                <label>Function Arguments</label>\n                <textarea\n                    value={toolCall.function.arguments}\n                    placeholder=\"Function Arguments\"\n                    onChange={(evt) => {\n                        onChange({\n                            ...toolCall,\n                            function : {\n                                ...toolCall.function,\n                                arguments : evt.target.value,\n                            },\n                        }, toolCall);\n                    }}\n                />\n            </div>\n        </div>\n    </div>\n}","import * as React from \"react\";\nimport { ToolCallForm } from \"./ToolCallForm\";\nimport { ToolCall } from \"./local-storage-util\";\n\nexport interface ToolCallListFormProps {\n    toolCalls : readonly ToolCall[];\n    onChange : (newToolCalls : ToolCall[], oldToolCalls : readonly ToolCall[]) => void;\n    onAddResponse : (toolCall : ToolCall) => void;\n}\n\nexport function ToolCallListForm (props : ToolCallListFormProps) {\n    const {\n        toolCalls,\n        onChange,\n        onAddResponse,\n    } = props;\n    return <div className=\"ui segment divided selection massive list\">\n        {toolCalls.map((m, index) => {\n            return <ToolCallForm\n                key={index}\n                toolCall={m}\n                onChange={(newToolCall) => {\n                    onChange(toolCalls.map((m, changedIndex) => {\n                        return index == changedIndex ?\n                            newToolCall :\n                            m;\n                    }), toolCalls);\n                }}\n                onRemove={() => {\n                    const newToolCalls = [...toolCalls];\n                    newToolCalls.splice(index, 1);\n                    onChange(newToolCalls, toolCalls);\n                }}\n                onAddResponse={(toolCall) => {\n                    onAddResponse(toolCall);\n                }}\n                onMoveUp={(m) => {\n                    if (index == 0) {\n                        return;\n                    }\n                    const newToolCalls = [...toolCalls];\n                    newToolCalls.splice(index, 1);\n                    newToolCalls.splice(index-1, 0, m);\n                    onChange(newToolCalls, toolCalls);\n                }}\n                onMoveDown={(m) => {\n                    if (index >= toolCalls.length) {\n                        return;\n                    }\n                    const newToolCalls = [...toolCalls];\n                    newToolCalls.splice(index, 1);\n                    newToolCalls.splice(index+1, 0, m);\n                    onChange(newToolCalls, toolCalls);\n                }}\n            />\n        })}\n    </div>;\n}","import * as React from \"react\";\nimport * as classNames from \"classnames\";\nimport * as localStorageUtil from \"./local-storage-util\";\nimport { ToolResponseMessage } from \"./local-storage-util\";\nimport { useError } from \"./use-error\";\nimport { handleError } from \"./error-handling\";\n\nexport interface ToolResponseMessageFormProps {\n    message : ToolResponseMessage;\n    functionArguments : string|undefined;\n    onChange : (newMessage : ToolResponseMessage, oldMessage : ToolResponseMessage) => void;\n}\n\nexport function ToolResponseMessageForm (props : ToolResponseMessageFormProps) {\n    const {\n        message,\n        functionArguments,\n        onChange,\n    } = props;\n\n    const [functionTool, setFunctionTool] = React.useState(() => {\n        return localStorageUtil.loadFunctionTools()\n            .find(f => f.name == message.name);\n    });\n\n    const [isLoading, setIsLoading] = React.useState(false);\n    const error = useError();\n\n    React.useEffect(\n        () => {\n            const timer = setTimeout(() => {\n                setFunctionTool(\n                    localStorageUtil.loadFunctionTools()\n                        .find(f => f.name == message.name)\n                );\n            }, 1000);\n            return () => clearTimeout(timer);\n        },\n        [message.name]\n    );\n\n    return <div className=\"ui form\">\n        <div className=\"field\">\n            <label>Tool Call ID</label>\n            <input\n                type=\"text\"\n                value={message.tool_call_id}\n                placeholder=\"Tool Call ID\"\n                onChange={(evt) => {\n                    onChange({\n                        ...message,\n                        tool_call_id : evt.target.value,\n                        tokenCount : undefined,\n                    }, message);\n                }}\n            />\n        </div>\n        <div className=\"field\">\n            <label>Function Name</label>\n            <input\n                type=\"text\"\n                value={message.name}\n                placeholder=\"Function Name\"\n                onChange={(evt) => {\n                    onChange({\n                        ...message,\n                        name : evt.target.value,\n                        tokenCount : undefined,\n                    }, message);\n                }}\n            />\n        </div>\n        <div className=\"field\">\n            <label>Function Arguments</label>\n            <textarea\n                value={functionArguments}\n                placeholder=\"Function Arguments\"\n                readOnly={true}\n            />\n        </div>\n        <div className=\"field\">\n            <label>Content</label>\n            {\n                functionTool == undefined ?\n                undefined :\n                <button\n                    className={classNames(\n                        \"ui primary button\",\n                        isLoading ? \"loading\" : undefined,\n                    )}\n                    onClick={() => {\n                        if (isLoading) {\n                            return;\n                        }\n                        try {\n                            const f = new Function(`return ${functionTool.javaScriptImpl}`)();\n                            const args = functionArguments == undefined ?\n                                {} :\n                                JSON.parse(functionArguments);\n                            const promise = Promise.resolve(f(args));\n\n                            setIsLoading(true);\n                            promise\n                                .then(\n                                    (result) : void => {\n                                        setIsLoading(false);\n                                        onChange({\n                                            ...message,\n                                            content : JSON.stringify(result, null, 2),\n                                            tokenCount : undefined,\n                                        }, message);\n                                        error.reset();\n                                    },\n                                    (err) => {\n                                        setIsLoading(false);\n                                        handleError(error, err);\n                                    },\n                                );\n                        } catch (err) {\n                            setIsLoading(false);\n                            handleError(error, err);\n                        }\n                    }}\n                >\n                    Execute JavaScript\n                </button>\n            }\n            <textarea\n                value={message.content}\n                placeholder=\"Content (The result of the tool call)\"\n                onChange={(evt) => {\n                    onChange({\n                        ...message,\n                        content : evt.target.value,\n                        tokenCount : undefined,\n                    }, message);\n                }}\n            />\n        </div>\n    </div>\n}","import { ErrorHook } from \"./use-error\";\n\nexport function handleError (error : ErrorHook,err : any) {\n    console.log(Object.getOwnPropertyNames(err));\n    console.log(err);\n\n    const propertyErrors = err?.propertyErrors;\n    if (propertyErrors instanceof Array) {\n        for (const propertyError of propertyErrors) {\n            error.push(\"negative\", [\n                `${String(propertyError)} (${propertyError.actualValue})`\n            ]);\n        }\n        return;\n    }\n\n    const responseBody = err?.sendResult?.responseBody;\n    const responseErrorMessage = responseBody?.error?.message;\n    const errorMessage = err?.message;\n\n    if (responseErrorMessage != undefined) {\n        error.push(\"negative\", [responseErrorMessage])\n        return;\n    }\n\n    if (errorMessage != undefined) {\n        error.push(\"negative\", [errorMessage])\n        return;\n    }\n\n    error.push(\"negative\", [\"Unknown error\"])\n}","import * as uuid from \"uuid\";\nimport { RawChatRequestConfig } from \"./ChatRequestConfigUx\";\nimport { FunctionTool } from \"./FunctionToolForm\";\n\nexport function localStorageSupported () {\n    return (\n        \"localStorage\" in self\n    );\n}\n\nexport function getItem (key : string) : string|null {\n    return (\n        localStorageSupported() ?\n        localStorage.getItem(key) :\n        null\n    );\n}\n\nexport function setItem (key : string, value : string) : void {\n    if (localStorageSupported()) {\n        localStorage.setItem(key, value);\n    }\n}\n\nexport function removeItem (key : string) : void {\n    if (localStorageSupported()) {\n        localStorage.removeItem(key);\n    }\n}\n\n/**\n * https://stackoverflow.com/questions/4391575/how-to-find-the-size-of-localstorage\n * @returns \n */\nexport function kbUsed () : number {\n    let _lsTotal = 0,\n        _xLen, _x;\n    for (_x in localStorage) {\n        if (!localStorage.hasOwnProperty(_x)) {\n            continue;\n        }\n        _xLen = ((localStorage[_x].length + _x.length) * 2);\n        _lsTotal += _xLen;\n        console.log(_x.substring(0, 50) + \" = \" + (_xLen / 1024).toFixed(2) + \" KB\")\n    };\n    const totalKb = Number((_lsTotal / 1024).toFixed(2));\n    console.log(\"Total = \" + totalKb + \" KB\");\n    return totalKb;\n}\n\nexport enum LocalStorageKey {\n    OPEN_AI_API_KEY = \"OPEN_AI_API_KEY\",\n    FUNCTION_TOOLS = \"FUNCTION_TOOLS\",\n    CONVERSATIONS_META = \"CONVERSATIONS_META\",\n    CONVERSATION = \"CONVERSATION\",\n    MODELS = \"MODELS\",\n    SELF_DISCOVERS_META = \"SELF_DISCOVERS_META\",\n    SELF_DISCOVER = \"SELF_DISCOVER\",\n}\n\nexport function loadFunctionTools () : FunctionTool[] {\n    return JSON.parse(getItem(LocalStorageKey.FUNCTION_TOOLS) ?? \"[]\");\n}\n\nexport function saveFunctionTools (tools : FunctionTool[]) {\n    return setItem(\n        LocalStorageKey.FUNCTION_TOOLS,\n        JSON.stringify(tools)\n    );\n}\n\nexport interface ConversationMeta {\n    uuid : string;\n    name : string;\n    description : string;\n    lastMessage : string;\n}\n\nexport interface SelfDiscoverMeta {\n    uuid : string;\n    name : string;\n    description : string;\n}\n\nexport interface MessageBase {\n    uuid : string;\n\n    tokenCount? : undefined|number;\n}\n\nexport interface SystemMessage extends MessageBase {\n    messageType : \"system\",\n    role : \"system\",\n    content : string,\n}\n\nexport interface UserMessage extends MessageBase {\n    messageType : \"user\",\n    role : \"user\",\n    content : string,\n}\n\nexport interface AssistantMessage extends MessageBase {\n    messageType : \"assistant\",\n    role : \"assistant\",\n    content : string,\n}\n\nexport interface ToolCall {\n    id : string,\n    type : \"function\",\n    function : {\n        name : string,\n        arguments : string,\n    },\n}\n\nexport interface AssistantToolCallMessage extends MessageBase {\n    messageType : \"assistant_tool_call\",\n    role : \"assistant\",\n    tool_calls : ToolCall[],\n}\n\nexport function isAssistantToolCallMessage (m : Message) : m is AssistantToolCallMessage {\n    return \"tool_calls\" in m;\n}\n\nexport interface ToolResponseMessage extends MessageBase {\n    messageType : \"tool_response\",\n    role : \"tool\",\n    tool_call_id : string,\n    /**\n     * The function name\n     */\n    name : string,\n    /**\n     * The result of the tool call\n     */\n    content : string,\n}\n\nexport type Message =\n    | SystemMessage\n    | UserMessage\n    | AssistantMessage\n    | AssistantToolCallMessage\n    | ToolResponseMessage;\n\nexport interface Conversation {\n    uuid : string;\n    name : string;\n    description : string;\n    rawChatRequestConfig : RawChatRequestConfig;\n    usedFunctions : Record<string, boolean|undefined>,\n    messages : Message[],\n}\n\nexport interface SelfDiscoverTask {\n    uuid : string;\n    useAsExample : boolean;\n    problemStatement : string;\n    executeConversation : Conversation;\n    executeResult : undefined|SelfDiscoverTaskExecuteResult;\n}\n\nexport interface SelfDiscoverTaskExecuteResult {\n    steps : { result : string }[];\n    answer : string;\n}\n\nexport interface PartialSelfDiscoverTask {\n    uuid : string;\n    useAsExample : boolean;\n    problemStatement : string;\n    executeConversation : undefined;\n}\n\n/**\n * https://arxiv.org/html/2402.03620v1\n */\nexport interface SelfDiscover {\n    uuid : string;\n    name : string;\n    description : string;\n    model : string;\n\n    tasks : SelfDiscoverTask[];\n    selectConversation : Conversation;\n    adaptConversation : Conversation;\n    implementConversation : Conversation;\n\n    selectResult : SelfDiscoverSelectResult|undefined,\n    adaptResult : SelfDiscoverAdaptResult|undefined,\n    implementResult : SelfDiscoverImplementResult|undefined,\n}\n\nexport interface SelfDiscoverSelectResult {\n    selected_reasoning_modules : string[];\n    rationale : string;\n}\n\nexport interface SelfDiscoverAdaptResult {\n    reasoning_modules : {\n        name : string,\n        description : string,\n    }[];\n}\n\nexport interface SelfDiscoverImplementResult {\n    steps : {\n        instructions : string,\n    }[];\n}\n\nexport interface PartialSelfDiscover {\n    uuid : string;\n    name : string;\n    description : string;\n    model : string;\n\n    tasks : PartialSelfDiscoverTask[];\n    selectConversation : undefined;\n    adaptConversation : undefined;\n    implementConversation : undefined;\n}\n\nexport function loadConversationsMeta () : ConversationMeta[] {\n    return JSON.parse(getItem(LocalStorageKey.CONVERSATIONS_META) ?? \"[]\");\n}\n\nexport function loadSelfDiscoversMeta () : SelfDiscoverMeta[] {\n    return JSON.parse(getItem(LocalStorageKey.SELF_DISCOVERS_META) ?? \"[]\");\n}\n\nexport function saveConversationsMeta (conversationsMeta : ConversationMeta[]) {\n    return setItem(\n        LocalStorageKey.CONVERSATIONS_META,\n        JSON.stringify(conversationsMeta)\n    );\n}\n\nexport function saveSelfDiscoversMeta (selfDiscoversMeta : SelfDiscoverMeta[]) {\n    return setItem(\n        LocalStorageKey.SELF_DISCOVERS_META,\n        JSON.stringify(selfDiscoversMeta)\n    );\n}\n\nexport function makeConversation (customUuid : string|undefined = undefined) : {\n    conversation : Conversation,\n    meta : ConversationMeta,\n} {\n    const models = loadModels().filter(model => model.id.startsWith(\"gpt\"));\n    const meta : ConversationMeta = {\n        uuid : customUuid ?? uuid.v4(),\n        name : \"\",\n        description : \"\",\n        lastMessage : \"\",\n    };\n    const conversation : Conversation = {\n        uuid : meta.uuid,\n        name : meta.name,\n        description : meta.description,\n        rawChatRequestConfig : {\n            model : models.length > 0 ?\n                models[0].id :\n                \"\",\n            temperature  :1,\n            max_tokens : 256,\n            stop : \"\",\n            top_p : 1,\n            frequency_penalty : 0,\n            presence_penalty : 0,\n            response_format : {\n                type : \"text\",\n            },\n        },\n        messages : [],\n        usedFunctions : {},\n    };\n    return {\n        conversation,\n        meta,\n    };\n}\n\nexport function makeSelfDiscover () : {\n    selfDiscover : SelfDiscover,\n    meta : SelfDiscoverMeta,\n} {\n    const meta : SelfDiscoverMeta = {\n        uuid : uuid.v4(),\n        name : \"\",\n        description : \"\",\n    };\n    const models = loadModels().filter(model => model.id.startsWith(\"gpt-4\"));\n    const selfDiscover : SelfDiscover = {\n        uuid : meta.uuid,\n        name : meta.name,\n        description : meta.description,\n        model : models.length > 0 ?\n            models[0].id :\n            \"\",\n\n        tasks : [],\n        selectConversation : undefined as unknown as Conversation,\n        adaptConversation : undefined as unknown as Conversation,\n        implementConversation : undefined as unknown as Conversation,\n\n        selectResult : undefined,\n        adaptResult : undefined,\n        implementResult : undefined,\n    };\n    loadOrMakeSelfDiscoverConversations(selfDiscover);\n    return {\n        selfDiscover,\n        meta,\n    };\n}\n\nexport function makeSelfDiscoverTask (selfDiscoverUuid : string) : SelfDiscoverTask {\n    const taskUuid = uuid.v4();\n    return {\n        uuid : taskUuid,\n        useAsExample : true,\n        problemStatement : \"\",\n        executeConversation : makeConversation(`${LocalStorageKey.SELF_DISCOVER}_${selfDiscoverUuid}_task_${taskUuid}_execute`).conversation,\n        executeResult : undefined,\n    };\n}\n\nexport function loadConversation (uuid : string) : Conversation|undefined {\n    const str = getItem(`${LocalStorageKey.CONVERSATION}_${uuid}`);\n    if (str == undefined) {\n        return undefined;\n    }\n    const result = JSON.parse(str) as Conversation;\n    result.messages = result.messages ?? [];\n    result.usedFunctions = result.usedFunctions ?? {};\n    result.rawChatRequestConfig.response_format = result.rawChatRequestConfig.response_format\n        ?? {\n            type : \"text\",\n        };\n    return result;\n}\n\nfunction loadOrMakeSelfDiscoverConversations (selfDiscover : SelfDiscover) {\n    selfDiscover.selectConversation = (\n        loadConversation(`${LocalStorageKey.SELF_DISCOVER}_${selfDiscover.uuid}_select`) ??\n        makeConversation(`${LocalStorageKey.SELF_DISCOVER}_${selfDiscover.uuid}_select`).conversation\n    );\n    selfDiscover.adaptConversation = (\n        loadConversation(`${LocalStorageKey.SELF_DISCOVER}_${selfDiscover.uuid}_adapt`) ??\n        makeConversation(`${LocalStorageKey.SELF_DISCOVER}_${selfDiscover.uuid}_adapt`).conversation\n    );\n    selfDiscover.implementConversation = (\n        loadConversation(`${LocalStorageKey.SELF_DISCOVER}_${selfDiscover.uuid}_implement`) ??\n        makeConversation(`${LocalStorageKey.SELF_DISCOVER}_${selfDiscover.uuid}_implement`).conversation\n    );\n    for (const task of selfDiscover.tasks) {\n        task.executeConversation = (\n            loadConversation(`${LocalStorageKey.SELF_DISCOVER}_${selfDiscover.uuid}_task_${task.uuid}_execute`) ??\n            makeConversation(`${LocalStorageKey.SELF_DISCOVER}_${selfDiscover.uuid}_task_${task.uuid}_execute`).conversation\n        );\n    }\n}\n\nexport function loadSelfDiscover (uuid : string) : SelfDiscover|undefined {\n    const str = getItem(`${LocalStorageKey.SELF_DISCOVER}_${uuid}`);\n    if (str == undefined) {\n        return undefined;\n    }\n    const result = JSON.parse(str) as SelfDiscover;\n    \n    loadOrMakeSelfDiscoverConversations(result);\n\n    for (const task of result.tasks) {\n        if (task.useAsExample == undefined) {\n            task.useAsExample = (task as any).includeInPrompt;\n        }\n    }\n\n    return result;\n}\n\nexport function saveConversation (conversation : Conversation) {\n    return setItem(\n        `${LocalStorageKey.CONVERSATION}_${conversation.uuid}`,\n        JSON.stringify(conversation)\n    );\n}\n\nexport function saveSelfDiscover (selfDiscover : SelfDiscover) {\n    saveConversation(selfDiscover.selectConversation);\n    saveConversation(selfDiscover.adaptConversation);\n    saveConversation(selfDiscover.implementConversation);\n    for (const task of selfDiscover.tasks) {\n        saveConversation(task.executeConversation);\n    }\n    const minSelfDiscover : PartialSelfDiscover = {\n        ...selfDiscover,\n        selectConversation : undefined,\n        adaptConversation : undefined,\n        implementConversation : undefined,\n        tasks : selfDiscover.tasks.map(t => {\n            return {\n                ...t,\n                executeConversation : undefined,\n            };\n        }),\n    };\n    return setItem(\n        `${LocalStorageKey.SELF_DISCOVER}_${selfDiscover.uuid}`,\n        JSON.stringify(minSelfDiscover)\n    );\n}\n\nexport function deleteConversation (conversation : Pick<Conversation, \"uuid\">) {\n    return removeItem(\n        `${LocalStorageKey.CONVERSATION}_${conversation.uuid}`\n    );\n}\n\nexport function deleteSelfDiscover (self_discover_id : Pick<SelfDiscover, \"uuid\">) {\n    const selfDiscover = loadSelfDiscover(self_discover_id.uuid);\n    if (selfDiscover == undefined) {\n        return;\n    }\n    deleteConversation(selfDiscover.selectConversation);\n    deleteConversation(selfDiscover.adaptConversation);\n    deleteConversation(selfDiscover.implementConversation);\n    for (const task of selfDiscover.tasks) {\n        deleteConversation(task.executeConversation);\n    }\n    return removeItem(\n        `${LocalStorageKey.SELF_DISCOVER}_${selfDiscover.uuid}`\n    );\n}\n\ninterface Model {\n    id : string,\n    object : \"model\",\n    created : number,\n    owned_by : string,\n}\n\nexport function loadModels () : Model[] {\n    const str = getItem(LocalStorageKey.MODELS);\n    if (str == undefined) {\n        return [];\n    }\n    const result = JSON.parse(str) as Model[];\n    return result;\n}\n\nexport function saveModels (models : Model[]) {\n    return setItem(\n        LocalStorageKey.MODELS,\n        JSON.stringify(models)\n    );\n}","//Really bad BigInt polyfill\nclass MyBigInt {\n    value : string;\n    constructor (value : any) {\n        this.value = String(value);\n    }\n    toString () {\n        return this.value;\n    }\n    toJSON () {\n        return this.value;\n    }\n}\n//if (true) {\nif (typeof BigInt === \"undefined\") {\n    console.log(\"Using really bad BigInt polyfill because browser does not support it\");\n    (window as any).BigInt = function (x : any) {\n        return new MyBigInt(x);\n    };\n}\nif (BigInt.prototype != undefined) {\n    (BigInt.prototype as any).toJSON = function () {\n        if (BigInt(Number(this)).toString() === this.toString()) {\n            return Number(this);\n        } else {\n            return this.toString();\n        }\n    };\n}\nimport * as React from \"react\";\nimport * as ReactDOM from \"react-dom\";\nimport {App} from \"./App\";\n\nimport \"semantic-ui-less/semantic.less\";\nimport { OpenAiApi } from \"../api-openai\";\n\nimport * as localStorageUtil from \"./local-storage-util\";\n\nconst openAiApi = new OpenAiApi({\n    domain : OPENAI_API_DOMAIN,\n    root : OPENAI_API_ROOT,\n    apiKey : localStorageUtil.getItem(localStorageUtil.LocalStorageKey.OPEN_AI_API_KEY) ?? \"\",\n});\n\nReactDOM.render(\n    <App openAiApi={openAiApi}/>,\n    document.getElementById(\"app\")\n);\n","import * as React from \"react\";\nimport * as reactRouter from \"react-router-dom\";\nimport * as uuid from \"uuid\";\nimport * as classNames from \"classnames\";\nimport * as tm from \"type-mapping\";\nimport { OpenAiApi } from \"../../api-openai\";\nimport { Conversation, SelfDiscover, SelfDiscoverAdaptResult } from \"../local-storage-util\";\nimport { submitConversation } from \"../ConversationEditPage\";\nimport { useError } from \"../use-error\";\nimport { handleError } from \"../error-handling\";\n\nexport interface SelfDiscoverAdaptTabProps {\n    openAiApi : OpenAiApi,\n    active : boolean;\n    selfDiscover : SelfDiscover,\n    setSelfDiscover : (selfDiscover : SelfDiscover) => void,\n}\n\nexport function SelfDiscoverAdaptTab (props : SelfDiscoverAdaptTabProps) {\n    const {\n        openAiApi,\n        active,\n        selfDiscover,\n        setSelfDiscover,\n    } = props;\n    const history = reactRouter.useHistory();\n    const [prompt, setPrompt] = React.useState(() => buildPrompt(selfDiscover));\n\n    const [isLoading, setIsLoading] = React.useState(false);\n    const error = useError();\n\n    React.useEffect(\n        () => {\n            const timer = setTimeout(() => {\n                setPrompt(buildPrompt(selfDiscover));\n            }, 1000);\n            return () => clearTimeout(timer);\n        },\n        [selfDiscover]\n    );\n\n    return <div className={classNames(\n        \"ui bottom attached tab segment\",\n        active ? \"active\" : undefined,\n    )}>\n        <div className=\"ui form\">\n            <div className=\"field\">\n                <label>Prompt</label>\n                <textarea\n                    value={prompt}\n                    readOnly\n                    style={{ minHeight : \"36em\", maxHeight : \"84em\" }}\n                />\n            </div>\n            {\n                selfDiscover.adaptResult == undefined ?\n                undefined :\n                <div className=\"field\">\n                    <label>Adapted Reasoning Modules</label>\n                    <textarea\n                        value={JSON.stringify(selfDiscover.adaptResult, null, 2)}\n                        readOnly\n                        style={{ minHeight : \"36em\", maxHeight : \"84em\" }}\n                    />\n                </div>\n            }\n        </div>\n        <br/>\n        <button\n            className={classNames(\n                \"ui primary button\",\n                isLoading ? \"loading\" : undefined,\n            )}\n            onClick={async () => {\n                if (isLoading) {\n                    return;\n                }\n                const conversationA : Conversation = {\n                    ...selfDiscover.adaptConversation,\n                    rawChatRequestConfig : {\n                        ...selfDiscover.adaptConversation.rawChatRequestConfig,\n                        model : selfDiscover.model,\n                        response_format : {\n                            type : \"text\",\n                        },\n                        temperature : 0,\n                        max_tokens : 1024,\n                    },\n                    messages : [\n                        {\n                            uuid : uuid.v4(),\n                            messageType : \"user\",\n                            role : \"user\",\n                            content : prompt,\n                        },\n                    ],\n                };\n                setIsLoading(true);\n\n                try {\n                    const conversationB = await submitConversation(openAiApi, conversationA, []);\n                    const conversationC : Conversation = {\n                        ...conversationB,\n                        rawChatRequestConfig : {\n                            ...conversationB.rawChatRequestConfig,\n                            response_format : {\n                                type : \"json_object\",\n                            },\n                        },\n                        messages : [\n                            ...conversationB.messages,\n                            {\n                                uuid : uuid.v4(),\n                                messageType : \"user\",\n                                role : \"user\",\n                                content : convertPrompt,\n                            },\n                        ]\n                    };\n                    const conversationD = await submitConversation(openAiApi, conversationC, []);\n\n                    setIsLoading(false);\n\n                    const lastMessage = conversationD.messages[conversationD.messages.length-1];\n                    if (lastMessage.role != \"assistant\") {\n                        error.push(\"negative\", [`Expected assistant message, received ${lastMessage.role}`]);\n                        return;\n                    }\n                    if (lastMessage.messageType != \"assistant\") {\n                        error.push(\"negative\", [`Expected assistant message, received ${lastMessage.messageType}`]);\n                        return;\n                    }\n                    \n                    let parsed = {};\n                    try {\n                        parsed = JSON.parse(lastMessage.content);\n                    } catch (err) {\n                        handleError(error, err);\n                        return;\n                    }\n\n                    let validated : SelfDiscoverAdaptResult;\n                    try {\n                        validated = adaptResultMapper(\"result\", parsed);\n                    } catch (err) {\n                        handleError(error, err);\n                        return;\n                    }\n\n                    setSelfDiscover({\n                        ...selfDiscover,\n                        adaptConversation : conversationD,\n                        adaptResult : validated,\n                    });\n                    error.reset();\n                } catch (err) {\n                    setIsLoading(false);\n                    handleError(error, err);\n                }\n            }}\n        >\n            Adapt Reasoning Modules\n        </button>\n        <button className=\"ui primary button\" onClick={() => {\n            history.push(`/conversation/${selfDiscover.adaptConversation.uuid}/edit`)\n        }}>\n            View Conversation\n        </button>\n    </div>\n}\n\nfunction buildPrompt (selfDiscover : SelfDiscover) {\n    const exampleTasks = selfDiscover.tasks\n    .filter(t => t.useAsExample)\n    .filter(t => t.problemStatement.trim() != \"\")\n    .map((t, index) => `### Example Task ${index+1}\n\n${t.problemStatement.trim()}`)\n    .join(\"\\n\\n\");\n\n    const selectedModules = selfDiscover.selectResult?.selected_reasoning_modules\n        .map(i => `+ ${i}`)\n        .join(\"\\n\");\n\n    return `Rephrase and specify each reasoning module so that it better helps with solving the task:\n\n### Selected module descriptions\n\n${selectedModules}\n\n${exampleTasks}\n\n### Instructions\n\nAdapt each reasoning module description to better solve the tasks`;\n}\n\nconst convertPrompt = `Convert your response into a JSON object with the following properties,\n+ reasoning_modules : ReasoningModule[] - an array containing the rephrased and specified reasoning modules\n\ninterface ReasoningModule {\n  name : string;\n  description : string;\n}`\n\nconst adaptResultMapper = tm.object({\n    reasoning_modules : tm.array(tm.object({\n        name : tm.string(),\n        description : tm.string(),\n    })),\n});","import * as React from \"react\";\nimport * as reactRouter from \"react-router-dom\";\nimport * as classNames from \"classnames\";\nimport { OpenAiApi } from \"../../api-openai\";\nimport * as localStorageUtil from \"../local-storage-util\";\nimport { useError } from \"../use-error\";\nimport { ErrorMessage } from \"../ErrorMessage\";\nimport { SelfDiscoverTaskTab } from \"./SelfDiscoverTaskTab\";\nimport { SelfDiscoverSelectTab } from \"./SelfDiscoverSelectTab\";\nimport { SelfDiscoverAdaptTab } from \"./SelfDiscoverAdaptTab\";\nimport { SelfDiscoverImplementTab } from \"./SelfDiscoverImplementTab\";\nimport { SelfDiscoverExecuteTab } from \"./SelfDiscoverExecuteTab\";\n\nexport interface SelfDiscoverEditPageProps {\n    openAiApi : OpenAiApi,\n}\n\nenum TabType {\n    Tasks = \"Tasks\",\n    Select = \"Select\",\n    Adapt = \"Adapt\",\n    Implement = \"Implement\",\n    Execute = \"Execute\",\n}\n\nexport function SelfDiscoverEditPage (props : SelfDiscoverEditPageProps) {\n    const {\n        openAiApi,\n    } = props;\n    const routeParams = reactRouter.useParams() as { uuid : string };\n    const [\n        selfDiscover,\n        setSelfDiscover,\n    ] = React.useState(localStorageUtil.loadSelfDiscover(routeParams.uuid));\n    const [isLoading, setIsLoading] = React.useState(false);\n    const error = useError();\n    const [tapType, setTabType] = React.useState(TabType.Tasks);\n\n    const [\n        models,\n        //setModels,\n    ] = React.useState(() => {\n        return localStorageUtil.loadModels().filter(model => model.id.startsWith(\"gpt\"));\n    });\n\n    React.useEffect(\n        () => {\n            if (selfDiscover == undefined) {\n                return;\n            }\n            const timer = setTimeout(() => {\n                localStorageUtil.saveSelfDiscover(selfDiscover);\n                const meta = localStorageUtil.loadSelfDiscoversMeta().map((m) : localStorageUtil.SelfDiscoverMeta => {\n                    return m.uuid == selfDiscover.uuid ?\n                        {\n                            uuid : selfDiscover.uuid,\n                            name : selfDiscover.name,\n                            description : selfDiscover.description,\n                        } :\n                        m\n                });\n                localStorageUtil.saveSelfDiscoversMeta(meta);\n            }, 1000);\n            return () => clearTimeout(timer);\n        },\n        [selfDiscover]\n    );\n\n    if (selfDiscover == undefined) {\n        return <div className=\"ui main container\">\n            Self-Discover {routeParams.uuid} not found\n        </div>\n    }\n\n    return <div className=\"ui main container\">\n        <div className=\"ui form\">\n            <div className=\"two fields\">\n                <div className=\"field\">\n                    <label>Title</label>\n                    <input\n                        placeholder=\"Enter a Self-Discover Title\"\n                        value={selfDiscover.name}\n                        onChange={(evt) => {\n                            setSelfDiscover({\n                                ...selfDiscover,\n                                name : evt.target.value,\n                            });\n                        }}\n                    />\n                </div>\n                <div className=\"field\">\n                    <label>Description</label>\n                    <input\n                        placeholder=\"Enter a Self-Discover Description\"\n                        value={selfDiscover.description}\n                        onChange={(evt) => {\n                            setSelfDiscover({\n                                ...selfDiscover,\n                                description : evt.target.value,\n                            });\n                        }}\n                    />\n                </div>\n            </div>\n        </div>\n        <div className=\"ui top attached tabular menu\">\n            {\n                [\n                    TabType.Tasks,\n                    TabType.Select,\n                    TabType.Adapt,\n                    TabType.Implement,\n                    TabType.Execute,\n                ].map(t => {\n                    return <div\n                        key={t}\n                        className={classNames(\n                            \"item\",\n                            tapType == t ? \"active\" : undefined,\n                        )}\n                        onClick={() => setTabType(t)}\n                    >\n                        {t}\n                    </div>;\n                })\n            }\n        </div>\n        <SelfDiscoverTaskTab\n            active={tapType == TabType.Tasks}\n            selfDiscover={selfDiscover}\n            setSelfDiscover={setSelfDiscover}\n        />\n        <SelfDiscoverSelectTab\n            openAiApi={openAiApi}\n            active={tapType == TabType.Select}\n            selfDiscover={selfDiscover}\n            setSelfDiscover={setSelfDiscover}\n        />\n        <SelfDiscoverAdaptTab\n            openAiApi={openAiApi}\n            active={tapType == TabType.Adapt}\n            selfDiscover={selfDiscover}\n            setSelfDiscover={setSelfDiscover}\n        />\n        <SelfDiscoverImplementTab\n            openAiApi={openAiApi}\n            active={tapType == TabType.Implement}\n            selfDiscover={selfDiscover}\n            setSelfDiscover={setSelfDiscover}\n        />\n        <SelfDiscoverExecuteTab\n            openAiApi={openAiApi}\n            active={tapType == TabType.Execute}\n            selfDiscover={selfDiscover}\n            setSelfDiscover={setSelfDiscover}\n        />\n        \n        <div className=\"ui segment\">\n            <ErrorMessage\n                error={error}\n            />\n            \n            <button className={classNames(\n                \"ui primary button\",\n                isLoading ? \"loading\" : undefined,\n            )} onClick={() => {\n                if (isLoading) {\n                    return;\n                }\n                setIsLoading(true);\n                \n            }}>\n                Submit\n            </button>\n        </div>\n        <div className=\"ui segment\">\n            <div className=\"ui form\">\n                <div className=\"field\">\n                    <label>Model</label>\n                    <select\n                        value={selfDiscover.model}\n                        onChange={(evt) => {\n                            setSelfDiscover({\n                                ...selfDiscover,\n                                model : evt.target.value,\n                            });\n                        }}\n                    >\n                        <option key={\"none\"} value={\"\"} disabled>\n                            Select a Model\n                        </option>\n                        {models.map(model => {\n                            return <option key={model.id} value={model.id}>\n                                {model.id} - ({new Date(model.created * 1000).toISOString()})\n                            </option>\n                        })}\n                    </select>\n                </div>\n            </div>\n        </div>\n    </div>\n}","import * as React from \"react\";\nimport * as classNames from \"classnames\";\nimport * as localStorageUtil from \"../local-storage-util\";\nimport { OpenAiApi } from \"../../api-openai\";\nimport { SelfDiscover } from \"../local-storage-util\";\nimport { SelfDiscoverTaskListForm } from \"./SelfDiscoverTaskListForm\";\nimport { ErrorMessage } from \"../ErrorMessage\"\nexport interface SelfDiscoverExecuteTabProps {\n    openAiApi : OpenAiApi,\n    active : boolean;\n    selfDiscover : SelfDiscover,\n    setSelfDiscover : (selfDiscover : SelfDiscover) => void,\n}\n\nexport function SelfDiscoverExecuteTab (props : SelfDiscoverExecuteTabProps) {\n    const {\n        openAiApi,\n        active,\n        selfDiscover,\n        setSelfDiscover,\n    } = props;\n\n    return <div className={classNames(\n        \"ui bottom attached tab segment\",\n        active ? \"active\" : undefined,\n    )}>\n        {\n            selfDiscover.implementResult == undefined ?\n            <ErrorMessage\n                error={{\n                    type : \"negative\",\n                    messages : [\n                        \"No Implement Result found\",\n                    ],\n                }}\n            /> :\n            <SelfDiscoverTaskListForm\n                tasks={selfDiscover.tasks}\n                onChange={(newTasks) => {\n                    setSelfDiscover({\n                        ...selfDiscover,\n                        tasks : newTasks,\n                    });\n                }}\n                executeConfig={{\n                    openAiApi,\n                    implementResult : selfDiscover.implementResult,\n                    model : selfDiscover.model,\n                }}\n            />\n        }\n        <button className=\"ui primary button\" onClick={() => {\n            setSelfDiscover({\n                ...selfDiscover,\n                tasks : [\n                    ...selfDiscover.tasks,\n                    localStorageUtil.makeSelfDiscoverTask(selfDiscover.uuid),\n                ],\n            });\n        }}>\n            Add Task\n        </button>\n    </div>\n}\n","import * as React from \"react\";\nimport * as reactRouter from \"react-router-dom\";\nimport * as uuid from \"uuid\";\nimport * as classNames from \"classnames\";\nimport * as tm from \"type-mapping\";\nimport { OpenAiApi } from \"../../api-openai\";\nimport { Conversation, SelfDiscover, SelfDiscoverImplementResult } from \"../local-storage-util\";\nimport { submitConversation } from \"../ConversationEditPage\";\nimport { useError } from \"../use-error\";\nimport { handleError } from \"../error-handling\";\n\nexport interface SelfDiscoverImplementTabProps {\n    openAiApi : OpenAiApi,\n    active : boolean;\n    selfDiscover : SelfDiscover,\n    setSelfDiscover : (selfDiscover : SelfDiscover) => void,\n}\n\nexport function SelfDiscoverImplementTab (props : SelfDiscoverImplementTabProps) {\n    const {\n        openAiApi,\n        active,\n        selfDiscover,\n        setSelfDiscover,\n    } = props;\n    const history = reactRouter.useHistory();\n    const [prompt, setPrompt] = React.useState(() => buildPrompt(selfDiscover));\n\n    const [isLoading, setIsLoading] = React.useState(false);\n    const error = useError();\n\n    React.useEffect(\n        () => {\n            const timer = setTimeout(() => {\n                setPrompt(buildPrompt(selfDiscover));\n            }, 1000);\n            return () => clearTimeout(timer);\n        },\n        [selfDiscover]\n    );\n\n    return <div className={classNames(\n        \"ui bottom attached tab segment\",\n        active ? \"active\" : undefined,\n    )}>\n        <div className=\"ui form\">\n            <div className=\"field\">\n                <label>Prompt</label>\n                <textarea\n                    value={prompt}\n                    readOnly\n                    style={{ minHeight : \"36em\", maxHeight : \"84em\" }}\n                />\n            </div>\n            {\n                selfDiscover.implementResult == undefined ?\n                undefined :\n                <div className=\"field\">\n                    <label>Implemented Reasoning Modules</label>\n                    <textarea\n                        value={JSON.stringify(selfDiscover.implementResult, null, 2)}\n                        readOnly\n                        style={{ minHeight : \"36em\", maxHeight : \"84em\" }}\n                    />\n                </div>\n            }\n        </div>\n        <br/>\n        <button\n            className={classNames(\n                \"ui primary button\",\n                isLoading ? \"loading\" : undefined,\n            )}\n            onClick={async () => {\n                if (isLoading) {\n                    return;\n                }\n                const conversationA : Conversation = {\n                    ...selfDiscover.implementConversation,\n                    rawChatRequestConfig : {\n                        ...selfDiscover.implementConversation.rawChatRequestConfig,\n                        model : selfDiscover.model,\n                        response_format : {\n                            type : \"json_object\",\n                        },\n                        temperature : 0,\n                        max_tokens : 1024,\n                    },\n                    messages : [\n                        {\n                            uuid : uuid.v4(),\n                            messageType : \"user\",\n                            role : \"user\",\n                            content : prompt,\n                        },\n                    ],\n                };\n                setIsLoading(true);\n\n                try {\n                    const conversationB = await submitConversation(openAiApi, conversationA, []);\n\n                    setIsLoading(false);\n\n                    const lastMessage = conversationB.messages[conversationB.messages.length-1];\n                    if (lastMessage.role != \"assistant\") {\n                        error.push(\"negative\", [`Expected assistant message, received ${lastMessage.role}`]);\n                        return;\n                    }\n                    if (lastMessage.messageType != \"assistant\") {\n                        error.push(\"negative\", [`Expected assistant message, received ${lastMessage.messageType}`]);\n                        return;\n                    }\n                    \n                    let parsed = {};\n                    try {\n                        parsed = JSON.parse(lastMessage.content);\n                    } catch (err) {\n                        handleError(error, err);\n                        return;\n                    }\n\n                    let validated : SelfDiscoverImplementResult;\n                    try {\n                        validated = implementResultMapper(\"result\", parsed);\n                    } catch (err) {\n                        handleError(error, err);\n                        return;\n                    }\n\n                    setSelfDiscover({\n                        ...selfDiscover,\n                        implementConversation : conversationB,\n                        implementResult : validated,\n                    });\n                    error.reset();\n                } catch (err) {\n                    setIsLoading(false);\n                    handleError(error, err);\n                }\n            }}\n        >\n            Implement Reasoning Modules\n        </button>\n        <button className=\"ui primary button\" onClick={() => {\n            history.push(`/conversation/${selfDiscover.implementConversation.uuid}/edit`)\n        }}>\n            View Conversation\n        </button>\n    </div>\n}\n\nfunction buildPrompt (selfDiscover : SelfDiscover) {\n    const exampleTasks = selfDiscover.tasks\n    .filter(t => t.useAsExample)\n    .filter(t => t.problemStatement.trim() != \"\")\n    .map((t, index) => `### Example Task ${index+1}\n\n${t.problemStatement.trim()}`)\n    .join(\"\\n\\n\");\n\n    const adaptedModules = selfDiscover.adaptResult?.reasoning_modules\n        .map(i => `#### ${i.name}\\n${i.description}`)\n        .join(\"\\n\\n\");\n\n    return `Operationalize the reasoning modules into a step-by-step reasoning plan in JSON format:\n\n### Adapted module description\n\n${adaptedModules}\n\n${exampleTasks}\n\n### Instructions\n\nImplement a reasoning structure for solvers to follow step-by-step and arrive at correct answers.\n\nThe JSON object should have properties,\n- steps : Step[] - The steps to follow to solve the task\n\ninterface Step {\n  instructions : string;\n}`;\n}\n\nconst implementResultMapper = tm.object({\n    steps : tm.array(tm.object({\n        instructions : tm.string(),\n    })),\n});","import * as React from \"react\";\nimport * as reactRouter from \"react-router-dom\";\nimport * as uuid from \"uuid\";\nimport * as localStorageUtil from \"../local-storage-util\";\n//import { SelfDiscover } from \"./SelfDiscoverForm\";\n\nexport function SelfDiscoverListPage () {\n    const history = reactRouter.useHistory();\n    const [\n        selfDiscovers,\n        setSelfDiscovers,\n    ] = React.useState(localStorageUtil.loadSelfDiscoversMeta());\n\n    return <div className=\"ui main container\">\n        <div className=\"ui segment divided selection massive list\">\n            {selfDiscovers.map(meta => {\n                const displayName = meta.name.trim() == \"\" ?\n                    `Self-Discover ${meta.uuid}` :\n                    meta.name;\n                return <div className=\"item\" key={meta.uuid} onClick={() => {\n                    history.push(`/self-discover/${meta.uuid}/edit`);\n                }}>\n                    <div className=\"extra right floated\">\n                        <div className=\"ui icon secondary button\" onClick={(evt) => {\n                            evt.preventDefault();\n                            evt.stopPropagation();\n                            if (confirm(`Copy ${displayName}?`)) {\n                                const existingSelfDiscover = localStorageUtil.loadSelfDiscover(meta.uuid);\n                                if (existingSelfDiscover == undefined) {\n                                    alert(`Cannot find ${displayName} / ${meta.uuid}`);\n                                    return;\n                                }\n                                const newUuid = uuid.v4();\n                                const newSelfDiscover = {\n                                    ...existingSelfDiscover,\n                                    uuid : newUuid,\n                                    name : `Copy of ${displayName}`,\n                                };\n                                const newSelfDiscovers = [\n                                    ...localStorageUtil.loadSelfDiscoversMeta(),\n                                    {\n                                        ...meta,\n                                        uuid : newUuid,\n                                        name : `Copy of ${displayName}`,\n                                    },\n                                ];\n                                setSelfDiscovers(newSelfDiscovers);\n                                localStorageUtil.saveSelfDiscoversMeta(newSelfDiscovers);\n                                localStorageUtil.saveSelfDiscover(newSelfDiscover);\n                            }\n                        }}>\n                            <i className=\"copy icon\"></i>\n                        </div>\n                        <div className=\"ui icon red button\" onClick={(evt) => {\n                            evt.preventDefault();\n                            evt.stopPropagation();\n                            if (confirm(`Delete ${displayName}?`)) {\n                                const newSelfDiscovers = localStorageUtil.loadSelfDiscoversMeta()\n                                    .filter(m => m.uuid != meta.uuid);\n                                setSelfDiscovers(newSelfDiscovers);\n                                localStorageUtil.saveSelfDiscoversMeta(newSelfDiscovers);\n                                localStorageUtil.deleteSelfDiscover(meta);\n                            }\n                        }}>\n                            <i className=\"trash icon\"></i>\n                        </div>\n                    </div>\n                    <div className=\"content\">\n                        <div className=\"header\">\n                            {displayName}\n                        </div>\n                        <div className=\"ui mini label\">{meta.uuid}</div>\n                        {\n                            meta.description.trim() == \"\" ?\n                            <small className=\"description\">\n                                There is no description for this self-discover\n                            </small> :\n                            <div className=\"description\">\n                                {meta.description}\n                            </div>\n                        }\n                    </div>\n                </div>\n            })}\n        </div>\n        <button className=\"ui primary button\" onClick={() => {\n            const selfDiscovers = localStorageUtil.loadSelfDiscoversMeta();\n            const {\n                meta,\n                selfDiscover,\n            } = localStorageUtil.makeSelfDiscover();\n            const newSelfDiscovers : localStorageUtil.SelfDiscoverMeta[] = [\n                ...selfDiscovers,\n                meta,\n            ];\n            localStorageUtil.saveSelfDiscoversMeta(newSelfDiscovers);\n            localStorageUtil.saveSelfDiscover(selfDiscover)\n            setSelfDiscovers(newSelfDiscovers);\n        }}>\n            Create Self-Discover\n        </button>\n    </div>\n}","import * as React from \"react\";\nimport * as reactRouter from \"react-router-dom\";\nimport * as uuid from \"uuid\";\nimport * as classNames from \"classnames\";\nimport * as tm from \"type-mapping\";\nimport { OpenAiApi } from \"../../api-openai\";\nimport { Conversation, SelfDiscover, SelfDiscoverSelectResult } from \"../local-storage-util\";\nimport { submitConversation } from \"../ConversationEditPage\";\nimport { useError } from \"../use-error\";\nimport { handleError } from \"../error-handling\";\n\nexport interface SelfDiscoverSelectTabProps {\n    openAiApi : OpenAiApi,\n    active : boolean;\n    selfDiscover : SelfDiscover,\n    setSelfDiscover : (selfDiscover : SelfDiscover) => void,\n}\n\nexport function SelfDiscoverSelectTab (props : SelfDiscoverSelectTabProps) {\n    const {\n        openAiApi,\n        active,\n        selfDiscover,\n        setSelfDiscover,\n    } = props;\n    const history = reactRouter.useHistory();\n    const [prompt, setPrompt] = React.useState(() => buildPrompt(selfDiscover));\n\n    const [isLoading, setIsLoading] = React.useState(false);\n    const error = useError();\n\n    React.useEffect(\n        () => {\n            const timer = setTimeout(() => {\n                setPrompt(buildPrompt(selfDiscover));\n            }, 1000);\n            return () => clearTimeout(timer);\n        },\n        [selfDiscover]\n    );\n\n    return <div className={classNames(\n        \"ui bottom attached tab segment\",\n        active ? \"active\" : undefined,\n    )}>\n        <div className=\"ui form\">\n            <div className=\"field\">\n                <label>Prompt</label>\n                <textarea\n                    value={prompt}\n                    readOnly\n                    style={{ minHeight : \"36em\", maxHeight : \"84em\" }}\n                />\n            </div>\n            {\n                selfDiscover.selectResult == undefined ?\n                undefined :\n                <div className=\"field\">\n                    <label>Selected Reasoning Modules</label>\n                    <textarea\n                        value={JSON.stringify(selfDiscover.selectResult, null, 2)}\n                        readOnly\n                        style={{ minHeight : \"36em\", maxHeight : \"84em\" }}\n                    />\n                </div>\n            }\n        </div>\n        <br/>\n        <button\n            className={classNames(\n                \"ui primary button\",\n                isLoading ? \"loading\" : undefined,\n            )}\n            onClick={async () => {\n                if (isLoading) {\n                    return;\n                }\n                const conversationA : Conversation = {\n                    ...selfDiscover.selectConversation,\n                    rawChatRequestConfig : {\n                        ...selfDiscover.selectConversation.rawChatRequestConfig,\n                        model : selfDiscover.model,\n                        response_format : {\n                            type : \"text\",\n                        },\n                        temperature : 0,\n                        max_tokens : 1024,\n                    },\n                    messages : [\n                        {\n                            uuid : uuid.v4(),\n                            messageType : \"user\",\n                            role : \"user\",\n                            content : prompt,\n                        },\n                    ],\n                };\n                setIsLoading(true);\n\n                try {\n                    const conversationB = await submitConversation(openAiApi, conversationA, []);\n                    const conversationC : Conversation = {\n                        ...conversationB,\n                        rawChatRequestConfig : {\n                            ...conversationB.rawChatRequestConfig,\n                            response_format : {\n                                type : \"json_object\",\n                            },\n                        },\n                        messages : [\n                            ...conversationB.messages,\n                            {\n                                uuid : uuid.v4(),\n                                messageType : \"user\",\n                                role : \"user\",\n                                content : convertPrompt,\n                            },\n                        ]\n                    };\n                    const conversationD = await submitConversation(openAiApi, conversationC, []);\n\n                    setIsLoading(false);\n\n                    const lastMessage = conversationD.messages[conversationD.messages.length-1];\n                    if (lastMessage.role != \"assistant\") {\n                        error.push(\"negative\", [`Expected assistant message, received ${lastMessage.role}`]);\n                        return;\n                    }\n                    if (lastMessage.messageType != \"assistant\") {\n                        error.push(\"negative\", [`Expected assistant message, received ${lastMessage.messageType}`]);\n                        return;\n                    }\n                    \n                    let parsed = {};\n                    try {\n                        parsed = JSON.parse(lastMessage.content);\n                    } catch (err) {\n                        handleError(error, err);\n                        return;\n                    }\n\n                    let validated : SelfDiscoverSelectResult;\n                    try {\n                        validated = selectResultMapper(\"result\", parsed);\n                    } catch (err) {\n                        handleError(error, err);\n                        return;\n                    }\n\n                    setSelfDiscover({\n                        ...selfDiscover,\n                        selectConversation : conversationD,\n                        selectResult : validated,\n                    });\n                    error.reset();\n                } catch (err) {\n                    setIsLoading(false);\n                    handleError(error, err);\n                }\n            }}\n        >\n            Select Reasoning Modules\n        </button>\n        <button className=\"ui primary button\" onClick={() => {\n            history.push(`/conversation/${selfDiscover.selectConversation.uuid}/edit`)\n        }}>\n            View Conversation\n        </button>\n    </div>\n}\n\nfunction buildPrompt (selfDiscover : SelfDiscover) {\n    const exampleTasks = selfDiscover.tasks\n        .filter(t => t.useAsExample)\n        .filter(t => t.problemStatement.trim() != \"\")\n        .map((t, index) => `### Example Task ${index+1}\n\n${t.problemStatement.trim()}`)\n    .join(\"\\n\\n\");\n\n    return `Select several reasoning modules that are crucial to utilize in order to solve the given task:\n\n### All reasoning module descriptions\n\n+ How could I devise an experiment to help solve that problem?\n+ Make a list of ideas for solving this problem, and apply them one by one to the problem to see if any progress can be made.\n+ How could I measure progress on this problem?\n+ How can I simplify the problem so that it is easier to solve?\n+ What are the key assumptions underlying this problem?\n+ What are the potential risks and drawbacks of each solution?\n+ What are the alternative perspectives or viewpoints on this problem?\n+ What are the long-term implications of this problem and its solutions?\n+ How can I break down this problem into smaller, more manageable parts?\n+ Critical Thinking: This style involves analyzing the problem from different perspectives, questioning assumptions, and evaluating\nthe evidence or information available. It focuses on logical reasoning, evidence-based decision-making, and identifying\npotential biases or flaws in thinking.\n+ Try creative thinking, generate innovative and out-of-the-box ideas to solve the problem. Explore unconventional solutions,\nthinking beyond traditional boundaries, and encouraging imagination and originality.\n+ Seek input and collaboration from others to solve the problem. Emphasize teamwork, open communication, and leveraging the\ndiverse perspectives and expertise of a group to come up with effective solutions.\n+ Use systems thinking: Consider the problem as part of a larger system and understanding the interconnectedness of various elements.\nFocuses on identifying the underlying causes, feedback loops, and interdependencies that influence the problem, and developing holistic\nsolutions that address the system as a whole.\n+ Use Risk Analysis: Evaluate potential risks, uncertainties, and tradeoffs associated with different solutions or approaches to a\nproblem. Emphasize assessing the potential consequences and likelihood of success or failure, and making informed decisions based\non a balanced analysis of risks and benefits.\n+ Use Reflective Thinking: Step back from the problem, take the time for introspection and self-reflection. Examine personal biases,\nassumptions, and mental models that may influence problem-solving, and being open to learning from past experiences to improve\nfuture approaches.\n+ What is the core issue or problem that needs to be addressed?\n+ What are the underlying causes or factors contributing to the problem?\n+ Are there any potential solutions or strategies that have been tried before? If yes, what were the outcomes and lessons learned?\n+ What are the potential obstacles or challenges that might arise in solving this problem?\n+ Are there any relevant data or information that can provide insights into the problem? If yes, what data sources are available,\nand how can they be analyzed?\n+ Are there any stakeholders or individuals who are directly affected by the problem? What are their perspectives and needs?\n+ What resources (financial, human, technological, etc.) are needed to tackle the problem effectively?\n+ How can progress or success in solving the problem be measured or evaluated?\n+ What indicators or metrics can be used?\n+ Is the problem a technical or practical one that requires a specific expertise or skill set? Or is it more of a conceptual or\ntheoretical problem?\n+ Does the problem involve a physical constraint, such as limited resources, infrastructure, or space?\n+ Is the problem related to human behavior, such as a social, cultural, or psychological issue?\n+ Does the problem involve decision-making or planning, where choices need to be made under uncertainty or with competing\nobjectives?\n+ Is the problem an analytical one that requires data analysis, modeling, or optimization techniques?\n+ Is the problem a design challenge that requires creative solutions and innovation?\n+ Does the problem require addressing systemic or structural issues rather than just individual instances?\n+ Is the problem time-sensitive or urgent, requiring immediate attention and action?\n+ What kinds of solution typically are produced for this kind of problem specification?\n+ Given the problem specification and the current best solution, have a guess about other possible solutions.\n+ Let’s imagine the current best solution is totally wrong, what other ways are there to think about the problem specification?\n+ What is the best way to modify this current best solution, given what you know about these kinds of problem specification?\n+ Ignoring the current best solution, create an entirely new solution to the problem.\n+ Let’s think step by step.\n+ Let’s make a step by step plan and implement it with good notion and explanation.\n\n${exampleTasks}\n\n### Instructions\n\nSelect several modules that are crucial for solving the tasks above.`;\n}\n\nconst convertPrompt = `Convert your response into a JSON object with the following properties,\n+ selected_reasoning_modules : string[] - an array containing the names of the selected reasoning modules\n+ rationale : string - A plain language explanation for why these modules were selecteds`\n\nconst selectResultMapper = tm.object({\n    selected_reasoning_modules : tm.array(tm.string()),\n    rationale : tm.string(),\n});","import * as React from \"react\";\nimport * as reactRouter from \"react-router-dom\";\nimport * as classNames from \"classnames\";\nimport * as uuid from \"uuid\";\nimport * as tm from \"type-mapping\";\nimport { Conversation, SelfDiscoverImplementResult, SelfDiscoverTask, SelfDiscoverTaskExecuteResult } from \"../local-storage-util\";\nimport { OpenAiApi } from \"../../api-openai\";\nimport { useError } from \"../use-error\";\nimport { submitConversation } from \"../ConversationEditPage\";\nimport { handleError } from \"../error-handling\";\n\nexport interface SelfDiscoverTaskFormProps {\n    tasks : readonly SelfDiscoverTask[];\n    task : SelfDiscoverTask;\n    onChange : (newSelfDiscoverTask : SelfDiscoverTask, oldSelfDiscoverTask : SelfDiscoverTask) => void;\n    onRemove : (task : SelfDiscoverTask) => void;\n    onMoveUp : (task : SelfDiscoverTask) => void;\n    onMoveDown : (task : SelfDiscoverTask) => void;\n    executeConfig : undefined|{\n        openAiApi : OpenAiApi,\n        implementResult : SelfDiscoverImplementResult,\n        model : string,\n    },\n}\n\nexport function SelfDiscoverTaskForm (props : SelfDiscoverTaskFormProps) {\n    const {\n        task,\n        onChange,\n        onRemove,\n        onMoveUp,\n        onMoveDown,\n        executeConfig,\n    } = props;\n\n    const [prompt, setPrompt] = React.useState(() => executeConfig == undefined ? \"\" : buildPrompt(task, executeConfig));\n\n    const history = reactRouter.useHistory();\n    const [isLoading, setIsLoading] = React.useState(false);\n    const error = useError();\n\n    React.useEffect(\n        () => {\n            const timer = setTimeout(() => {\n                if (executeConfig == undefined) {\n                    setPrompt(\"\");\n                    return;\n                }\n                setPrompt(buildPrompt(task, executeConfig));\n            }, 1000);\n            return () => clearTimeout(timer);\n        },\n        [executeConfig]\n    );\n\n    return <div className=\"item\">\n        <div className=\"header\">\n            Task {task.uuid}\n        </div>\n        <div className=\"ui form\">\n            <div className=\"two fields\">\n                <div className=\"field\">\n                    {\n                        executeConfig == undefined ?\n                        <>\n                            <label>Use as Example</label>\n                            <div className=\"ui checkbox\">\n                                <input\n                                    type=\"checkbox\"\n                                    checked={task.useAsExample}\n                                    onChange={(evt) => {\n                                        onChange({\n                                            ...task,\n                                            useAsExample : evt.target.checked,\n                                        }, task);\n                                    }}\n                                />\n                                <label>Use as Example</label>\n                            </div>\n                        </>:\n                        <>\n                            <button\n                                className={classNames(\n                                    \"ui primary button\",\n                                    isLoading ? \"loading\" : undefined,\n                                )}\n                                onClick={async () => {\n                                    if (isLoading) {\n                                        return;\n                                    }\n                                    const conversationA : Conversation = {\n                                        ...task.executeConversation,\n                                        rawChatRequestConfig : {\n                                            ...task.executeConversation.rawChatRequestConfig,\n                                            model : executeConfig.model,\n                                            response_format : {\n                                                type : \"json_object\",\n                                            },\n                                            temperature : 0,\n                                            max_tokens : 1024,\n                                        },\n                                        messages : [\n                                            {\n                                                uuid : uuid.v4(),\n                                                messageType : \"user\",\n                                                role : \"user\",\n                                                content : prompt,\n                                            },\n                                        ],\n                                    };\n                                    setIsLoading(true);\n\n                                    try {\n                                        const conversationB = await submitConversation(executeConfig.openAiApi, conversationA, []);\n\n                                        setIsLoading(false);\n\n                                        const lastMessage = conversationB.messages[conversationB.messages.length-1];\n                                        if (lastMessage.role != \"assistant\") {\n                                            error.push(\"negative\", [`Expected assistant message, received ${lastMessage.role}`]);\n                                            return;\n                                        }\n                                        if (lastMessage.messageType != \"assistant\") {\n                                            error.push(\"negative\", [`Expected assistant message, received ${lastMessage.messageType}`]);\n                                            return;\n                                        }\n                                        \n                                        let parsed = {};\n                                        try {\n                                            parsed = JSON.parse(lastMessage.content);\n                                        } catch (err) {\n                                            handleError(error, err);\n                                            return;\n                                        }\n\n                                        let validated : SelfDiscoverTaskExecuteResult;\n                                        try {\n                                            validated = executeResultMapper(\"result\", parsed);\n                                        } catch (err) {\n                                            handleError(error, err);\n                                            return;\n                                        }\n\n                                        onChange({\n                                            ...task,\n                                            executeConversation : conversationB,\n                                            executeResult : validated,\n                                        }, task);\n                                        error.reset();\n                                    } catch (err) {\n                                        setIsLoading(false);\n                                        handleError(error, err);\n                                    }\n                                }}\n                            >\n                                Execute\n                            </button>\n                            <button className=\"ui primary button\" onClick={() => {\n                                history.push(`/conversation/${task.executeConversation.uuid}/edit`)\n                            }}>\n                                View Conversation\n                            </button>\n                        </>\n                    }\n                </div>\n                <div\n                    className=\"field button group\"\n                    style={{\n                        alignSelf: \"flex-end\",\n                    }}\n                >\n                    <button\n                        className=\"ui icon red button\"\n                        onClick={() => onRemove(task)}\n                    >\n                        <i className=\"trash icon\"></i>\n                    </button>\n                    <button\n                        className=\"ui icon button\"\n                        onClick={() => onMoveUp(task)}\n                    >\n                        <i className=\"arrow up icon\"></i>\n                    </button>\n                    <button\n                        className=\"ui icon button\"\n                        onClick={() => onMoveDown(task)}\n                    >\n                        <i className=\"arrow down icon\"></i>\n                    </button>\n                </div>\n            </div>\n        </div>\n        <div className=\"ui form\">\n            <textarea\n                style={{\n                    minHeight : \"8em\",\n                    maxHeight : \"48em\",\n                }}\n                value={task.problemStatement}\n                onChange={(evt) => {\n                    props.onChange({\n                        ...task,\n                        problemStatement : evt.target.value,\n                    }, task);\n                }}\n            />\n            {\n                executeConfig == undefined || prompt == \"\" ?\n                undefined :\n                <div className=\"field\">\n                    <label>Prompt</label>\n                    <textarea\n                        value={prompt}\n                        readOnly\n                        style={{ minHeight : \"8em\", maxHeight : \"84em\" }}\n                    />\n                </div>\n            }\n            {\n                executeConfig == undefined || task.executeResult == undefined ?\n                undefined :\n                <div className=\"field\">\n                    <label>Execute Result</label>\n                    <textarea\n                        value={JSON.stringify(task.executeResult, null, 2)}\n                        readOnly\n                        style={{ minHeight : \"36em\", maxHeight : \"84em\" }}\n                    />\n                </div>\n            }\n        </div>\n    </div>\n}\n\nfunction buildPrompt (task : SelfDiscoverTask, executeConfig : Exclude<SelfDiscoverTaskFormProps[\"executeConfig\"], undefined>) {\n    const reasoningPlan = executeConfig.implementResult.steps\n        .map((step, index) => `${index+1}. ${step.instructions}`)\n        .join(\"\\n\");\n\n    return `Follow the step-by-step reasoning plan to arrive at correct answers.\n\n### Reasoning Plan\n${reasoningPlan}\n\n### Task\n${task.problemStatement.trim()}\n\n### Instructions\n\nFollow the reasoning structure to arrive at the correct answer for the task.\n\nOutput a JSON object with properties,\n+ steps : Step[] - The result of following each step in the reasoning structure\n+ answer : string - The answer in easy-to-understand plain language\n\ninterface Step {\n  result : string;\n}`;\n}\n\nconst executeResultMapper = tm.object({\n    steps : tm.array(tm.object({\n        result : tm.string(),\n    })),\n    answer : tm.string(),\n});","import * as React from \"react\";\nimport { SelfDiscoverTaskForm } from \"./SelfDiscoverTaskForm\";\nimport { SelfDiscoverImplementResult, SelfDiscoverTask } from \"../local-storage-util\";\nimport { OpenAiApi } from \"../../api-openai\";\n\nexport interface SelfDiscoverTaskListFormProps {\n    tasks : readonly SelfDiscoverTask[];\n    onChange : (newSelfDiscoverTasks : SelfDiscoverTask[], oldSelfDiscoverTasks : readonly SelfDiscoverTask[]) => void;\n    executeConfig : undefined|{\n        openAiApi : OpenAiApi,\n        implementResult : SelfDiscoverImplementResult,\n        model : string,\n    },\n}\n\nexport function SelfDiscoverTaskListForm (props : SelfDiscoverTaskListFormProps) {\n    const {\n        tasks,\n        onChange,\n        executeConfig,\n    } = props;\n    return <div className=\"ui segment divided selection massive list\">\n        {tasks.map((t, index) => {\n            return <SelfDiscoverTaskForm\n                tasks={tasks}\n                key={t.uuid}\n                task={t}\n                onChange={(newSelfDiscoverTask) => {\n                    onChange(tasks.map(m => {\n                        return m.uuid == newSelfDiscoverTask.uuid ?\n                            newSelfDiscoverTask :\n                            m;\n                    }), tasks);\n                }}\n                onRemove={() => {\n                    if (!confirm(`Delete task ${t.uuid}?`)) {\n                        return;\n                    }\n                    const newSelfDiscoverTasks = [...tasks];\n                    newSelfDiscoverTasks.splice(index, 1);\n                    onChange(newSelfDiscoverTasks, tasks);\n                }}\n                onMoveUp={(t) => {\n                    if (index == 0) {\n                        return;\n                    }\n                    const newSelfDiscoverTasks = [...tasks];\n                    newSelfDiscoverTasks.splice(index, 1);\n                    newSelfDiscoverTasks.splice(index-1, 0, t);\n                    onChange(newSelfDiscoverTasks, tasks);\n                }}\n                onMoveDown={(t) => {\n                    if (index >= tasks.length) {\n                        return;\n                    }\n                    const newSelfDiscoverTasks = [...tasks];\n                    newSelfDiscoverTasks.splice(index, 1);\n                    newSelfDiscoverTasks.splice(index+1, 0, t);\n                    onChange(newSelfDiscoverTasks, tasks);\n                }}\n                executeConfig={executeConfig}\n            />\n        })}\n    </div>;\n}","import * as React from \"react\";\nimport * as classNames from \"classnames\";\nimport * as localStorageUtil from \"../local-storage-util\";\nimport { SelfDiscover } from \"../local-storage-util\";\nimport { SelfDiscoverTaskListForm } from \"./SelfDiscoverTaskListForm\";\n\nexport interface SelfDiscoverTaskTabProps {\n    active : boolean;\n    selfDiscover : SelfDiscover,\n    setSelfDiscover : (selfDiscover : SelfDiscover) => void,\n}\n\nexport function SelfDiscoverTaskTab (props : SelfDiscoverTaskTabProps) {\n    const {\n        active,\n        selfDiscover,\n        setSelfDiscover,\n    } = props;\n    return <div className={classNames(\n        \"ui bottom attached tab segment\",\n        active ? \"active\" : undefined,\n    )}>\n        <SelfDiscoverTaskListForm\n            tasks={selfDiscover.tasks}\n            onChange={(newTasks) => {\n                setSelfDiscover({\n                    ...selfDiscover,\n                    tasks : newTasks,\n                });\n            }}\n            executeConfig={undefined}\n        />\n        <button className=\"ui primary button\" onClick={() => {\n            setSelfDiscover({\n                ...selfDiscover,\n                tasks : [\n                    ...selfDiscover.tasks,\n                    localStorageUtil.makeSelfDiscoverTask(selfDiscover.uuid),\n                ],\n            });\n        }}>\n            Add Task\n        </button>\n    </div>\n}","import * as React from \"react\";\nimport * as classnames from \"classnames\";\n\n/*\n    A hack-y controller for closing other dropdowns.\n    When one dropdown opens, all others must close.\n*/\ntype OnDropdownOpenDelegate = (element : HTMLElement) => void;\nconst onDropdownOpenListener : OnDropdownOpenDelegate[] = [];\nfunction addOnDropdownOpenListener (d : OnDropdownOpenDelegate) {\n    if (onDropdownOpenListener.indexOf(d) < 0) {\n        onDropdownOpenListener.push(d);\n    }\n}\nfunction removeOnDropdownOpenListener (d : OnDropdownOpenDelegate) {\n    const index = onDropdownOpenListener.indexOf(d);\n    if (index < 0) {\n        return;\n    }\n    onDropdownOpenListener.splice(index, 1);\n}\nfunction invokeOnDropdownOpen (element : HTMLElement) {\n    const arr = onDropdownOpenListener.slice();\n    for (const d of arr) {\n        d(element);\n    }\n}\n\ntype OnCloseAllDelegate = () => void;\nconst onCloseAllListener : OnCloseAllDelegate[] = [];\nfunction addOnCloseAllListener (d : OnCloseAllDelegate) {\n    if (onCloseAllListener.indexOf(d) < 0) {\n        onCloseAllListener.push(d);\n    }\n}\nfunction removeOnCloseAllListener (d : OnCloseAllDelegate) {\n    const index = onCloseAllListener.indexOf(d);\n    if (index < 0) {\n        return;\n    }\n    onCloseAllListener.splice(index, 1);\n}\nfunction invokeOnCloseAll () {\n    const arr = onCloseAllListener.slice();\n    for (const d of arr) {\n        d();\n    }\n}\n\nlet documentClickListener : ((e : MouseEvent) => void)|undefined = undefined;\nlet allowCloseAll = true;\nfunction initDocumentClickListener () {\n    if (documentClickListener != undefined) {\n        return;\n    }\n    if (document != undefined) {\n        documentClickListener = (_e) => {\n            //console.log(\"body click\", e);\n            if (!allowCloseAll) {\n                allowCloseAll = true;\n                return;\n            }\n            invokeOnCloseAll();\n        };\n        document.addEventListener(\"click\", documentClickListener, false);\n    }\n}\n\nexport interface UseDropdownProps {\n    //Defaults to \"open\"\n    openClassName? : string,\n    //Defaults to `undefined`\n    closeClassName? : string,\n}\nexport type DropdownHook = ReturnType<typeof useDropdown>;\nexport function useDropdown (props : UseDropdownProps) {\n    const [open, setOpen] = React.useState(false);\n    const ref = React.useRef<any>(null);\n\n    React.useEffect(() => {\n        initDocumentClickListener();\n\n        const d : OnDropdownOpenDelegate = (element) => {\n            if (element == ref.current) {\n                //console.log(\"opening\", element)\n                setOpen(true);\n            } else {\n                //console.log(\"closing\")\n                setOpen(false);\n            }\n        };\n        addOnDropdownOpenListener(d);\n        const d2 : OnCloseAllDelegate = () => {\n            //console.log(\"close all\");\n            setOpen(false);\n        };\n        addOnCloseAllListener(d2);\n        return () => {\n            removeOnDropdownOpenListener(d);\n            removeOnCloseAllListener(d2);\n        };\n    }, []);\n\n    const onMouseOver : React.MouseEventHandler<HTMLElement> = () => {\n\n    };\n    const onClick : React.MouseEventHandler<HTMLElement> = (e) => {\n        e.stopPropagation();\n        allowCloseAll = false;\n        //console.log(\"click\", ref.current, e.target);\n        if (e.target == ref.current || (e.target as HTMLElement).className.indexOf(\"menu\") < 0) {\n            if (open) {\n                setOpen(false);\n            } else if (ref.current != undefined) {\n                invokeOnDropdownOpen(ref.current);\n            }\n        } else {\n            setOpen(false);\n        }\n    };\n\n    return {\n        className : (className : string|undefined) => {\n            return classnames([\n                className,\n                (\n                    open ?\n                    (\n                        props.openClassName == undefined ?\n                        \"open\" :\n                        props.openClassName\n                    ) :\n                    props.closeClassName\n                ),\n            ]);\n        },\n        onMouseOver,\n        onClick,\n        ref,\n    };\n}\n","import * as React from \"react\";\n\nexport function useError () {\n    const [type, setType] = React.useState<\"warning\"|\"negative\">(\"warning\");\n    const [messages, setMessages] = React.useState<string[]>([]);\n\n    return {\n        messages,\n        type,\n        push : (newType : \"warning\"|\"negative\", newMessage : string[]) => {\n            if (newType == \"negative\") {\n                setType(newType);\n            }\n            setMessages(messages.concat(newMessage));\n        },\n        reset : () => {\n            setType(\"warning\");\n            setMessages([]);\n        },\n    };\n}\n\nexport type ErrorHook = ReturnType<typeof useError>;\n","import * as React from \"react\";\n\nexport const dataTypes = [\n    \"string\",\n    \"number\",\n    \"boolean\",\n    \"integer\",\n    \"object\",\n    \"array\",\n] as const;\n\nexport type DataType = typeof dataTypes[number];\n\nexport interface PropertyBase {\n    propertyName : string;\n    type : DataType;\n    propertyRequired : boolean;\n    description : string;\n}\nexport interface PrimitiveProperty extends PropertyBase {\n    type : Exclude<DataType, \"object\"|\"array\">;\n}\nexport interface ObjectProperty extends PropertyBase {\n    type : \"object\";\n\n    required : string[],\n    properties : Property[];\n}\nexport interface ArrayProperty extends PropertyBase {\n    type : \"array\";\n\n    items : Property;\n}\n\nexport type Property = PrimitiveProperty|ObjectProperty|ArrayProperty;\n\nexport interface PropertyEditorProps {\n    property : Property;\n    onChange : (newProperty : Property, oldProperty : Property) => void;\n    onRemove : (property : Property) => void;\n    onMoveUp : (property : Property) => void;\n    onMoveDown : (property : Property) => void;\n\n    hidePropertyName? : boolean;\n    hideRequired? : boolean;\n    hideControls? : boolean;\n    style?: React.CSSProperties;\n}\n\nexport function PropertyEditor (props : PropertyEditorProps) : JSX.Element {\n    const {\n        property,\n        onChange,\n        onRemove,\n        onMoveUp,\n        onMoveDown,\n        hidePropertyName,\n        hideRequired,\n        hideControls,\n        style,\n    } = props;\n\n    return <div style={style}>\n        <div className=\"five fields\" style={{\n            paddingLeft : \"32px\"\n        }}>\n            {\n                (hidePropertyName ?? false) ?\n                undefined :\n                <div className=\"field\">\n                    <label>Property Name</label>\n                    <input\n                        type=\"text\"\n                        value={property.propertyName}\n                        placeholder=\"Property Name\"\n                        onChange={(evt) => {\n                            onChange({\n                                ...property,\n                                propertyName : evt.target.value,\n                            }, property);\n                        }}\n                    />\n                </div>\n            }\n            <div className=\"field\">\n                <label>Data Type</label>\n                <select\n                    value={property.type}\n                    onChange={(evt) => {\n                        const type = evt.target.value as DataType;\n                        if (type == \"object\") {\n                            if (\"properties\" in property) {\n                                onChange({\n                                    ...property,\n                                    type : type,\n                                }, property);\n                            } else {\n                                onChange({\n                                    ...property,\n                                    type : type,\n                                    required : [],\n                                    properties : [],\n                                }, property);\n                            }\n                        } else if (type == \"array\") {\n                            if (\"items\" in property) {\n                                onChange({\n                                    ...property,\n                                    type : type,\n                                }, property);\n                            } else {\n                                onChange({\n                                    ...property,\n                                    type : type,\n                                    items : {\n                                        type : \"string\",\n                                        propertyName : \"item\",\n                                        propertyRequired : true,\n                                        description : \"\",\n                                    },\n                                }, property);\n                            }\n                        } else {\n                            onChange({\n                                ...property,\n                                type : type,\n                            }, property);\n                        }\n                    }}\n                >\n                    {dataTypes.map(s => {\n                        return <option key={s} value={s}>\n                            {s}\n                        </option>\n                    })}\n                </select>\n            </div>\n            {\n                (hideRequired ?? false) ?\n                undefined :\n                <div className=\"field\">\n                    <label>Required</label>\n                    <div className=\"ui checkbox\">\n                        <input\n                            type=\"checkbox\"\n                            checked={property.propertyRequired}\n                            onChange={(evt) => {\n                                onChange({\n                                    ...property,\n                                    propertyRequired : evt.target.checked,\n                                }, property);\n                            }}\n                        />\n                        <label>Required</label>\n                    </div>\n                </div>\n            }\n            <div className=\"field\">\n                <label>Description</label>\n                <input\n                    type=\"text\"\n                    value={property.description}\n                    placeholder=\"Description\"\n                    onChange={(evt) => {\n                        onChange({\n                            ...property,\n                            description : evt.target.value,\n                        }, property);\n                    }}\n                />\n            </div>\n            {\n                (hideControls ?? false) ?\n                undefined :\n                <div\n                    className=\"field button group\"\n                    style={{\n                        alignSelf: \"flex-end\",\n                    }}\n                >\n                    <button\n                        className=\"ui icon red button\"\n                        onClick={() => onRemove(property)}\n                    >\n                        <i className=\"trash icon\"></i>\n                    </button>\n                    <button\n                        className=\"ui icon button\"\n                        onClick={() => onMoveUp(property)}\n                    >\n                        <i className=\"arrow up icon\"></i>\n                    </button>\n                    <button\n                        className=\"ui icon button\"\n                        onClick={() => onMoveDown(property)}\n                    >\n                        <i className=\"arrow down icon\"></i>\n                    </button>\n                </div>\n            }\n        </div>\n        {\n            property.type == \"object\" ?\n            <ObjectEditor\n                object={property}\n                onChange={(objectProperty, oldObjectProperty) => {\n                    onChange(objectProperty, oldObjectProperty)\n                }}\n                style={{\n                    paddingLeft : \"32px\",\n                }}\n                name={property.propertyName}\n            />\n            : undefined\n        }\n        {\n            property.type == \"array\" ?\n            <PropertyEditor\n                property={property.items}\n                onChange={(propertyItems) => {\n                    onChange({\n                        ...property,\n                        items : propertyItems,\n                    }, property);\n                }}\n                onRemove={() => {}}\n                onMoveUp={() => {}}\n                onMoveDown={() => {}}\n                hidePropertyName={true}\n                hideRequired={true}\n                hideControls={true}\n                style={{\n                    paddingLeft : \"32px\",\n                }}\n            />\n            : undefined\n        }\n    </div>\n}\n\nexport interface Object {\n    type : \"object\",\n    required : string[],\n    properties : Property[];\n}\n\nexport interface ObjectEditorProps<T extends Object> {\n    object : T;\n    onChange : (newObject : T, oldObject : T) => void;\n    style?: React.CSSProperties;\n    name? : string;\n}\n\nfunction deriveRequired (properties : readonly Property[]) {\n    return properties\n        .filter(p => p.propertyRequired)\n        .map(p => p.propertyName);\n}\n\nexport function ObjectEditor<T extends Object> (props : ObjectEditorProps<T>) : JSX.Element {\n    const {\n        object,\n        onChange,\n        style,\n        name,\n    } = props;\n    return <div className=\"fields\" style={style}>\n        <div className=\"field\">\n            <label>{name} Properties</label>\n            {object.properties.map((property, index) => {\n                return <PropertyEditor\n                    key={index}\n                    property={property}\n                    onRemove={() => {\n                        const newProperties = [...object.properties];\n                        newProperties.splice(index, 1);\n                        onChange({\n                            ...object,\n                            required : deriveRequired(newProperties),\n                            properties : newProperties,\n                        }, object);\n                    }}\n                    onChange={(newProperty) => {\n                        const newProperties = [...object.properties];\n                        newProperties.splice(index, 1, newProperty);\n                        onChange({\n                            ...object,\n                            required : deriveRequired(newProperties),\n                            properties : newProperties,\n                        }, object);\n                    }}\n                    onMoveUp={() => {\n                        if (index == 0) {\n                            return;\n                        }\n                        const newProperties = [...object.properties];\n                        newProperties.splice(index, 1);\n                        newProperties.splice(index-1, 0, property);\n                        onChange({\n                            ...object,\n                            required : deriveRequired(newProperties),\n                            properties : newProperties,\n                        }, object);\n                    }}\n                    onMoveDown={() => {\n                        if (index >= object.properties.length) {\n                            return;\n                        }\n                        const newProperties = [...object.properties];\n                        newProperties.splice(index, 1);\n                        newProperties.splice(index+1, 0, property);\n                        onChange({\n                            ...object,\n                            required : deriveRequired(newProperties),\n                            properties : newProperties,\n                        }, object);\n                    }}\n                />\n            })}\n        </div>\n        <div\n            className=\"field button group\"\n            style={{\n                alignSelf: \"flex-start\",\n            }}\n        >\n            <button\n                className=\"ui icon red button\"\n                onClick={() => onChange({\n                    ...object,\n                    required : [\n                        ...object.required,\n                        `property_${object.properties.length}`,\n                    ],\n                    properties : [\n                        ...object.properties,\n                        {\n                            propertyName : `property_${object.properties.length}`,\n                            type : \"string\",\n                            propertyRequired : true,\n                            description : \"\",\n                        }\n                    ]\n                }, object)}\n            >\n                <i className=\"plus icon\"></i>\n            </button>\n        </div>\n    </div>\n}\n\nexport interface CleanedPropertyBase {\n    type : DataType;\n    description : string;\n}\nexport interface CleanedPrimitiveProperty extends CleanedPropertyBase {\n    type : Exclude<DataType, \"object\"|\"array\">;\n}\nexport interface CleanedObjectProperty extends CleanedPropertyBase {\n    type : \"object\";\n\n    required : string[],\n    properties : Record<string, CleanedProperty>;\n}\nexport interface CleanedArrayProperty extends CleanedPropertyBase {\n    type : \"array\";\n\n    items : CleanedProperty;\n}\n\nexport type CleanedProperty = CleanedPrimitiveProperty|CleanedObjectProperty|CleanedArrayProperty;\n\nexport interface CleanedObject {\n    type : \"object\",\n    required : string[],\n    properties : Record<string, CleanedProperty>;\n}\n\nexport function cleanProperty (property : Property) : CleanedProperty {\n    if (property.type == \"object\") {\n        return {\n            type : property.type,\n            description : property.description,\n            required : deriveRequired(property.properties),\n            properties : Object.fromEntries(\n                property.properties.map(p => [p.propertyName, cleanProperty(p)])\n            ),\n        };\n    } else if (property.type == \"array\") {\n        return {\n            type : property.type,\n            description : property.description,\n            items : cleanProperty(property.items),\n        };\n    } else {\n        return {\n            type : property.type,\n            description : property.description,\n        };\n    }\n}\n\nexport function cleanObject (object : Object) : CleanedObject {\n    return {\n        type : object.type,\n        required : deriveRequired(object.properties),\n        properties : Object.fromEntries(\n            object.properties.map(p => [p.propertyName, cleanProperty(p)])\n        ),\n    };\n}\n"],"sourceRoot":""}