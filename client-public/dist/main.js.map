{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/api-openai-mapper/chat.ts","webpack:///./src/api-openai-mapper/embedding.ts","webpack:///./src/api-openai-mapper/index.ts","webpack:///./src/api-openai-mapper/model.ts","webpack:///./src/api-openai-mapper/text-generation.ts","webpack:///./src/api-openai-mapper/tokenizer.ts","webpack:///./src/api-openai/chat.ts","webpack:///./src/api-openai/embedding.ts","webpack:///./src/api-openai/index.ts","webpack:///./src/api-openai/model.ts","webpack:///./src/api-openai/openai-api.ts","webpack:///./src/api-openai/text-generation.ts","webpack:///./src/api-openai/tokenizer.ts","webpack:///./src/client-public/ApiKeyPage.tsx","webpack:///./src/client-public/App.tsx","webpack:///./src/client-public/AssistantToolCallMessageForm.tsx","webpack:///./src/client-public/ChatRequestConfigUx.tsx","webpack:///./src/client-public/ContentMessageForm.tsx","webpack:///./src/client-public/ConversationEditPage.tsx","webpack:///./src/client-public/ConversationListPage.tsx","webpack:///./src/client-public/DefaultMenu.tsx","webpack:///./src/client-public/ErrorMessage.tsx","webpack:///./src/client-public/FunctionToolEditPage.tsx","webpack:///./src/client-public/FunctionToolForm.tsx","webpack:///./src/client-public/FunctionToolList.tsx","webpack:///./src/client-public/FunctionToolListPage.tsx","webpack:///./src/client-public/HomePage.tsx","webpack:///./src/client-public/MessageForm.tsx","webpack:///./src/client-public/MessageListForm.tsx","webpack:///./src/client-public/ModelListPage.tsx","webpack:///./src/client-public/ToolCallForm.tsx","webpack:///./src/client-public/ToolCallListForm.tsx","webpack:///./src/client-public/ToolResponseMessageForm.tsx","webpack:///./src/client-public/error-handling.ts","webpack:///./src/client-public/local-storage-util.ts","webpack:///./src/client-public/main.tsx","webpack:///./src/client-public/self-discover/SelfDiscoverAdaptTab.tsx","webpack:///./src/client-public/self-discover/SelfDiscoverEditPage.tsx","webpack:///./src/client-public/self-discover/SelfDiscoverExecuteTab.tsx","webpack:///./src/client-public/self-discover/SelfDiscoverImplementTab.tsx","webpack:///./src/client-public/self-discover/SelfDiscoverListPage.tsx","webpack:///./src/client-public/self-discover/SelfDiscoverSelectTab.tsx","webpack:///./src/client-public/self-discover/SelfDiscoverTaskForm.tsx","webpack:///./src/client-public/self-discover/SelfDiscoverTaskListForm.tsx","webpack:///./src/client-public/self-discover/SelfDiscoverTaskTab.tsx","webpack:///./src/client-public/use-dropdown.ts","webpack:///./src/client-public/use-error.ts","webpack:///./src/json-schema-editor/index.tsx"],"names":[],"mappings":";QAAA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA,QAAQ,oBAAoB;QAC5B;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA,iBAAiB,4BAA4B;QAC7C;QACA;QACA,kBAAkB,2BAA2B;QAC7C;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;;QAEA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;QAEA;QACA;QACA;QACA;QACA,gBAAgB,uBAAuB;QACvC;;;QAGA;QACA;QACA;QACA;;;;;;;;;;;;;ACvJa;AACb,8CAA8C,cAAc;AAC5D;AACA,SAAS,mBAAO,CAAC,kEAAqB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA,6CAA6C,uBAAuB;AACpE;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL,CAAC;;;;;;;;;;;;;AC3JY;AACb,8CAA8C,cAAc;AAC5D;AACA,SAAS,mBAAO,CAAC,kEAAqB;AACtC;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,CAAC;;;;;;;;;;;;;ACpBY;AACb;AACA;AACA,kCAAkC,oCAAoC,aAAa,EAAE,EAAE;AACvF,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,aAAa,mBAAO,CAAC,+CAAQ;AAC7B,aAAa,mBAAO,CAAC,yDAAa;AAClC,aAAa,mBAAO,CAAC,iDAAS;AAC9B,aAAa,mBAAO,CAAC,qEAAmB;AACxC,aAAa,mBAAO,CAAC,yDAAa;;;;;;;;;;;;;AChBrB;AACb,8CAA8C,cAAc;AAC5D;AACA,SAAS,mBAAO,CAAC,kEAAqB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA,CAAC;;;;;;;;;;;;;A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BAAuB,mBAAO,CAAC,uEAAsB;AACrD,4BAA4B,mBAAO,CAAC,0EAAuB;AAC3D,yBAAyB,mBAAO,CAAC,oEAAoB;AACrD,wBAAwB,mBAAO,CAAC,kEAAmB;AACnD,0BAA0B,mBAAO,CAAC,8DAAsB;AACxD,2BAA2B,mBAAO,CAAC,iEAAuB;AAC1D,kBAAkB,mBAAO,CAAC,qDAAa;AACvC,qBAAqB,mBAAO,CAAC,4DAAgB;AAC7C,uBAAuB,mBAAO,CAAC,+DAAkB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC;AACvC,aAAa;AACb;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8DAA8D,kBAAkB;AAChF;AACA,gCAAgC;AAChC;AACA,SAAS;AACT,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AA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,8CAA8C,cAAc;AAC5D;AACA,YAAY,mBAAO,CAAC,4CAAO;AAC3B;AACA;AACA,uCAAuC,uBAAuB;AAC9D,oCAAoC,qBAAqB;AACzD;AACA,0CAA0C;AAC1C,iDAAiD,aAAa,iCAAiC;AAC/F,iBAAiB,EAAE;AACnB,oCAAoC,qBAAqB;AACzD;AACA,0CAA0C;AAC1C,iDAAiD,aAAa,yBAAyB;AACvF,iBAAiB,EAAE;AACnB,oCAAoC,qBAAqB;AACzD;AACA,6CAA6C,8EAA8E;AAC3H,oCAAoC,qBAAqB;AACzD;AACA,6CAA6C;AAC7C,iDAAiD,aAAa,4BAA4B;AAC1F,iBAAiB,EAAE;AACnB;AACA;;;;;;;;;;;;;ACrCa;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2DAA2D,8BAA8B;AACzF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AC9Ba;AACb;AACA;AACA,gDAAgD,OAAO;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA,WAAW,mBAAO,CAAC,2DAAM;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,4EAA4E;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,wBAAwB;AACxD,uDAAuD,mCAAmC,EAAE;AAC5F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uDAAuD,qCAAqC,EAAE;AAC9F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,gBAAgB;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,gBAAgB;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,gBAAgB;AAC7D;AACA;AACA;AACA,8CAA8C,kBAAkB;AAChE,uCAAuC,OAAO,iCAAiC;AAC/E,SAAS,GAAG;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6CAA6C,gBAAgB;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACrQa;AACb;AACA,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,mBAAO,CAAC,4CAAO;AAC3B,eAAe,mBAAO,CAAC,oDAAW;AAClC,YAAY,mBAAO,CAAC,0CAAO;AAC3B,mBAAO,CAAC,qFAAgC;AACxC,mBAAmB,mBAAO,CAAC,gDAAe;AAC1C,uBAAuB,mBAAO,CAAC,uEAAsB;AACrD;AACA,YAAY,wBAAiB;AAC7B,UAAU,GAAe;AACzB;AACA,CAAC;AACD,gDAAgD,uBAAuB;;;;;;;;;;;;;AC5C1D;AACb;AACA;AACA,gDAAgD,OAAO;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,+DAA+D,gBAAgB,EAAE,EAAE;AAC9G;AACA,mCAAmC,MAAM,6BAA6B,EAAE,YAAY,WAAW,EAAE;AACjG,kCAAkC,MAAM,iCAAiC,EAAE,YAAY,WAAW,EAAE;AACpG,+BAA+B,qFAAqF;AACpH;AACA,KAAK;AACL;AACA;AACA,aAAa,6BAA6B,0BAA0B,aAAa,EAAE,qBAAqB;AACxG,gBAAgB,qDAAqD,oEAAoE,aAAa,EAAE;AACxJ,sBAAsB,sBAAsB,qBAAqB,GAAG;AACpE;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC;AACvC,kCAAkC,SAAS;AAC3C,kCAAkC,WAAW,UAAU;AACvD,yCAAyC,cAAc;AACvD;AACA,6GAA6G,OAAO,UAAU;AAC9H,gFAAgF,iBAAiB,OAAO;AACxG,wDAAwD,gBAAgB,QAAQ,OAAO;AACvF,8CAA8C,gBAAgB,gBAAgB,OAAO;AACrF;AACA,iCAAiC;AACjC;AACA;AACA,SAAS,YAAY,aAAa,OAAO,EAAE,UAAU,WAAW;AAChE,mCAAmC,SAAS;AAC5C;AACA;AACA;AACA,oDAAoD,QAAQ;AAC5D;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA,YAAY,mBAAO,CAAC,4CAAO;AAC3B,kBAAkB,mBAAO,CAAC,iFAAkB;AAC5C,WAAW,mBAAO,CAAC,2DAAM;AACzB,iBAAiB,mBAAO,CAAC,sDAAY;AACrC,SAAS,mBAAO,CAAC,+DAAc;AAC/B,6BAA6B,mBAAO,CAAC,6EAAyB;AAC9D,kBAAkB,mBAAO,CAAC,sDAAc;AACxC,uBAAuB,mBAAO,CAAC,gEAAmB;AAClD;AACA;AACA;AACA;AACA,yCAAyC,kCAAkC,EAAE;AAC7E;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,4BAA4B,4BAA4B;AACxD,KAAK;AACL,uCAAuC,yFAAyF;AAChI,oCAAoC,uBAAuB;AAC3D,wCAAwC,qBAAqB;AAC7D;AACA,iDAAiD,wCAAwC,uCAAuC,EAAE;AAClI;AACA;AACA,4CAA4C,qBAAqB;AACjE;AACA,qDAAqD,mFAAmF,uCAAuC,EAAE;AACjL;AACA,uCAAuC,sGAAsG;AAC7I;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gEAAgE,oCAAoC,2CAA2C,yDAAyD;AACxM;AACA,qCAAqC,oCAAoC;AACzE;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC,mCAAmC;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gEAAgE,mBAAmB,2CAA2C,wCAAwC;AACtK;AACA,qCAAqC,EAAE;AACvC;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gEAAgE,kBAAkB,2DAA2D;AAC7I;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa,EAAE,EAAE,EAAE;AACnB,uCAAuC;AACvC;AACA,aAAa,EAAE;AACf;AACA;AACA;AACA;AACA;AACA,8BAA8B,uBAAuB,EAAE;AACvD,8BAA8B,wCAAwC,EAAE;AACxE,kCAAkC,+EAA+E,EAAE;AACnH;AACA,gJAAgJ,iBAAiB,EAAE;AACnK;AACA;AACA,wOAAwO,kBAAkB,yBAAyB,GAAG;AACtR;AACA;AACA;AACA;AACA,KAAK;AACL,CAAC;;;;;;;;;;;;;ACxLY;AACb;AACA;AACA,gDAAgD,OAAO;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA,YAAY,mBAAO,CAAC,4CAAO;AAC3B,kBAAkB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AgE,qCAAqC,2CAA2C,0DAA0D;AAC1M;AACA,qCAAqC,oCAAoC;AACzE;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC,mCAAmC;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gEAAgE,mBAAmB,2CAA2C,wCAAwC;AACtK;AACA,qCAAqC,EAAE;AACvC;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gEAAgE,kBAAkB,6DAA6D;AAC/I;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa,EAAE,EAAE,EAAE;AACnB,uCAAuC;AACvC;AACA,aAAa,EAAE;AACf;AACA;AACA;AACA;AACA,8BAA8B,uBAAuB,EAAE;AACvD,8BAA8B,wCAAwC,EAAE;AACxE,kCAAkC,+EAA+E,EAAE;AACnH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;;ACpLY;AACb;AACA;AACA,gDAAgD,OAAO;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,+DAA+D,gBAAgB,EAAE,EAAE;AAC9G;AACA,mCAAmC,MAAM,6BAA6B,EAAE,YAAY,WAAW,EAAE;AACjG,kCAAkC,MAAM,iCAAiC,EAAE,YAAY,WAAW,EAAE;AACpG,+BAA+B,qFAAqF;AACpH;AACA,KAAK;AACL;AACA;AACA,aAAa,6BAA6B,0BAA0B,aAAa,EAAE,qBAAqB;AACxG,gBAAgB,qDAAqD,oEAAoE,aAAa,EAAE;AACxJ,sBAAsB,sBAAsB,qBAAqB,GAAG;AACpE;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC;AACvC,kCAAkC,SAAS;AAC3C,kCAAkC,WAAW,UAAU;AACvD,yCAAyC,cAAc;AACvD;AACA,6GAA6G,OAAO,UAAU;AAC9H,gFAAgF,iBAAi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BAAO,CAAC,wEAAuB;AACtD,iCAAiC,mBAAO,CAAC,kGAA4B;AACrE;AACA;AACA,uCAAuC,yFAAyF;AAChI,kFAAkF;AAClF,oDAAoD,kBAAkB,kBAAkB;AACxF,aAAa,4BAA4B;AACzC,uCAAuC;AACvC,oDAAoD,kBAAkB;AACtE;AACA,wBAAwB;AACxB,aAAa,EAAE;AACf;AACA;;;;;;;;;;;;;ACnCa;AACb,8CAA8C,cAAc;AAC5D;AACA,YAAY,mBAAO,CAAC,4CAAO;AAC3B,iBAAiB,mBAAO,CAAC,sDAAY;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,mBAAmB;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,mBAAmB;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AC3Ha;AACb,8CAA8C,cAAc;AAC5D;AACA,YAAY,mBAAO,CAAC,4CAAO;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;;;;;;;;;;;;ACtBa;AACb;AACA;AACA,gDAAgD,OAAO;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oDAAoD,QAAQ;AAC5D;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D;AACA,YAAY,mBAAO,CAAC,4CAAO;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,eAAe;AACtD,oCAAoC;AACpC;AACA,aAAa,EAAE;AACf;AACA;AACA,4CAA4C,qBAAqB;AACjE;AACA,kDAAkD;AAClD,yDAAyD,cAAc,iCAAiC;AACxG,yBAAyB,EAAE;AAC3B,wCAAwC,qBAAqB;AAC7D;AACA,+CAA+C;AAC/C;AACA;AACA;AACA,6DAA6D,cAAc,aAAa;AACxF;AACA;AACA,6DAA6D,cAAc,2CAA2C;AACtH;AACA;AACA;AACA;AACA,6DAA6D,cAAc,aAAa;AACxF;AACA;AACA,6DAA6D,cAAc;AAC3E;AACA;AACA;AACA;AACA,qCAAqC,EAAE;AACvC;AACA;AACA;AACA,yDAAyD,cAAc,aAAa;AACpF;AACA,qBAAqB,EAAE;AACvB,0DAA0D,mBAAmB;AAC7E,iBAAiB;AACjB;AACA;AACA,4CAA4C,qBAAqB;AACjE;AACA,gDAAgD,2BAA2B;AAC3E,sDAAsD;AACtD,6DAA6D,cAAc,uCAAuC;AAClH,6BAA6B,EAAE;AAC/B;AACA,wCAAwC,qBAAqB;AAC7D;AACA,8CAA8C;AAC9C,qDAAqD,cAAc,gCAAgC;AACnG,qBAAqB,EAAE;AACvB;AACA;AACA,4CAA4C;AAC5C;AACA,qBAAqB,EAAE;AACvB,mDAAmD,wDAAwD,2BAA2B,EAAE,EAAE;AAC1I,kDAAkD,0BAA0B;AAC5E,mDAAmD,oDAAoD,2BAA2B,EAAE,EAAE;AACtI,kDAAkD,6BAA6B;AAC/E,mDAAmD,oDAAoD,6BAA6B,EAAE,EAAE;AACxI,kDAAkD,+BAA+B;AACjF;AACA,+CAA+C;AAC/C;AACA,iBAAiB;AACjB;AACA,iBAAiB,+BAA+B;AAChD;AACA;AACA,iDAAiD;AACjD,iDAAiD,cAAc,uBAAuB;AACtF,iBAAiB,yBAAyB,EAAE,yBAAyB,EAAE,2BAA2B,EAAE;AACpG;AACA,iBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA,8BAA8B,2BAA2B,EAAE;AAC3D,2BAA2B,uBAAuB,EAAE;AACpD;AACA;AACA;AACA,uCAAuC,oCAAoC;AAC3E,oCAAoC,qBAAqB;AACzD;AACA;AACA;AACA;AACA,4DAA4D;AAC5D;AACA;AACA,qDAAqD,YAAY,qEAAqE;AACtI,qBAAqB;AACrB;AACA;AACA,qDAAqD,YAAY,qEAAqE;AACtI,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,qDAAqD,YAAY,qEAAqE;AACtI,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,qDAAqD,YAAY,qEAAqE;AACtI,qBAAqB,EAAE;AACvB,aAAa;AACb,oCAAoC;AACpC;AACA,aAAa,EAAE;AACf,2CAA2C,wDAAwD,qCAAqC,YAAY;AACpJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAwB,WAAW,EAAE,EAAE;AACvC,0CAA0C,yBAAyB;AACnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iFAAiF,2CAA2C,EAAE;AAC9H;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2EAA2E,2CAA2C,EAAE;AACxH;AACA;AACA","file":"main.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"main\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([\"./src/client-public/main.tsx\",\"vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.chatCompleteResponseBody = exports.chatCompleteRequestBody = exports.tools = exports.chatMessage = exports.contentChatMessage = exports.assistantContentChatMessage = exports.assistantToolCallChatMessage = exports.toolResponseChatMessage = void 0;\nvar tm = require(\"type-mapping/fluent\");\n/**\n * https://platform.openai.com/docs/guides/function-calling\n */\nexports.toolResponseChatMessage = tm.object({\n    tool_call_id: tm.string(),\n    role: tm.literal(\"tool\"),\n    /**\n     * The function name\n     */\n    name: tm.string(),\n    /**\n     * The result of the tool call\n     */\n    content: tm.string(),\n});\n/**\n * https://platform.openai.com/docs/guides/function-calling\n */\nexports.assistantToolCallChatMessage = tm.object({\n    role: tm.literal(\"assistant\"),\n    //content : tm.null(),\n    tool_calls: tm.array(tm.object({\n        id: tm.string(),\n        type: tm.literal(\"function\"),\n        function: tm.object({\n            name: tm.string(),\n            arguments: tm.jsonObjectString(),\n        }),\n    })),\n});\nexports.assistantContentChatMessage = tm.object({\n    role: tm.literal(\"assistant\"),\n    /**\n     * The contents of the message.\n     * content is required for all messages except assistant messages with function calls.\n     */\n    content: tm.string(),\n});\nexports.contentChatMessage = tm.object({\n    role: tm.literal(\"system\", \"user\"),\n    /**\n     * The contents of the message.\n     * content is required for all messages except assistant messages with function calls.\n     */\n    content: tm.string(),\n});\n/**\n * https://platform.openai.com/docs/guides/chat/introduction\n */\nexports.chatMessage = tm.or(exports.contentChatMessage, exports.assistantContentChatMessage, exports.assistantToolCallChatMessage, exports.toolResponseChatMessage);\nexports.tools = tm.array(tm.object({\n    type: tm.literal(\"function\"),\n    function: tm.object({\n        name: tm.string(),\n        description: tm.string(),\n        /**\n         * The parameters the functions accepts, described as a JSON Schema object\n         * See the [guide](https://platform.openai.com/docs/guides/gpt/function-calling) for examples,\n         * and the JSON Schema [reference](https://json-schema.org/understanding-json-schema/) for documentation about the format.\n         */\n        parameters: tm.jsonObject(),\n    })\n}));\n/**\n * https://platform.openai.com/docs/api-reference/chat\n */\nexports.chatCompleteRequestBody = tm.object({\n    model: tm.string(),\n    messages: tm.array(exports.chatMessage),\n    tools: exports.tools.optional(),\n    tool_choice: tm.or(tm.literal(\"none\", \"auto\"), tm.object({\n        type: tm.literal(\"function\"),\n        function: tm.object({\n            name: tm.string(),\n        }),\n    })).optional(),\n    /** @deprecated use tools */\n    // functions : tm.array(tm.object({\n    //     name : tm.string(),\n    //     description : tm.string().optional(),\n    //     /**\n    //      * The parameters the functions accepts, described as a JSON Schema object\n    //      * See the [guide](https://platform.openai.com/docs/guides/gpt/function-calling) for examples,\n    //      * and the JSON Schema [reference](https://json-schema.org/understanding-json-schema/) for documentation about the format.\n    //      */\n    //     parameters : tm.jsonObject(),\n    // })).optional(),\n    /** @deprecated use tool_choice */\n    /**\n     * Controls how the model responds to function calls.\n     * \"none\" means the model does not call a function, and responds to the end-user.\n     * \"auto\" means the model can pick between an end-user or calling a function.\n     * Specifying a particular function via {\"name\":\\ \"my_function\"} forces the model to call that function.\n     * \"none\" is the default when no functions are present. \"auto\" is the default if functions are present.\n     */\n    // function_call : tm.or(\n    //     tm.literal(\"none\", \"auto\"),\n    //     tm.object({\n    //         name : tm.string(),\n    //     })\n    // ).optional(),\n    temperature: tm.range({\n        gtEq: 0.0,\n        ltEq: 1.0,\n    }).optional(),\n    top_p: tm.range({\n        gtEq: 0.0,\n        ltEq: 1.0,\n    }).optional(),\n    n: tm.gtEq(1).optional(),\n    stream: tm.boolean().optional(),\n    stop: tm.array(tm.string()).optional(),\n    max_tokens: tm.range({\n        gtEq: 1,\n        ltEq: 2048,\n    }).optional(),\n    presence_penalty: tm.range({\n        gtEq: -2.0,\n        ltEq: 2.0,\n    }).optional(),\n    frequency_penalty: tm.range({\n        gtEq: -2.0,\n        ltEq: 2.0,\n    }).optional(),\n    logit_bias: tm.jsonObject().optional(),\n    response_format: tm.object({\n        type: tm.literal(\"text\", \"json_object\"),\n    }).optional(),\n    /**\n     * A unique identifier representing your end-user, which can help OpenAI to monitor and detect abuse.\n     */\n    user: tm.string().optional(),\n});\n/**\n * https://platform.openai.com/docs/api-reference/chat/create\n */\nexports.chatCompleteResponseBody = tm.object({\n    id: tm.string(),\n    object: tm.string(),\n    created: tm.integer(),\n    model: tm.string(),\n    choices: tm.array(tm.object({\n        index: tm.integer(),\n        message: exports.chatMessage,\n        finish_reason: tm.string(),\n    })),\n    usage: tm.object({\n        prompt_tokens: tm.integer(),\n        completion_tokens: tm.integer(),\n        total_tokens: tm.integer(),\n    }),\n});\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getEmbeddingResponseBody = exports.getEmbeddingRequestBody = void 0;\nvar tm = require(\"type-mapping/fluent\");\nexports.getEmbeddingRequestBody = tm.object({\n    input: tm.string(),\n    model: tm.string().or(tm.literal(\"text-embedding-ada-002\")),\n});\nexports.getEmbeddingResponseBody = tm.object({\n    data: tm.array(tm.object({\n        embedding: tm.array(tm.finiteNumber()),\n        index: tm.finiteNumber(),\n        object: tm.literal(\"embedding\"),\n    })),\n    object: tm.string(),\n    model: tm.string(),\n    usage: tm.object({\n        prompt_tokens: tm.integer(),\n        total_tokens: tm.integer(),\n    }),\n});\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./chat\"), exports);\n__exportStar(require(\"./embedding\"), exports);\n__exportStar(require(\"./model\"), exports);\n__exportStar(require(\"./text-generation\"), exports);\n__exportStar(require(\"./tokenizer\"), exports);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.modelListResponseBody = exports.model = void 0;\nvar tm = require(\"type-mapping/fluent\");\n/**\n * https://platform.openai.com/docs/api-reference/models/object\n */\nexports.model = tm.object({\n    id: tm.string(),\n    created: tm.finiteNumber(),\n    object: tm.literal(\"model\"),\n    owned_by: tm.string(),\n});\nexports.modelListResponseBody = tm.object({\n    object: tm.literal(\"list\"),\n    data: tm.array(exports.model),\n});\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.textGenerationResponseBody = exports.textGenerationRequestBody = void 0;\nvar tm = require(\"type-mapping\");\n/**\n * https://beta.openai.com/docs/api-reference/completions/create\n */\nexports.textGenerationRequestBody = tm.object({\n    prompt: tm.stringLength({\n        min: 1,\n    }),\n    max_tokens: tm.range({\n        gtEq: 16,\n        ltEq: 64,\n    }),\n    temperature: tm.range({\n        gtEq: 0.0,\n        ltEq: 1.0,\n    }),\n});\n/**\n * https://beta.openai.com/docs/api-reference/completions/create\n */\nexports.textGenerationResponseBody = tm.object({\n    id: tm.string(),\n    object: tm.string(),\n    created: tm.integer(),\n    model: tm.string(),\n    choices: tm.array(tm.object({\n        text: tm.string(),\n        index: tm.integer(),\n        finish_reason: tm.string(),\n    })),\n});\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.tokenizerTokenLengthResponseBody = exports.tokenizerTokenLengthRequestBody = void 0;\nvar tm = require(\"type-mapping/fluent\");\nexports.tokenizerTokenLengthRequestBody = tm.object({\n    text: tm.string(),\n});\nexports.tokenizerTokenLengthResponseBody = tm.object({\n    length: tm.integer(),\n});\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ChatApi = void 0;\nvar rd = require(\"route-declaration\");\nvar rc = require(\"route-client\");\nvar m = require(\"../api-openai-mapper\");\n/**\n * https://platform.openai.com/docs/api-reference/chat/create\n */\nvar completeChat = rd.route()\n    .append(\"/v1/chat/completions\")\n    .setBody(m.chatCompleteRequestBody)\n    .setResponse(m.chatCompleteResponseBody);\nexports.ChatApi = rc.toAxiosApi({\n    complete: completeChat,\n});\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.EmbeddingApi = void 0;\nvar rd = require(\"route-declaration\");\nvar rc = require(\"route-client\");\nvar m = require(\"../api-openai-mapper\");\nvar getEmbedding = rd.route()\n    .append(\"/v1/embeddings\")\n    .setBody(m.getEmbeddingRequestBody)\n    .setResponse(m.getEmbeddingResponseBody);\nexports.EmbeddingApi = rc.toAxiosApi({\n    getEmbedding: getEmbedding,\n});\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./openai-api\"), exports);\n__exportStar(require(\"./chat\"), exports);\n__exportStar(require(\"./embedding\"), exports);\n__exportStar(require(\"./text-generation\"), exports);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ModelApi = void 0;\nvar rd = require(\"route-declaration\");\nvar rc = require(\"route-client\");\nvar m = require(\"../api-openai-mapper\");\n/**\n * https://platform.openai.com/docs/api-reference/models/list\n */\nvar list = rd.route()\n    .append(\"/v1/models\")\n    .setResponse(m.modelListResponseBody);\nexports.ModelApi = rc.toAxiosApi({\n    list: list,\n});\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.OpenAiApi = void 0;\nvar chat_1 = require(\"./chat\");\nvar embedding_1 = require(\"./embedding\");\nvar model_1 = require(\"./model\");\nvar text_generation_1 = require(\"./text-generation\");\nvar tokenizer_1 = require(\"./tokenizer\");\nvar OpenAiApi = /** @class */ (function () {\n    function OpenAiApi(args) {\n        var myArgs = __assign(__assign({}, args), { onInjectHeader: function () {\n                return {\n                    Authorization: \"Bearer \" + args.apiKey,\n                };\n            } });\n        var defaultTimeout = 240 * 1000;\n        this.chat = new chat_1.ChatApi(myArgs);\n        this.chat.sender.axiosInstance.defaults.timeout = defaultTimeout;\n        this.embedding = new embedding_1.EmbeddingApi(myArgs);\n        this.embedding.sender.axiosInstance.defaults.timeout = defaultTimeout;\n        this.model = new model_1.ModelApi(myArgs);\n        this.model.sender.axiosInstance.defaults.timeout = defaultTimeout;\n        this.textGeneration = new text_generation_1.TextGenerationApi(myArgs);\n        this.textGeneration.sender.axiosInstance.defaults.timeout = defaultTimeout;\n        this.tokenizer = new tokenizer_1.TokenizerApi(myArgs);\n        this.tokenizer.sender.axiosInstance.defaults.timeout = defaultTimeout;\n    }\n    return OpenAiApi;\n}());\nexports.OpenAiApi = OpenAiApi;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TextGenerationApi = void 0;\nvar rd = require(\"route-declaration\");\nvar rc = require(\"route-client\");\nvar m = require(\"../api-openai-mapper\");\nvar tm = require(\"type-mapping\");\nvar generate = rd.route()\n    .append(\"/v1/engines\")\n    .appendParam(\"engine_id\")\n    .append(\"/completions\")\n    .setParam(tm.object({\n    engine_id: tm.string(),\n}))\n    .setBody(m.textGenerationRequestBody)\n    .setResponse(m.textGenerationResponseBody);\nexports.TextGenerationApi = rc.toAxiosApi({\n    generate: generate,\n});\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TokenizerApi = void 0;\nvar rd = require(\"route-declaration\");\nvar rc = require(\"route-client\");\nvar m = require(\"../api-openai-mapper\");\nvar tokenLength = rd.route()\n    .append(\"/v1/tokenizer/token-length\")\n    .setBody(m.tokenizerTokenLengthRequestBody)\n    .setResponse(m.tokenizerTokenLengthResponseBody);\nexports.TokenizerApi = rc.toAxiosApi({\n    tokenLength: tokenLength,\n});\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ApiKeyPage = void 0;\nvar React = require(\"react\");\nvar localStorageUtil = require(\"./local-storage-util\");\nfunction ApiKeyPage() {\n    var _a;\n    var _b = React.useState((_a = localStorageUtil.getItem(localStorageUtil.LocalStorageKey.OPEN_AI_API_KEY)) !== null && _a !== void 0 ? _a : \"\"), openAiApiKey = _b[0], setOpenAiApikey = _b[1];\n    return React.createElement(\"div\", { className: \"ui main container form\" },\n        React.createElement(\"div\", { className: \"field\" },\n            React.createElement(\"label\", null, \"Open AI API Key\"),\n            React.createElement(\"input\", { type: \"text\", value: openAiApiKey, onChange: function (evt) {\n                    setOpenAiApikey(evt.target.value);\n                } })),\n        React.createElement(\"button\", { className: \"ui primary button\", onClick: function () {\n                localStorageUtil.setItem(localStorageUtil.LocalStorageKey.OPEN_AI_API_KEY, openAiApiKey);\n                alert(\"Saved API Key\");\n            } }, \"Save\"));\n}\nexports.ApiKeyPage = ApiKeyPage;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.App = void 0;\nvar React = require(\"react\");\nvar use_dropdown_1 = require(\"./use-dropdown\");\nvar react_router_dom_1 = require(\"react-router-dom\");\n//import {DefaultMenu} from \"./DefaultMenu\";\nvar HomePage_1 = require(\"./HomePage\");\nvar DefaultMenu_1 = require(\"./DefaultMenu\");\nvar ApiKeyPage_1 = require(\"./ApiKeyPage\");\nvar FunctionToolListPage_1 = require(\"./FunctionToolListPage\");\nvar FunctionToolEditPage_1 = require(\"./FunctionToolEditPage\");\nvar ConversationListPage_1 = require(\"./ConversationListPage\");\nvar ConversationEditPage_1 = require(\"./ConversationEditPage\");\nvar ModelListPage_1 = require(\"./ModelListPage\");\nvar SelfDiscoverListPage_1 = require(\"./self-discover/SelfDiscoverListPage\");\nvar SelfDiscoverEditPage_1 = require(\"./self-discover/SelfDiscoverEditPage\");\nfunction App(_props) {\n    var sidebar = use_dropdown_1.useDropdown({\n        openClassName: \"uncover visible\",\n        closeClassName: \"uncover animating\",\n    });\n    // const storyComponent = React.useRef(() => <Story openAiApi={props.openAiApi}/>);\n    // const conversationComponent = React.useRef(() => <Conversation openAiApi={props.openAiApi}/>);\n    return (React.createElement(react_router_dom_1.HashRouter, null,\n        React.createElement(\"div\", { id: \"main-sidebar\", className: sidebar.className(\"ui sidebar inverted vertical massive menu left overlay\") },\n            React.createElement(react_router_dom_1.Link, { className: \"item\", to: \"/\" }, \"Home\"),\n            React.createElement(\"div\", { className: \"item\" },\n                \"Lists\",\n                React.createElement(\"div\", { className: \"menu\" },\n                    React.createElement(react_router_dom_1.Link, { className: \"ui item\", to: \"/list\" }, \"All Lists\"))),\n            React.createElement(\"div\", { className: \"item\" },\n                \"Search\",\n                React.createElement(\"div\", { className: \"menu\" })),\n            React.createElement(\"div\", { className: \"item\" },\n                \"Settings\",\n                React.createElement(\"div\", { className: \"menu\" },\n                    React.createElement(react_router_dom_1.Link, { className: \"ui item\", to: \"/api-key\" }, \"API Key\"),\n                    React.createElement(react_router_dom_1.Link, { className: \"ui item\", to: \"/function-tool\" }, \"Function Tools\"),\n                    React.createElement(react_router_dom_1.Link, { className: \"ui item\", to: \"/model\" }, \"Models\"),\n                    React.createElement(react_router_dom_1.Link, { className: \"ui item\", to: \"/conversation\" }, \"Conversations\"),\n                    React.createElement(react_router_dom_1.Link, { className: \"ui item\", to: \"/self-discover\" }, \"Self-Discovers\")))),\n        React.createElement(\"div\", { className: \"\", style: { height: \"100%\" } },\n            React.createElement(DefaultMenu_1.DefaultMenu, { sidebarHook: sidebar }),\n            React.createElement(react_router_dom_1.Switch, null,\n                React.createElement(react_router_dom_1.Route, { path: \"/api-key\", component: ApiKeyPage_1.ApiKeyPage }),\n                React.createElement(react_router_dom_1.Route, { path: \"/function-tool/:uuid/edit\", component: FunctionToolEditPage_1.FunctionToolEditPage }),\n                React.createElement(react_router_dom_1.Route, { path: \"/function-tool\", component: FunctionToolListPage_1.FunctionToolListPage }),\n                React.createElement(react_router_dom_1.Route, { path: \"/model\", component: function () { return React.createElement(ModelListPage_1.ModelListPage, { openAiApi: _props.openAiApi }); } }),\n                React.createElement(react_router_dom_1.Route, { path: \"/conversation/:uuid/edit\", component: function () { return React.createElement(ConversationEditPage_1.ConversationEditPage, { openAiApi: _props.openAiApi }); } }),\n                React.createElement(react_router_dom_1.Route, { path: \"/conversation\", component: ConversationListPage_1.ConversationListPage }),\n                React.createElement(react_router_dom_1.Route, { path: \"/self-discover/:uuid/edit\", component: function () { return React.createElement(SelfDiscoverEditPage_1.SelfDiscoverEditPage, { openAiApi: _props.openAiApi }); } }),\n                React.createElement(react_router_dom_1.Route, { path: \"/self-discover\", component: SelfDiscoverListPage_1.SelfDiscoverListPage }),\n                React.createElement(react_router_dom_1.Route, { path: \"/\", component: HomePage_1.HomePage })))));\n}\nexports.App = App;\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AssistantToolCallMessageForm = void 0;\nvar React = require(\"react\");\nvar ToolCallListForm_1 = require(\"./ToolCallListForm\");\nfunction AssistantToolCallMessageForm(props) {\n    var message = props.message, onChange = props.onChange, onAddResponse = props.onAddResponse;\n    return React.createElement(\"div\", { className: \"ui form\" },\n        React.createElement(ToolCallListForm_1.ToolCallListForm, { toolCalls: message.tool_calls, onChange: function (newToolCalls) {\n                onChange(__assign(__assign({}, message), { tool_calls: newToolCalls }), message);\n            }, onAddResponse: function (toolCall) {\n                onAddResponse(toolCall);\n            } }));\n}\nexports.AssistantToolCallMessageForm = AssistantToolCallMessageForm;\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ChatRequestConfigUx = exports.responseFormatTypes = void 0;\nvar React = require(\"react\");\nvar localStorageUtil = require(\"./local-storage-util\");\nvar ErrorMessage_1 = require(\"./ErrorMessage\");\nexports.responseFormatTypes = [\n    \"text\",\n    \"json_object\",\n];\nfunction ChatRequestConfigUx(props) {\n    var config = props.config, onConfigChange = props.onConfigChange;\n    var models = React.useState(function () {\n        return localStorageUtil.loadModels().filter(function (model) { return model.id.startsWith(\"gpt\"); });\n    })[0];\n    return React.createElement(\"div\", { className: \"ui form\" },\n        React.createElement(\"div\", { className: \"field\" },\n            React.createElement(\"label\", null, \"Model\"),\n            React.createElement(\"select\", { value: config.model, onChange: function (evt) {\n                    onConfigChange(__assign(__assign({}, config), { model: evt.target.value }));\n                } },\n                React.createElement(\"option\", { key: \"none\", value: \"\", disabled: true }, \"Select a Model\"),\n                models.map(function (model) {\n                    return React.createElement(\"option\", { key: model.id, value: model.id },\n                        model.id,\n                        \" - (\",\n                        new Date(model.created * 1000).toISOString(),\n                        \")\");\n                }))),\n        React.createElement(\"div\", { className: \"field\" },\n            React.createElement(\"label\", { \"data-tooltip\": \"When using JSON mode, you must also instruct the model to produce JSON yourself via a system or user message.\", \"data-position\": \"top left\", \"data-inverted\": true },\n                \"Response Format \",\n                React.createElement(\"i\", { className: \"question circle icon\" })),\n            React.createElement(\"select\", { value: config.response_format.type, onChange: function (evt) {\n                    onConfigChange(__assign(__assign({}, config), { response_format: {\n                            type: evt.target.value,\n                        } }));\n                } }, exports.responseFormatTypes.map(function (responeFormatType) {\n                return React.createElement(\"option\", { key: responeFormatType, value: responeFormatType }, responeFormatType);\n            })),\n            config.response_format.type == \"json_object\" ?\n                React.createElement(ErrorMessage_1.ErrorMessage, { error: {\n                        messages: [\n                            \"When using JSON mode, you must also instruct the model to produce JSON yourself via a system or user message.\",\n                            \"Without this, the model may generate an unending stream of whitespace until the generation reaches the token limit, resulting in a long-running and seemingly \\\"stuck\\\" request.\",\n                            \"Also note that the message content may be partially cut off if finish_reason=\\\"length\\\", which indicates the generation exceeded max_tokens or the conversation exceeded the max context length.\",\n                        ],\n                        type: \"warning\",\n                    } }) :\n                undefined),\n        React.createElement(\"div\", { className: \"field\" },\n            React.createElement(\"label\", null, \"Temperature\"),\n            React.createElement(\"small\", null,\n                \"What sampling temperature to use, between 0 and 2.\",\n                React.createElement(\"br\", null),\n                \"Higher values like 0.8 will make the output more random, while lower values like 0.2 will make it more focused and deterministic.\",\n                React.createElement(\"br\", null),\n                \"We generally recommend altering this or top_p but not both.\"),\n            React.createElement(\"input\", { type: \"number\", min: \"0\", max: \"2\", step: \"0.01\", value: config.temperature, onChange: function (evt) {\n                    onConfigChange(__assign(__assign({}, config), { temperature: Number(evt.target.value) }));\n                } })),\n        React.createElement(\"div\", { className: \"field\" },\n            React.createElement(\"label\", null, \"Max Output Tokens\"),\n            React.createElement(\"small\", null, \"The maximum number of tokens that can be generated in the chat completion.\"),\n            React.createElement(\"input\", { type: \"number\", min: \"1\", max: \"4096\", step: \"1\", value: config.max_tokens, onChange: function (evt) {\n                    onConfigChange(__assign(__assign({}, config), { max_tokens: Number(evt.target.value) }));\n                } })),\n        React.createElement(\"div\", { className: \"field\" },\n            React.createElement(\"label\", null, \"Stop Sequences\"),\n            React.createElement(\"small\", null, \"Up to 4 sequences where the API will stop generating further tokens.\"),\n            React.createElement(\"input\", { type: \"text\", placeholder: \"A JSON string or JSON array: \\\"test\\\" or [\\\"day\\\", \\\"night\\\"]\", value: config.stop, onChange: function (evt) {\n                    onConfigChange(__assign(__assign({}, config), { stop: evt.target.value }));\n                } })),\n        React.createElement(\"div\", { className: \"field\" },\n            React.createElement(\"label\", null, \"Top P\"),\n            React.createElement(\"small\", null,\n                \"An alternative to sampling with temperature, called nucleus sampling, where the model considers the results of the tokens with top_p probability mass.\",\n                React.createElement(\"br\", null),\n                \"So 0.1 means only the tokens comprising the top 10% probability mass are considered.\",\n                React.createElement(\"br\", null),\n                \"We generally recommend altering this or temperature but not both.\"),\n            React.createElement(\"input\", { type: \"number\", min: \"0\", max: \"1\", step: \"0.01\", value: config.top_p, onChange: function (evt) {\n                    onConfigChange(__assign(__assign({}, config), { top_p: Number(evt.target.value) }));\n                } })),\n        React.createElement(\"div\", { className: \"field\" },\n            React.createElement(\"label\", null, \"Frequency Penalty\"),\n            React.createElement(\"small\", null, \"Number between -2.0 and 2.0. Positive values penalize new tokens based on their existing frequency in the text so far, decreasing the model's likelihood to repeat the same line verbatim.\"),\n            React.createElement(\"input\", { type: \"number\", min: \"-2\", max: \"2\", step: \"0.01\", value: config.frequency_penalty, onChange: function (evt) {\n                    onConfigChange(__assign(__assign({}, config), { frequency_penalty: Number(evt.target.value) }));\n                } })),\n        React.createElement(\"div\", { className: \"field\" },\n            React.createElement(\"label\", null, \"Presence Penalty\"),\n            React.createElement(\"small\", null, \"Number between -2.0 and 2.0. Positive values penalize new tokens based on whether they appear in the text so far, increasing the model's likelihood to talk about new topics.\"),\n            React.createElement(\"input\", { type: \"number\", min: \"-2\", max: \"2\", step: \"0.01\", value: config.presence_penalty, onChange: function (evt) {\n                    onConfigChange(__assign(__assign({}, config), { presence_penalty: Number(evt.target.value) }));\n                } })));\n}\nexports.ChatRequestConfigUx = ChatRequestConfigUx;\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ContentMessageForm = exports.isContentMessage = void 0;\nvar React = require(\"react\");\nvar contentMessageTypes = [\n    \"system\",\n    \"user\",\n    \"assistant\",\n];\nfunction isContentMessage(m) {\n    return contentMessageTypes.includes(m.messageType);\n}\nexports.isContentMessage = isContentMessage;\nfunction ContentMessageForm(props) {\n    return React.createElement(\"div\", { className: \"ui form\" },\n        React.createElement(\"textarea\", { style: {\n                minHeight: \"8em\",\n                maxHeight: \"48em\",\n            }, value: props.message.content, onChange: function (evt) {\n                props.onChange(__assign(__assign({}, props.message), { content: evt.target.value }), props.message);\n            } }));\n}\nexports.ContentMessageForm = ContentMessageForm;\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from) {\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\n        to[j] = from[i];\n    return to;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConversationEditPage = exports.submitConversation = void 0;\nvar React = require(\"react\");\nvar reactRouter = require(\"react-router-dom\");\nvar uuid = require(\"uuid\");\nvar classNames = require(\"classnames\");\nvar localStorageUtil = require(\"./local-storage-util\");\nvar ChatRequestConfigUx_1 = require(\"./ChatRequestConfigUx\");\nvar FunctionToolList_1 = require(\"./FunctionToolList\");\nvar MessageListForm_1 = require(\"./MessageListForm\");\nvar api_openai_mapper_1 = require(\"../api-openai-mapper\");\nvar json_schema_editor_1 = require(\"../json-schema-editor\");\nvar use_error_1 = require(\"./use-error\");\nvar ErrorMessage_1 = require(\"./ErrorMessage\");\nvar error_handling_1 = require(\"./error-handling\");\nfunction toMessage(m) {\n    switch (m.role) {\n        case \"system\": {\n            return {\n                uuid: uuid.v4(),\n                messageType: \"system\",\n                role: m.role,\n                content: m.content,\n            };\n        }\n        case \"user\": {\n            return {\n                uuid: uuid.v4(),\n                messageType: \"user\",\n                role: m.role,\n                content: m.content,\n            };\n        }\n        case \"assistant\": {\n            if (\"tool_calls\" in m) {\n                return {\n                    uuid: uuid.v4(),\n                    messageType: \"assistant_tool_call\",\n                    role: m.role,\n                    tool_calls: m.tool_calls,\n                };\n            }\n            else {\n                return {\n                    uuid: uuid.v4(),\n                    messageType: \"assistant\",\n                    role: m.role,\n                    content: m.content,\n                };\n            }\n        }\n        case \"tool\": {\n            return {\n                uuid: uuid.v4(),\n                messageType: \"tool_response\",\n                role: m.role,\n                tool_call_id: m.tool_call_id,\n                name: m.name,\n                content: m.content,\n            };\n        }\n    }\n}\nfunction parseStop(str) {\n    if (str.trim() == \"\") {\n        return undefined;\n    }\n    try {\n        var result = JSON.parse(str);\n        if (typeof result == \"string\") {\n            return [result];\n        }\n        else {\n            return result;\n        }\n    }\n    catch (err) {\n        console.warn(err);\n        return undefined;\n    }\n}\nfunction parseFunctionTools(conversation, functionTools) {\n    var result = functionTools\n        .filter(function (f) {\n        var _a;\n        return Object.prototype.hasOwnProperty.call(conversation.usedFunctions, f.uuid) ?\n            (_a = conversation.usedFunctions[f.uuid]) !== null && _a !== void 0 ? _a : false :\n            false;\n    })\n        .map(function (f) {\n        return {\n            type: \"function\",\n            function: {\n                name: f.name,\n                description: f.description,\n                parameters: __assign({}, json_schema_editor_1.cleanObject(f.parameters)),\n            },\n        };\n    });\n    return result.length == 0 ?\n        undefined :\n        api_openai_mapper_1.tools(\"parseFunctionTools\", result);\n}\nfunction parseMessages(messages) {\n    return messages.map(function (m, i) {\n        return api_openai_mapper_1.chatMessage(\"parseMessages[\" + i + \"]\", m);\n    });\n}\nfunction submitConversation(openAiApi, conversation, functionTools) {\n    return __awaiter(this, void 0, Promise, function () {\n        var parsedStop, response, choice;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    parsedStop = parseStop(conversation.rawChatRequestConfig.stop);\n                    return [4 /*yield*/, openAiApi.chat.complete()\n                            .setBody({\n                            model: conversation.rawChatRequestConfig.model,\n                            messages: parseMessages(conversation.messages),\n                            tools: parseFunctionTools(conversation, functionTools),\n                            tool_choice: undefined,\n                            temperature: conversation.rawChatRequestConfig.temperature,\n                            top_p: conversation.rawChatRequestConfig.top_p,\n                            /**\n                             * How many chat completion choices to generate for each input message.\n                             * Note that you will be charged based on the number of generated tokens across all of the choices.\n                             * Keep n as 1 to minimize costs.\n                             */\n                            n: undefined,\n                            stream: false,\n                            stop: parsedStop,\n                            max_tokens: conversation.rawChatRequestConfig.max_tokens,\n                            presence_penalty: conversation.rawChatRequestConfig.presence_penalty,\n                            frequency_penalty: conversation.rawChatRequestConfig.frequency_penalty,\n                            logit_bias: undefined,\n                            response_format: conversation.rawChatRequestConfig.response_format,\n                            user: undefined,\n                        })\n                            .send()];\n                case 1:\n                    response = _a.sent();\n                    if (response.responseBody.choices.length != 1) {\n                        console.error(response.responseBody);\n                        throw new Error(\"Expected 1 choice, found \" + response.responseBody.choices.length);\n                    }\n                    choice = response.responseBody.choices[0];\n                    return [2 /*return*/, __assign(__assign({}, conversation), { messages: __spreadArray(__spreadArray([], conversation.messages), [\n                                toMessage(choice.message),\n                            ]) })];\n            }\n        });\n    });\n}\nexports.submitConversation = submitConversation;\nfunction ConversationEditPage(props) {\n    var routeParams = reactRouter.useParams();\n    var _a = React.useState(localStorageUtil.loadConversation(routeParams.uuid)), conversation = _a[0], setConversation = _a[1];\n    var functionTools = React.useMemo(function () {\n        return localStorageUtil.loadFunctionTools();\n    }, []);\n    var _b = React.useState(false), isLoading = _b[0], setIsLoading = _b[1];\n    var error = use_error_1.useError();\n    React.useEffect(function () {\n        if (conversation == undefined) {\n            return;\n        }\n        var timer = setTimeout(function () {\n            //localStorageUtil.loadConversation(conversation.uuid);\n            localStorageUtil.saveConversation(conversation);\n            var lastMessage = conversation.messages.length > 0 ?\n                conversation.messages[conversation.messages.length - 1] :\n                undefined;\n            var meta = localStorageUtil.loadConversationsMeta().map(function (m) {\n                return m.uuid == conversation.uuid ?\n                    {\n                        uuid: conversation.uuid,\n                        name: conversation.name,\n                        description: conversation.description,\n                        lastMessage: lastMessage == undefined ?\n                            \"\" :\n                            \"content\" in lastMessage ?\n                                lastMessage.content.substring(0, 100) :\n                                lastMessage.messageType,\n                    } :\n                    m;\n            });\n            localStorageUtil.saveConversationsMeta(meta);\n        }, 1000);\n        return function () { return clearTimeout(timer); };\n    }, [conversation]);\n    if (conversation == undefined) {\n        return React.createElement(\"div\", { className: \"ui main container\" },\n            \"Conversation \",\n            routeParams.uuid,\n            \" not found\");\n    }\n    return React.createElement(\"div\", { className: \"ui main container\" },\n        React.createElement(\"div\", { className: \"ui form\" },\n            React.createElement(\"div\", { className: \"two fields\" },\n                React.createElement(\"div\", { className: \"field\" },\n                    React.createElement(\"label\", null, \"Title\"),\n                    React.createElement(\"input\", { placeholder: \"Enter a Conversation Title\", value: conversation.name, onChange: function (evt) {\n                            setConversation(__assign(__assign({}, conversation), { name: evt.target.value }));\n                        } })),\n                React.createElement(\"div\", { className: \"field\" },\n                    React.createElement(\"label\", null, \"Description\"),\n                    React.createElement(\"input\", { placeholder: \"Enter a Conversation Description\", value: conversation.description, onChange: function (evt) {\n                            setConversation(__assign(__assign({}, conversation), { description: evt.target.value }));\n                        } })))),\n        React.createElement(MessageListForm_1.MessageListForm, { messages: conversation.messages, onChange: function (newMessages) {\n                setConversation(__assign(__assign({}, conversation), { messages: newMessages }));\n            } }),\n        React.createElement(\"div\", { className: \"ui segment\" },\n            React.createElement(ErrorMessage_1.ErrorMessage, { error: error }),\n            React.createElement(\"button\", { className: \"ui primary button\", onClick: function () {\n                    setConversation(__assign(__assign({}, conversation), { messages: __spreadArray(__spreadArray([], conversation.messages), [\n                            {\n                                uuid: uuid.v4(),\n                                messageType: \"user\",\n                                role: \"user\",\n                                content: \"\",\n                            }\n                        ]) }));\n                } }, \"Add Message\"),\n            React.createElement(\"button\", { className: classNames(\"ui primary button\", isLoading ? \"loading\" : undefined), onClick: function () {\n                    if (isLoading) {\n                        return;\n                    }\n                    setIsLoading(true);\n                    submitConversation(props.openAiApi, conversation, functionTools)\n                        .then(function (newConversation) {\n                        setIsLoading(false);\n                        setConversation(newConversation);\n                        error.reset();\n                    }, function (err) {\n                        setIsLoading(false);\n                        error_handling_1.handleError(error, err);\n                    });\n                } }, \"Submit\")),\n        React.createElement(\"div\", { className: \"ui segment\" },\n            React.createElement(ChatRequestConfigUx_1.ChatRequestConfigUx, { config: conversation.rawChatRequestConfig, onConfigChange: function (rawChatRequestConfig) {\n                    setConversation(__assign(__assign({}, conversation), { rawChatRequestConfig: rawChatRequestConfig }));\n                } })),\n        React.createElement(\"div\", { className: \"ui segment\" }, React.createElement(FunctionToolList_1.FunctionToolList, { functionTools: functionTools, editOnClick: false, rightFloatedContent: function (f) {\n                var _a;\n                return React.createElement(\"div\", { className: \"ui checkbox\", key: f.uuid },\n                    React.createElement(\"input\", { type: \"checkbox\", checked: Object.prototype.hasOwnProperty.call(conversation.usedFunctions, f.uuid) ?\n                            (_a = conversation.usedFunctions[f.uuid]) !== null && _a !== void 0 ? _a : false :\n                            false, onChange: function (evt) {\n                            var _a;\n                            setConversation(__assign(__assign({}, conversation), { usedFunctions: __assign(__assign({}, conversation.usedFunctions), (_a = {}, _a[f.uuid] = evt.target.checked, _a)) }));\n                        } }),\n                    React.createElement(\"label\", null));\n            } })));\n}\nexports.ConversationEditPage = ConversationEditPage;\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from) {\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\n        to[j] = from[i];\n    return to;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConversationListPage = void 0;\nvar React = require(\"react\");\nvar reactRouter = require(\"react-router-dom\");\nvar uuid = require(\"uuid\");\nvar localStorageUtil = require(\"./local-storage-util\");\n//import { Conversation } from \"./ConversationForm\";\nfunction ConversationListPage() {\n    var history = reactRouter.useHistory();\n    var _a = React.useState(localStorageUtil.loadConversationsMeta()), conversations = _a[0], setConversations = _a[1];\n    return React.createElement(\"div\", { className: \"ui main container\" },\n        React.createElement(\"div\", { className: \"ui segment divided selection massive list\" }, conversations.map(function (meta) {\n            var displayName = meta.name.trim() == \"\" ?\n                \"Conversation \" + meta.uuid :\n                meta.name;\n            return React.createElement(\"div\", { className: \"item\", key: meta.uuid, onClick: function () {\n                    history.push(\"/conversation/\" + meta.uuid + \"/edit\");\n                } },\n                React.createElement(\"div\", { className: \"extra right floated\" },\n                    React.createElement(\"div\", { className: \"ui icon secondary button\", onClick: function (evt) {\n                            evt.preventDefault();\n                            evt.stopPropagation();\n                            if (confirm(\"Copy \" + displayName + \"?\")) {\n                                var existingConversation = localStorageUtil.loadConversation(meta.uuid);\n                                if (existingConversation == undefined) {\n                                    alert(\"Cannot find \" + displayName + \" / \" + meta.uuid);\n                                    return;\n                                }\n                                var newUuid = uuid.v4();\n                                var newConversation = __assign(__assign({}, existingConversation), { uuid: newUuid, name: \"Copy of \" + displayName });\n                                var newConversations = __spreadArray(__spreadArray([], localStorageUtil.loadConversationsMeta()), [\n                                    __assign(__assign({}, meta), { uuid: newUuid, name: \"Copy of \" + displayName }),\n                                ]);\n                                setConversations(newConversations);\n                                localStorageUtil.saveConversationsMeta(newConversations);\n                                localStorageUtil.saveConversation(newConversation);\n                            }\n                        } },\n                        React.createElement(\"i\", { className: \"copy icon\" })),\n                    React.createElement(\"div\", { className: \"ui icon red button\", onClick: function (evt) {\n                            evt.preventDefault();\n                            evt.stopPropagation();\n                            if (confirm(\"Delete \" + displayName + \"?\")) {\n                                var newConversations = localStorageUtil.loadConversationsMeta()\n                                    .filter(function (m) { return m.uuid != meta.uuid; });\n                                setConversations(newConversations);\n                                localStorageUtil.saveConversationsMeta(newConversations);\n                                localStorageUtil.deleteConversation(meta);\n                            }\n                        } },\n                        React.createElement(\"i\", { className: \"trash icon\" }))),\n                React.createElement(\"div\", { className: \"content\" },\n                    React.createElement(\"div\", { className: \"header\" }, displayName),\n                    React.createElement(\"div\", { className: \"ui mini label\" }, meta.uuid),\n                    meta.description.trim() == \"\" ?\n                        React.createElement(\"small\", { className: \"description\" }, \"There is no description for this conversation\") :\n                        React.createElement(\"div\", { className: \"description\" }, meta.description),\n                    meta.lastMessage.trim() == \"\" ?\n                        undefined :\n                        React.createElement(\"div\", { className: \"description one-line-ellipsis small-description\" },\n                            \"Last Message: \",\n                            meta.lastMessage)));\n        })),\n        React.createElement(\"button\", { className: \"ui primary button\", onClick: function () {\n                var conversations = localStorageUtil.loadConversationsMeta();\n                var _a = localStorageUtil.makeConversation(), meta = _a.meta, conversation = _a.conversation;\n                var newConversations = __spreadArray(__spreadArray([], conversations), [\n                    meta,\n                ]);\n                localStorageUtil.saveConversationsMeta(newConversations);\n                localStorageUtil.saveConversation(conversation);\n                setConversations(newConversations);\n            } }, \"Create Conversation\"));\n}\nexports.ConversationListPage = ConversationListPage;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DefaultMenu = void 0;\nvar React = require(\"react\");\nvar react_router_dom_1 = require(\"react-router-dom\");\nfunction DefaultMenu(props) {\n    var _a = React.useState(\"\"), searchInput = _a[0], setSearchInput = _a[1];\n    //const dropdownSearch = useDropdown({});\n    return React.createElement(react_router_dom_1.Route, { render: function (_a) {\n            //searchId, atVersion, rowsPerPage\n            //atVersion\n            //Convenience method to pick values, stringify and prepend \"?\" character\n            var history = _a.history;\n            /*const queryOnlyLanguageCode = {\n                languageCode : query.languageCode,\n            };*/\n            var goToSearch = function () {\n                if (/^\\s*$/.test(searchInput)) {\n                    return;\n                }\n                history.push(\"/search/title/\" + encodeURIComponent(searchInput));\n            };\n            return (React.createElement(\"div\", { className: \"ui fixed inverted menu\" },\n                React.createElement(\"a\", { className: \"ui item header home-button\", onClick: props.sidebarHook.onClick, onMouseOver: props.sidebarHook.onMouseOver, ref: props.sidebarHook.ref },\n                    React.createElement(\"span\", { className: \"home-button-text\" },\n                        React.createElement(\"i\", { className: \"bars icon\" })),\n                    React.createElement(\"span\", { className: \"mini-home-button-text\" },\n                        React.createElement(\"i\", { className: \"bars icon\" }))),\n                React.createElement(\"div\", { className: \"ui item\", style: {\n                        minWidth: \"0px\",\n                        //maxWidth : \"200px\",\n                        flex: 1,\n                    } },\n                    React.createElement(\"form\", { className: \"ui input\", onSubmit: function (e) {\n                            e.preventDefault();\n                            goToSearch();\n                        } },\n                        React.createElement(\"input\", { type: \"text\", placeholder: \"Search...\", value: searchInput, onChange: function (e) {\n                                setSearchInput(e.target.value);\n                            } })))));\n        } });\n}\nexports.DefaultMenu = DefaultMenu;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ErrorMessage = void 0;\nvar React = require(\"react\");\nvar react_router_dom_1 = require(\"react-router-dom\");\nfunction ErrorMessage(props) {\n    var error = props.error;\n    if (error.messages.length == 0) {\n        return React.createElement(\"div\", { className: \"ui hidden message\" });\n    }\n    else {\n        return (React.createElement(\"div\", { className: \"ui icon message \" + error.type, style: { display: \"flex\" } },\n            React.createElement(\"i\", { className: \"exclamation triangle icon\" }),\n            React.createElement(\"div\", { className: \"content\" },\n                React.createElement(\"div\", { className: \"header\" }, error.type == \"warning\" ? \"Warning\" : \"Error\"),\n                React.createElement(\"ul\", { className: \"list\" },\n                    error.messages.map(function (message, i) { return React.createElement(\"li\", { key: i }, message); }),\n                    error.messages.some(function (msg) { return msg.startsWith(\"no such\"); }) ?\n                        React.createElement(\"li\", null,\n                            React.createElement(react_router_dom_1.Link, { to: \"/\" }, \"Maybe peforming a local data update on the Home page will help\")) :\n                        undefined))));\n    }\n}\nexports.ErrorMessage = ErrorMessage;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FunctionToolEditPage = void 0;\nvar React = require(\"react\");\nvar reactRouter = require(\"react-router-dom\");\nvar localStorageUtil = require(\"./local-storage-util\");\nvar FunctionToolForm_1 = require(\"./FunctionToolForm\");\nfunction FunctionToolEditPage() {\n    var history = reactRouter.useHistory();\n    var routeParams = reactRouter.useParams();\n    var _a = React.useState(localStorageUtil.loadFunctionTools().find(function (f) { return f.uuid == routeParams.uuid; })), functionTool = _a[0], setFunctionTool = _a[1];\n    if (functionTool == undefined) {\n        return React.createElement(\"div\", { className: \"ui main container\" },\n            \"Function Tool \",\n            routeParams.uuid,\n            \" not found\");\n    }\n    return React.createElement(\"div\", { className: \"ui main container\" },\n        React.createElement(\"div\", { className: \"ui segment\" },\n            React.createElement(FunctionToolForm_1.FunctionToolForm, { functionTool: functionTool, onChange: setFunctionTool })),\n        React.createElement(\"button\", { className: \"ui primary button\", onClick: function () {\n                var functionTools = localStorageUtil.loadFunctionTools();\n                var newFunctionTools = functionTools.map(function (f) {\n                    return f.uuid == routeParams.uuid ?\n                        functionTool :\n                        f;\n                });\n                localStorageUtil.saveFunctionTools(newFunctionTools);\n                history.push(\"/function-tool\");\n            } }, \"Save\"));\n}\nexports.FunctionToolEditPage = FunctionToolEditPage;\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FunctionToolForm = void 0;\nvar React = require(\"react\");\nvar jsonSchemaEditor = require(\"../json-schema-editor\");\nfunction FunctionToolForm(props) {\n    var functionTool = props.functionTool, onChange = props.onChange;\n    return React.createElement(\"div\", { className: \"ui form\" },\n        React.createElement(\"div\", { className: \"field\" },\n            React.createElement(\"label\", null, \"Name\"),\n            React.createElement(\"small\", null, \"The name of the function to be called. Must be a-z, A-Z, 0-9, or contain underscores and dashes, with a maximum length of 64.\"),\n            React.createElement(\"input\", { type: \"text\", value: functionTool.name, onChange: function (evt) {\n                    onChange(__assign(__assign({}, functionTool), { name: evt.target.value }));\n                } })),\n        React.createElement(\"div\", { className: \"field\" },\n            React.createElement(\"label\", null, \"Description\"),\n            React.createElement(\"small\", null, \"A description of what the function does, used by the model to choose when and how to call the function.\"),\n            React.createElement(\"input\", { type: \"text\", value: functionTool.description, onChange: function (evt) {\n                    onChange(__assign(__assign({}, functionTool), { description: evt.target.value }));\n                } })),\n        React.createElement(\"div\", { className: \"field\" },\n            React.createElement(\"label\", null, \"Parameters\"),\n            React.createElement(\"small\", null,\n                \"The parameters the functions accepts, described as a JSON Schema object. See the\",\n                React.createElement(\"a\", { href: \"https://platform.openai.com/docs/guides/text-generation/function-calling\" }, \"guide\"),\n                \"for examples, and the\",\n                React.createElement(\"a\", { href: \"https://json-schema.org/understanding-json-schema/\" }, \"JSON Schema reference\"),\n                \"for documentation about the format. Omitting parameters defines a function with an empty parameter list.\"),\n            React.createElement(jsonSchemaEditor.ObjectEditor, { object: functionTool.parameters, onChange: function (object) {\n                    onChange(__assign(__assign({}, functionTool), { parameters: object }));\n                } })));\n}\nexports.FunctionToolForm = FunctionToolForm;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FunctionToolList = void 0;\nvar React = require(\"react\");\nvar reactRouter = require(\"react-router-dom\");\nvar classNames = require(\"classnames\");\nfunction FunctionToolList(props) {\n    var history = reactRouter.useHistory();\n    var functionTools = props.functionTools, editOnClick = props.editOnClick, leftFloatedContent = props.leftFloatedContent, rightFloatedContent = props.rightFloatedContent;\n    return React.createElement(\"div\", { className: \"ui segment divided selection massive list\" }, functionTools.map(function (f) {\n        return React.createElement(\"div\", { className: \"item\", key: f.uuid, onClick: function () {\n                if (!editOnClick) {\n                    return;\n                }\n                history.push(\"/function-tool/\" + f.uuid + \"/edit\");\n            } },\n            leftFloatedContent == undefined ?\n                undefined :\n                React.createElement(\"div\", { className: \"left floated content\" }, leftFloatedContent(f)),\n            rightFloatedContent == undefined ?\n                undefined :\n                React.createElement(\"div\", { className: \"right floated content\" }, rightFloatedContent(f)),\n            React.createElement(\"div\", { className: \"content\" },\n                React.createElement(\"div\", { className: \"header\" }, f.name.trim() == \"\" ?\n                    \"Function \" + f.uuid :\n                    f.name),\n                React.createElement(\"div\", { className: \"ui mini label\" }, f.uuid),\n                f.parameters.properties.map(function (p) {\n                    return React.createElement(\"div\", { key: p.propertyName, className: classNames(\"ui mini label\", p.propertyRequired ? \"red\" : \"yellow\") }, p.propertyName);\n                }),\n                f.description.trim() == \"\" ?\n                    React.createElement(\"small\", { className: \"description\" }, \"There is no description for this function\") :\n                    React.createElement(\"div\", { className: \"description\" }, f.description)));\n    }));\n}\nexports.FunctionToolList = FunctionToolList;\n","\"use strict\";\nvar __spreadArray = (this && this.__spreadArray) || function (to, from) {\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\n        to[j] = from[i];\n    return to;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FunctionToolListPage = void 0;\nvar React = require(\"react\");\nvar uuid = require(\"uuid\");\nvar localStorageUtil = require(\"./local-storage-util\");\nvar FunctionToolList_1 = require(\"./FunctionToolList\");\nfunction FunctionToolListPage() {\n    var _a = React.useState(localStorageUtil.loadFunctionTools()), functionTools = _a[0], setFunctionTools = _a[1];\n    return React.createElement(\"div\", { className: \"ui main container\" },\n        React.createElement(FunctionToolList_1.FunctionToolList, { functionTools: functionTools, editOnClick: true }),\n        React.createElement(\"button\", { className: \"ui primary button\", onClick: function () {\n                var functionTools = localStorageUtil.loadFunctionTools();\n                var newFunctionTools = __spreadArray(__spreadArray([], functionTools), [\n                    {\n                        uuid: uuid.v4(),\n                        name: \"\",\n                        description: \"\",\n                        parameters: {\n                            type: \"object\",\n                            required: [],\n                            properties: [],\n                        },\n                    },\n                ]);\n                localStorageUtil.saveFunctionTools(newFunctionTools);\n                setFunctionTools(newFunctionTools);\n            } }, \"Create Function Tool\"));\n}\nexports.FunctionToolListPage = FunctionToolListPage;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.HomePage = void 0;\nvar React = require(\"react\");\nvar classnames = require(\"classnames\");\nvar local_storage_util_1 = require(\"./local-storage-util\");\nvar supportedLabel = function (supported) {\n    return (React.createElement(\"span\", { className: classnames(\"ui mini label\", supported ? \"green\" : \"red\") }, supported ? \"Supported\" : \"Not Supported\"));\n};\nvar HomePage = function (_props) {\n    return (React.createElement(\"div\", { className: \"ui main container\" },\n        React.createElement(\"h1\", { className: \"ui dividing header\" }, \"Chat GPT Playground\"),\n        React.createElement(\"p\", null),\n        React.createElement(\"p\", null),\n        React.createElement(\"hr\", null),\n        React.createElement(\"hr\", null),\n        \"Browser information.\",\n        React.createElement(\"table\", { className: \"ui celled unstackable table\" },\n            React.createElement(\"thead\", null,\n                React.createElement(\"tr\", null,\n                    React.createElement(\"th\", null, \"Browser API\"),\n                    React.createElement(\"th\", null, \"Your Browser\"))),\n            React.createElement(\"tbody\", null,\n                React.createElement(\"tr\", null,\n                    React.createElement(\"td\", null,\n                        React.createElement(\"a\", { href: \"https://developer.mozilla.org/en-US/docs/Web/API/Window/localStorage\" }, \"Local Storage\")),\n                    React.createElement(\"td\", null,\n                        supportedLabel(local_storage_util_1.localStorageSupported()),\n                        React.createElement(\"br\", null),\n                        local_storage_util_1.kbUsed(),\n                        \" KB used\")),\n                React.createElement(\"tr\", null,\n                    React.createElement(\"td\", null,\n                        React.createElement(\"a\", { href: \"https://developer.mozilla.org/en-US/docs/WebAssembly\" }, \"Web Assembly\")),\n                    React.createElement(\"td\", null, supportedLabel(typeof WebAssembly !== \"undefined\"))),\n                React.createElement(\"tr\", null,\n                    React.createElement(\"td\", null,\n                        React.createElement(\"a\", { href: \"https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API\" }, \"Web Workers\")),\n                    React.createElement(\"td\", null, supportedLabel(typeof Worker !== \"undefined\"))),\n                React.createElement(\"tr\", null,\n                    React.createElement(\"td\", null,\n                        React.createElement(\"a\", { href: \"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/BigInt\" }, \"BigInt\")),\n                    React.createElement(\"td\", null,\n                        //eslint-disable-next-line local/polyfilled-bigint\n                        supportedLabel(typeof BigInt(0) == \"bigint\"),\n                        React.createElement(\"br\", null),\n                        \"(Polyfilled if not supported)\")))),\n        React.createElement(\"hr\", null),\n        React.createElement(\"div\", { style: {\n                paddingTop: \"30px\",\n            } })));\n};\nexports.HomePage = HomePage;\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MessageForm = void 0;\nvar React = require(\"react\");\nvar local_storage_util_1 = require(\"./local-storage-util\");\nvar ContentMessageForm_1 = require(\"./ContentMessageForm\");\nvar AssistantToolCallMessageForm_1 = require(\"./AssistantToolCallMessageForm\");\nvar ToolResponseMessageForm_1 = require(\"./ToolResponseMessageForm\");\nvar messageTypes = [\n    \"system\",\n    \"user\",\n    \"assistant\",\n    \"assistant_tool_call\",\n    \"tool_response\",\n];\nfunction MessageForm(props) {\n    var _a, _b, _c;\n    var messages = props.messages, message = props.message, onChange = props.onChange, onRemove = props.onRemove, onMoveUp = props.onMoveUp, onMoveDown = props.onMoveDown, onAddResponse = props.onAddResponse;\n    return React.createElement(\"div\", { className: \"item\" },\n        React.createElement(\"div\", { className: \"ui form\" },\n            React.createElement(\"div\", { className: \"two fields\" },\n                React.createElement(\"div\", { className: \"field\" },\n                    React.createElement(\"label\", null, \"Message Type\"),\n                    React.createElement(\"select\", { value: message.messageType, onChange: function (evt) {\n                            var messageType = evt.target.value;\n                            switch (messageType) {\n                                case \"system\": {\n                                    onChange(__assign(__assign({}, message), { messageType: messageType, role: \"system\", content: \"content\" in message ?\n                                            message.content :\n                                            \"\" }), message);\n                                    break;\n                                }\n                                case \"user\": {\n                                    onChange(__assign(__assign({}, message), { messageType: messageType, role: \"user\", content: \"content\" in message ?\n                                            message.content :\n                                            \"\" }), message);\n                                    break;\n                                }\n                                case \"assistant\": {\n                                    onChange(__assign(__assign({}, message), { messageType: messageType, role: \"assistant\", content: \"content\" in message ?\n                                            message.content :\n                                            \"\" }), message);\n                                    break;\n                                }\n                                case \"assistant_tool_call\": {\n                                    onChange(__assign(__assign({}, message), { messageType: messageType, role: \"assistant\", tool_calls: \"tool_calls\" in message ?\n                                            message.tool_calls :\n                                            [] }), message);\n                                    break;\n                                }\n                                case \"tool_response\": {\n                                    onChange(__assign(__assign({}, message), { messageType: messageType, role: \"tool\", tool_call_id: \"tool_call_id\" in message ?\n                                            message.tool_call_id :\n                                            \"\", name: \"name\" in message ?\n                                            message.name :\n                                            \"\", content: \"content\" in message ?\n                                            message.content :\n                                            \"\" }), message);\n                                    break;\n                                }\n                            }\n                        } }, messageTypes.map(function (s) {\n                        return React.createElement(\"option\", { key: s, value: s }, s);\n                    }))),\n                React.createElement(\"div\", { className: \"field button group\", style: {\n                        alignSelf: \"flex-end\",\n                    } },\n                    React.createElement(\"button\", { className: \"ui icon red button\", onClick: function () { return onRemove(message); } },\n                        React.createElement(\"i\", { className: \"trash icon\" })),\n                    message.messageType == \"assistant_tool_call\" ?\n                        React.createElement(\"button\", { className: \"ui icon primary button\", onClick: function () { return onAddResponse(message.tool_calls); } },\n                            React.createElement(\"i\", { className: \"reply icon\" })) :\n                        undefined,\n                    React.createElement(\"button\", { className: \"ui icon button\", onClick: function () { return onMoveUp(message); } },\n                        React.createElement(\"i\", { className: \"arrow up icon\" })),\n                    React.createElement(\"button\", { className: \"ui icon button\", onClick: function () { return onMoveDown(message); } },\n                        React.createElement(\"i\", { className: \"arrow down icon\" }))))),\n        ContentMessageForm_1.isContentMessage(message) ?\n            React.createElement(ContentMessageForm_1.ContentMessageForm, { message: message, onChange: function (newMessage) {\n                    onChange(newMessage, message);\n                } }) :\n            undefined,\n        message.messageType == \"assistant_tool_call\" ?\n            React.createElement(AssistantToolCallMessageForm_1.AssistantToolCallMessageForm, { message: message, onChange: function (newMessage) {\n                    onChange(newMessage, message);\n                }, onAddResponse: function (toolCall) {\n                    onAddResponse([toolCall]);\n                } }) :\n            undefined,\n        message.messageType == \"tool_response\" ?\n            React.createElement(ToolResponseMessageForm_1.ToolResponseMessageForm, { message: message, functionArguments: (_c = ((_b = (_a = messages\n                    .filter(local_storage_util_1.isAssistantToolCallMessage)\n                    .flatMap(function (m) { return m.tool_calls; })\n                    .find(function (tc) { return tc.id == message.tool_call_id; })) === null || _a === void 0 ? void 0 : _a.function) === null || _b === void 0 ? void 0 : _b.arguments)) !== null && _c !== void 0 ? _c : \"\", onChange: function (newMessage) {\n                    onChange(newMessage, message);\n                } }) :\n            undefined);\n}\nexports.MessageForm = MessageForm;\n","\"use strict\";\nvar __spreadArray = (this && this.__spreadArray) || function (to, from) {\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\n        to[j] = from[i];\n    return to;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MessageListForm = void 0;\nvar React = require(\"react\");\nvar uuid = require(\"uuid\");\nvar MessageForm_1 = require(\"./MessageForm\");\nfunction MessageListForm(props) {\n    var messages = props.messages, onChange = props.onChange;\n    return React.createElement(\"div\", { className: \"ui segment divided selection massive list\" }, messages.map(function (m, index) {\n        return React.createElement(MessageForm_1.MessageForm, { messages: messages, key: m.uuid, message: m, onChange: function (newMessage) {\n                onChange(messages.map(function (m) {\n                    return m.uuid == newMessage.uuid ?\n                        newMessage :\n                        m;\n                }), messages);\n            }, onRemove: function () {\n                var newMessages = __spreadArray([], messages);\n                newMessages.splice(index, 1);\n                onChange(newMessages, messages);\n            }, onMoveUp: function (m) {\n                if (index == 0) {\n                    return;\n                }\n                var newMessages = __spreadArray([], messages);\n                newMessages.splice(index, 1);\n                newMessages.splice(index - 1, 0, m);\n                onChange(newMessages, messages);\n            }, onMoveDown: function (m) {\n                if (index >= messages.length) {\n                    return;\n                }\n                var newMessages = __spreadArray([], messages);\n                newMessages.splice(index, 1);\n                newMessages.splice(index + 1, 0, m);\n                onChange(newMessages, messages);\n            }, onAddResponse: function (toolCalls) {\n                onChange(__spreadArray(__spreadArray([], messages), toolCalls.map(function (tc) {\n                    return {\n                        uuid: uuid.v4(),\n                        messageType: \"tool_response\",\n                        role: \"tool\",\n                        tool_call_id: tc.id,\n                        name: tc.function.name,\n                        content: \"\",\n                    };\n                })), messages);\n            } });\n    }));\n}\nexports.MessageListForm = MessageListForm;\n","\"use strict\";\nvar __spreadArray = (this && this.__spreadArray) || function (to, from) {\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\n        to[j] = from[i];\n    return to;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ModelListPage = void 0;\nvar React = require(\"react\");\nvar classNames = require(\"classnames\");\nvar localStorageUtil = require(\"./local-storage-util\");\nvar use_error_1 = require(\"./use-error\");\nvar error_handling_1 = require(\"./error-handling\");\nfunction ModelListPage(props) {\n    var _a = React.useState(localStorageUtil.loadModels()), models = _a[0], setModels = _a[1];\n    var _b = React.useState(false), isLoading = _b[0], setIsLoading = _b[1];\n    var error = use_error_1.useError();\n    return React.createElement(\"div\", { className: \"ui main container\" },\n        React.createElement(\"div\", { className: \"ui segment divided selection massive list\" }, models.map(function (f) {\n            return React.createElement(\"div\", { className: \"item\", key: f.id },\n                React.createElement(\"div\", { className: \"content\" },\n                    React.createElement(\"div\", { className: \"header\" }, f.id),\n                    React.createElement(\"div\", { className: \"ui mini label\" }, f.created),\n                    React.createElement(\"div\", { className: \"ui mini label\" }, new Date(f.created * 1000).toISOString()),\n                    React.createElement(\"div\", { className: \"ui mini label\" }, f.owned_by)));\n        })),\n        React.createElement(\"button\", { className: classNames(\"ui primary button\", isLoading ? \"loading\" : undefined), onClick: function () {\n                if (isLoading) {\n                    return;\n                }\n                setIsLoading(true);\n                props.openAiApi.model.list()\n                    .send()\n                    .then(function (res) {\n                    var arr = __spreadArray([], res.responseBody.data);\n                    arr.sort(function (a, b) {\n                        return b.created - a.created;\n                    });\n                    setIsLoading(false);\n                    setModels(arr);\n                    localStorageUtil.saveModels(arr);\n                    error.reset();\n                }, function (err) {\n                    setIsLoading(false);\n                    error_handling_1.handleError(error, err);\n                });\n            } }, \"Update\"));\n}\nexports.ModelListPage = ModelListPage;\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ToolCallForm = void 0;\nvar React = require(\"react\");\nfunction ToolCallForm(props) {\n    var toolCall = props.toolCall, onChange = props.onChange, onRemove = props.onRemove, onMoveUp = props.onMoveUp, onMoveDown = props.onMoveDown, onAddResponse = props.onAddResponse;\n    return React.createElement(\"div\", { className: \"item\" },\n        React.createElement(\"div\", { className: \"ui form\" },\n            React.createElement(\"div\", { className: \"two fields\" },\n                React.createElement(\"div\", { className: \"field\" },\n                    React.createElement(\"label\", null, \"ID\"),\n                    React.createElement(\"input\", { type: \"text\", value: toolCall.id, placeholder: \"ID\", onChange: function (evt) {\n                            onChange(__assign(__assign({}, toolCall), { id: evt.target.value }), toolCall);\n                        } })),\n                React.createElement(\"div\", { className: \"field button group\", style: {\n                        alignSelf: \"flex-end\",\n                    } },\n                    React.createElement(\"button\", { className: \"ui icon red button\", onClick: function () { return onRemove(toolCall); } },\n                        React.createElement(\"i\", { className: \"trash icon\" })),\n                    React.createElement(\"button\", { className: \"ui icon primary button\", onClick: function () { return onAddResponse(toolCall); } },\n                        React.createElement(\"i\", { className: \"reply icon\" })),\n                    React.createElement(\"button\", { className: \"ui icon button\", onClick: function () { return onMoveUp(toolCall); } },\n                        React.createElement(\"i\", { className: \"arrow up icon\" })),\n                    React.createElement(\"button\", { className: \"ui icon button\", onClick: function () { return onMoveDown(toolCall); } },\n                        React.createElement(\"i\", { className: \"arrow down icon\" })))),\n            React.createElement(\"div\", { className: \"field\" },\n                React.createElement(\"label\", null, \"Function Name\"),\n                React.createElement(\"input\", { type: \"text\", value: toolCall.function.name, placeholder: \"Function Name\", onChange: function (evt) {\n                        onChange(__assign(__assign({}, toolCall), { function: __assign(__assign({}, toolCall.function), { name: evt.target.value }) }), toolCall);\n                    } })),\n            React.createElement(\"div\", { className: \"field\" },\n                React.createElement(\"label\", null, \"Function Arguments\"),\n                React.createElement(\"textarea\", { value: toolCall.function.arguments, placeholder: \"Function Arguments\", onChange: function (evt) {\n                        onChange(__assign(__assign({}, toolCall), { function: __assign(__assign({}, toolCall.function), { arguments: evt.target.value }) }), toolCall);\n                    } }))));\n}\nexports.ToolCallForm = ToolCallForm;\n","\"use strict\";\nvar __spreadArray = (this && this.__spreadArray) || function (to, from) {\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\n        to[j] = from[i];\n    return to;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ToolCallListForm = void 0;\nvar React = require(\"react\");\nvar ToolCallForm_1 = require(\"./ToolCallForm\");\nfunction ToolCallListForm(props) {\n    var toolCalls = props.toolCalls, onChange = props.onChange, onAddResponse = props.onAddResponse;\n    return React.createElement(\"div\", { className: \"ui segment divided selection massive list\" }, toolCalls.map(function (m, index) {\n        return React.createElement(ToolCallForm_1.ToolCallForm, { key: index, toolCall: m, onChange: function (newToolCall) {\n                onChange(toolCalls.map(function (m, changedIndex) {\n                    return index == changedIndex ?\n                        newToolCall :\n                        m;\n                }), toolCalls);\n            }, onRemove: function () {\n                var newToolCalls = __spreadArray([], toolCalls);\n                newToolCalls.splice(index, 1);\n                onChange(newToolCalls, toolCalls);\n            }, onAddResponse: function (toolCall) {\n                onAddResponse(toolCall);\n            }, onMoveUp: function (m) {\n                if (index == 0) {\n                    return;\n                }\n                var newToolCalls = __spreadArray([], toolCalls);\n                newToolCalls.splice(index, 1);\n                newToolCalls.splice(index - 1, 0, m);\n                onChange(newToolCalls, toolCalls);\n            }, onMoveDown: function (m) {\n                if (index >= toolCalls.length) {\n                    return;\n                }\n                var newToolCalls = __spreadArray([], toolCalls);\n                newToolCalls.splice(index, 1);\n                newToolCalls.splice(index + 1, 0, m);\n                onChange(newToolCalls, toolCalls);\n            } });\n    }));\n}\nexports.ToolCallListForm = ToolCallListForm;\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ToolResponseMessageForm = void 0;\nvar React = require(\"react\");\nfunction ToolResponseMessageForm(props) {\n    var message = props.message, functionArguments = props.functionArguments, onChange = props.onChange;\n    return React.createElement(\"div\", { className: \"ui form\" },\n        React.createElement(\"div\", { className: \"field\" },\n            React.createElement(\"label\", null, \"Tool Call ID\"),\n            React.createElement(\"input\", { type: \"text\", value: message.tool_call_id, placeholder: \"Tool Call ID\", onChange: function (evt) {\n                    onChange(__assign(__assign({}, message), { tool_call_id: evt.target.value }), message);\n                } })),\n        React.createElement(\"div\", { className: \"field\" },\n            React.createElement(\"label\", null, \"Function Name\"),\n            React.createElement(\"input\", { type: \"text\", value: message.name, placeholder: \"Function Name\", onChange: function (evt) {\n                    onChange(__assign(__assign({}, message), { name: evt.target.value }), message);\n                } })),\n        React.createElement(\"div\", { className: \"field\" },\n            React.createElement(\"label\", null, \"Function Arguments\"),\n            React.createElement(\"textarea\", { value: functionArguments, placeholder: \"Function Arguments\", readOnly: true })),\n        React.createElement(\"div\", { className: \"field\" },\n            React.createElement(\"label\", null, \"Content\"),\n            React.createElement(\"textarea\", { value: message.content, placeholder: \"Content (The result of the tool call)\", onChange: function (evt) {\n                    onChange(__assign(__assign({}, message), { content: evt.target.value }), message);\n                } })));\n}\nexports.ToolResponseMessageForm = ToolResponseMessageForm;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.handleError = void 0;\nfunction handleError(error, err) {\n    var _a, _b;\n    console.log(Object.getOwnPropertyNames(err));\n    console.log(err);\n    var propertyErrors = err === null || err === void 0 ? void 0 : err.propertyErrors;\n    if (propertyErrors instanceof Array) {\n        for (var _i = 0, propertyErrors_1 = propertyErrors; _i < propertyErrors_1.length; _i++) {\n            var propertyError = propertyErrors_1[_i];\n            error.push(\"negative\", [\n                String(propertyError) + \" (\" + propertyError.actualValue + \")\"\n            ]);\n        }\n        return;\n    }\n    var responseBody = (_a = err === null || err === void 0 ? void 0 : err.sendResult) === null || _a === void 0 ? void 0 : _a.responseBody;\n    var responseErrorMessage = (_b = responseBody === null || responseBody === void 0 ? void 0 : responseBody.error) === null || _b === void 0 ? void 0 : _b.message;\n    var errorMessage = err === null || err === void 0 ? void 0 : err.message;\n    if (responseErrorMessage != undefined) {\n        error.push(\"negative\", [responseErrorMessage]);\n        return;\n    }\n    if (errorMessage != undefined) {\n        error.push(\"negative\", [errorMessage]);\n        return;\n    }\n    error.push(\"negative\", [\"Unknown error\"]);\n}\nexports.handleError = handleError;\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.saveModels = exports.loadModels = exports.deleteSelfDiscover = exports.deleteConversation = exports.saveSelfDiscover = exports.saveConversation = exports.loadSelfDiscover = exports.loadConversation = exports.makeSelfDiscoverTask = exports.makeSelfDiscover = exports.makeConversation = exports.saveSelfDiscoversMeta = exports.saveConversationsMeta = exports.loadSelfDiscoversMeta = exports.loadConversationsMeta = exports.isAssistantToolCallMessage = exports.saveFunctionTools = exports.loadFunctionTools = exports.LocalStorageKey = exports.kbUsed = exports.removeItem = exports.setItem = exports.getItem = exports.localStorageSupported = void 0;\nvar uuid = require(\"uuid\");\nfunction localStorageSupported() {\n    return (\"localStorage\" in self);\n}\nexports.localStorageSupported = localStorageSupported;\nfunction getItem(key) {\n    return (localStorageSupported() ?\n        localStorage.getItem(key) :\n        null);\n}\nexports.getItem = getItem;\nfunction setItem(key, value) {\n    if (localStorageSupported()) {\n        localStorage.setItem(key, value);\n    }\n}\nexports.setItem = setItem;\nfunction removeItem(key) {\n    if (localStorageSupported()) {\n        localStorage.removeItem(key);\n    }\n}\nexports.removeItem = removeItem;\n/**\n * https://stackoverflow.com/questions/4391575/how-to-find-the-size-of-localstorage\n * @returns\n */\nfunction kbUsed() {\n    var _lsTotal = 0, _xLen, _x;\n    for (_x in localStorage) {\n        if (!localStorage.hasOwnProperty(_x)) {\n            continue;\n        }\n        _xLen = ((localStorage[_x].length + _x.length) * 2);\n        _lsTotal += _xLen;\n        console.log(_x.substring(0, 50) + \" = \" + (_xLen / 1024).toFixed(2) + \" KB\");\n    }\n    ;\n    var totalKb = Number((_lsTotal / 1024).toFixed(2));\n    console.log(\"Total = \" + totalKb + \" KB\");\n    return totalKb;\n}\nexports.kbUsed = kbUsed;\nvar LocalStorageKey;\n(function (LocalStorageKey) {\n    LocalStorageKey[\"OPEN_AI_API_KEY\"] = \"OPEN_AI_API_KEY\";\n    LocalStorageKey[\"FUNCTION_TOOLS\"] = \"FUNCTION_TOOLS\";\n    LocalStorageKey[\"CONVERSATIONS_META\"] = \"CONVERSATIONS_META\";\n    LocalStorageKey[\"CONVERSATION\"] = \"CONVERSATION\";\n    LocalStorageKey[\"MODELS\"] = \"MODELS\";\n    LocalStorageKey[\"SELF_DISCOVERS_META\"] = \"SELF_DISCOVERS_META\";\n    LocalStorageKey[\"SELF_DISCOVER\"] = \"SELF_DISCOVER\";\n})(LocalStorageKey = exports.LocalStorageKey || (exports.LocalStorageKey = {}));\nfunction loadFunctionTools() {\n    var _a;\n    return JSON.parse((_a = getItem(LocalStorageKey.FUNCTION_TOOLS)) !== null && _a !== void 0 ? _a : \"[]\");\n}\nexports.loadFunctionTools = loadFunctionTools;\nfunction saveFunctionTools(tools) {\n    return setItem(LocalStorageKey.FUNCTION_TOOLS, JSON.stringify(tools));\n}\nexports.saveFunctionTools = saveFunctionTools;\nfunction isAssistantToolCallMessage(m) {\n    return \"tool_calls\" in m;\n}\nexports.isAssistantToolCallMessage = isAssistantToolCallMessage;\nfunction loadConversationsMeta() {\n    var _a;\n    return JSON.parse((_a = getItem(LocalStorageKey.CONVERSATIONS_META)) !== null && _a !== void 0 ? _a : \"[]\");\n}\nexports.loadConversationsMeta = loadConversationsMeta;\nfunction loadSelfDiscoversMeta() {\n    var _a;\n    return JSON.parse((_a = getItem(LocalStorageKey.SELF_DISCOVERS_META)) !== null && _a !== void 0 ? _a : \"[]\");\n}\nexports.loadSelfDiscoversMeta = loadSelfDiscoversMeta;\nfunction saveConversationsMeta(conversationsMeta) {\n    return setItem(LocalStorageKey.CONVERSATIONS_META, JSON.stringify(conversationsMeta));\n}\nexports.saveConversationsMeta = saveConversationsMeta;\nfunction saveSelfDiscoversMeta(selfDiscoversMeta) {\n    return setItem(LocalStorageKey.SELF_DISCOVERS_META, JSON.stringify(selfDiscoversMeta));\n}\nexports.saveSelfDiscoversMeta = saveSelfDiscoversMeta;\nfunction makeConversation(customUuid) {\n    if (customUuid === void 0) { customUuid = undefined; }\n    var models = loadModels().filter(function (model) { return model.id.startsWith(\"gpt\"); });\n    var meta = {\n        uuid: customUuid !== null && customUuid !== void 0 ? customUuid : uuid.v4(),\n        name: \"\",\n        description: \"\",\n        lastMessage: \"\",\n    };\n    var conversation = {\n        uuid: meta.uuid,\n        name: meta.name,\n        description: meta.description,\n        rawChatRequestConfig: {\n            model: models.length > 0 ?\n                models[0].id :\n                \"\",\n            temperature: 1,\n            max_tokens: 256,\n            stop: \"\",\n            top_p: 1,\n            frequency_penalty: 0,\n            presence_penalty: 0,\n            response_format: {\n                type: \"text\",\n            },\n        },\n        messages: [],\n        usedFunctions: {},\n    };\n    return {\n        conversation: conversation,\n        meta: meta,\n    };\n}\nexports.makeConversation = makeConversation;\nfunction makeSelfDiscover() {\n    var meta = {\n        uuid: uuid.v4(),\n        name: \"\",\n        description: \"\",\n    };\n    var models = loadModels().filter(function (model) { return model.id.startsWith(\"gpt-4\"); });\n    var selfDiscover = {\n        uuid: meta.uuid,\n        name: meta.name,\n        description: meta.description,\n        model: models.length > 0 ?\n            models[0].id :\n            \"\",\n        tasks: [],\n        selectConversation: undefined,\n        adaptConversation: undefined,\n        implementConversation: undefined,\n        selectResult: undefined,\n    };\n    loadOrMakeSelfDiscoverConversations(selfDiscover);\n    return {\n        selfDiscover: selfDiscover,\n        meta: meta,\n    };\n}\nexports.makeSelfDiscover = makeSelfDiscover;\nfunction makeSelfDiscoverTask(selfDiscoverUuid) {\n    var taskUuid = uuid.v4();\n    return {\n        uuid: taskUuid,\n        useAsExample: true,\n        problemStatement: \"\",\n        executeConversation: makeConversation(LocalStorageKey.SELF_DISCOVER + \"_\" + selfDiscoverUuid + \"_task_\" + taskUuid + \"_execute\").conversation,\n    };\n}\nexports.makeSelfDiscoverTask = makeSelfDiscoverTask;\nfunction loadConversation(uuid) {\n    var _a, _b, _c;\n    var str = getItem(LocalStorageKey.CONVERSATION + \"_\" + uuid);\n    if (str == undefined) {\n        return undefined;\n    }\n    var result = JSON.parse(str);\n    result.messages = (_a = result.messages) !== null && _a !== void 0 ? _a : [];\n    result.usedFunctions = (_b = result.usedFunctions) !== null && _b !== void 0 ? _b : {};\n    result.rawChatRequestConfig.response_format = (_c = result.rawChatRequestConfig.response_format) !== null && _c !== void 0 ? _c : {\n        type: \"text\",\n    };\n    return result;\n}\nexports.loadConversation = loadConversation;\nfunction loadOrMakeSelfDiscoverConversations(selfDiscover) {\n    var _a, _b, _c, _d;\n    selfDiscover.selectConversation = ((_a = loadConversation(LocalStorageKey.SELF_DISCOVER + \"_\" + selfDiscover.uuid + \"_select\")) !== null && _a !== void 0 ? _a : makeConversation(LocalStorageKey.SELF_DISCOVER + \"_\" + selfDiscover.uuid + \"_select\").conversation);\n    selfDiscover.adaptConversation = ((_b = loadConversation(LocalStorageKey.SELF_DISCOVER + \"_\" + selfDiscover.uuid + \"_adapt\")) !== null && _b !== void 0 ? _b : makeConversation(LocalStorageKey.SELF_DISCOVER + \"_\" + selfDiscover.uuid + \"_adapt\").conversation);\n    selfDiscover.implementConversation = ((_c = loadConversation(LocalStorageKey.SELF_DISCOVER + \"_\" + selfDiscover.uuid + \"_implement\")) !== null && _c !== void 0 ? _c : makeConversation(LocalStorageKey.SELF_DISCOVER + \"_\" + selfDiscover.uuid + \"_implement\").conversation);\n    for (var _i = 0, _e = selfDiscover.tasks; _i < _e.length; _i++) {\n        var task = _e[_i];\n        task.executeConversation = ((_d = loadConversation(LocalStorageKey.SELF_DISCOVER + \"_\" + selfDiscover.uuid + \"_task_\" + task.uuid + \"_execute\")) !== null && _d !== void 0 ? _d : makeConversation(LocalStorageKey.SELF_DISCOVER + \"_\" + selfDiscover.uuid + \"_task_\" + task.uuid + \"_execute\").conversation);\n    }\n}\nfunction loadSelfDiscover(uuid) {\n    var str = getItem(LocalStorageKey.SELF_DISCOVER + \"_\" + uuid);\n    if (str == undefined) {\n        return undefined;\n    }\n    var result = JSON.parse(str);\n    loadOrMakeSelfDiscoverConversations(result);\n    for (var _i = 0, _a = result.tasks; _i < _a.length; _i++) {\n        var task = _a[_i];\n        if (task.useAsExample == undefined) {\n            task.useAsExample = task.includeInPrompt;\n        }\n    }\n    return result;\n}\nexports.loadSelfDiscover = loadSelfDiscover;\nfunction saveConversation(conversation) {\n    return setItem(LocalStorageKey.CONVERSATION + \"_\" + conversation.uuid, JSON.stringify(conversation));\n}\nexports.saveConversation = saveConversation;\nfunction saveSelfDiscover(selfDiscover) {\n    saveConversation(selfDiscover.selectConversation);\n    saveConversation(selfDiscover.adaptConversation);\n    saveConversation(selfDiscover.implementConversation);\n    for (var _i = 0, _a = selfDiscover.tasks; _i < _a.length; _i++) {\n        var task = _a[_i];\n        saveConversation(task.executeConversation);\n    }\n    var minSelfDiscover = __assign(__assign({}, selfDiscover), { selectConversation: undefined, adaptConversation: undefined, implementConversation: undefined, tasks: selfDiscover.tasks.map(function (t) {\n            return __assign(__assign({}, t), { executeConversation: undefined });\n        }) });\n    return setItem(LocalStorageKey.SELF_DISCOVER + \"_\" + selfDiscover.uuid, JSON.stringify(minSelfDiscover));\n}\nexports.saveSelfDiscover = saveSelfDiscover;\nfunction deleteConversation(conversation) {\n    return removeItem(LocalStorageKey.CONVERSATION + \"_\" + conversation.uuid);\n}\nexports.deleteConversation = deleteConversation;\nfunction deleteSelfDiscover(self_discover_id) {\n    var selfDiscover = loadSelfDiscover(self_discover_id.uuid);\n    if (selfDiscover == undefined) {\n        return;\n    }\n    deleteConversation(selfDiscover.selectConversation);\n    deleteConversation(selfDiscover.adaptConversation);\n    deleteConversation(selfDiscover.implementConversation);\n    for (var _i = 0, _a = selfDiscover.tasks; _i < _a.length; _i++) {\n        var task = _a[_i];\n        deleteConversation(task.executeConversation);\n    }\n    return removeItem(LocalStorageKey.SELF_DISCOVER + \"_\" + selfDiscover.uuid);\n}\nexports.deleteSelfDiscover = deleteSelfDiscover;\nfunction loadModels() {\n    var str = getItem(LocalStorageKey.MODELS);\n    if (str == undefined) {\n        return [];\n    }\n    var result = JSON.parse(str);\n    return result;\n}\nexports.loadModels = loadModels;\nfunction saveModels(models) {\n    return setItem(LocalStorageKey.MODELS, JSON.stringify(models));\n}\nexports.saveModels = saveModels;\n","\"use strict\";\nvar _a;\nObject.defineProperty(exports, \"__esModule\", { value: true });\n//Really bad BigInt polyfill\nvar MyBigInt = /** @class */ (function () {\n    function MyBigInt(value) {\n        this.value = String(value);\n    }\n    MyBigInt.prototype.toString = function () {\n        return this.value;\n    };\n    MyBigInt.prototype.toJSON = function () {\n        return this.value;\n    };\n    return MyBigInt;\n}());\n//if (true) {\nif (typeof BigInt === \"undefined\") {\n    console.log(\"Using really bad BigInt polyfill because browser does not support it\");\n    window.BigInt = function (x) {\n        return new MyBigInt(x);\n    };\n}\nif (BigInt.prototype != undefined) {\n    BigInt.prototype.toJSON = function () {\n        if (BigInt(Number(this)).toString() === this.toString()) {\n            return Number(this);\n        }\n        else {\n            return this.toString();\n        }\n    };\n}\nvar React = require(\"react\");\nvar ReactDOM = require(\"react-dom\");\nvar App_1 = require(\"./App\");\nrequire(\"semantic-ui-less/semantic.less\");\nvar api_openai_1 = require(\"../api-openai\");\nvar localStorageUtil = require(\"./local-storage-util\");\nvar openAiApi = new api_openai_1.OpenAiApi({\n    domain: OPENAI_API_DOMAIN,\n    root: OPENAI_API_ROOT,\n    apiKey: (_a = localStorageUtil.getItem(localStorageUtil.LocalStorageKey.OPEN_AI_API_KEY)) !== null && _a !== void 0 ? _a : \"\",\n});\nReactDOM.render(React.createElement(App_1.App, { openAiApi: openAiApi }), document.getElementById(\"app\"));\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from) {\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\n        to[j] = from[i];\n    return to;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SelfDiscoverAdaptTab = void 0;\nvar React = require(\"react\");\nvar reactRouter = require(\"react-router-dom\");\nvar uuid = require(\"uuid\");\nvar classNames = require(\"classnames\");\nvar tm = require(\"type-mapping\");\nvar ConversationEditPage_1 = require(\"../ConversationEditPage\");\nvar use_error_1 = require(\"../use-error\");\nvar error_handling_1 = require(\"../error-handling\");\nfunction SelfDiscoverAdaptTab(props) {\n    var _this = this;\n    var openAiApi = props.openAiApi, active = props.active, selfDiscover = props.selfDiscover, setSelfDiscover = props.setSelfDiscover;\n    var history = reactRouter.useHistory();\n    var _a = React.useState(function () { return buildPrompt(selfDiscover); }), prompt = _a[0], setPrompt = _a[1];\n    var _b = React.useState(false), isLoading = _b[0], setIsLoading = _b[1];\n    var error = use_error_1.useError();\n    React.useEffect(function () {\n        var timer = setTimeout(function () {\n            setPrompt(buildPrompt(selfDiscover));\n        }, 1000);\n        return function () { return clearTimeout(timer); };\n    }, [selfDiscover]);\n    return React.createElement(\"div\", { className: classNames(\"ui bottom attached tab segment\", active ? \"active\" : undefined) },\n        React.createElement(\"div\", { className: \"ui form\" },\n            React.createElement(\"div\", { className: \"field\" },\n                React.createElement(\"label\", null, \"Prompt\"),\n                React.createElement(\"textarea\", { value: prompt, readOnly: true, style: { minHeight: \"36em\", maxHeight: \"84em\" } })),\n            selfDiscover.adaptResult == undefined ?\n                undefined :\n                React.createElement(\"div\", { className: \"field\" },\n                    React.createElement(\"label\", null, \"Adapted Reasoning Modules\"),\n                    React.createElement(\"textarea\", { value: JSON.stringify(selfDiscover.adaptResult, null, 2), readOnly: true, style: { minHeight: \"36em\", maxHeight: \"84em\" } }))),\n        React.createElement(\"br\", null),\n        React.createElement(\"button\", { className: classNames(\"ui primary button\", isLoading ? \"loading\" : undefined), onClick: function () { return __awaiter(_this, void 0, void 0, function () {\n                var conversationA, conversationB, conversationC, conversationD, lastMessage, parsed, validated, err_1;\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            if (isLoading) {\n                                return [2 /*return*/];\n                            }\n                            conversationA = __assign(__assign({}, selfDiscover.adaptConversation), { rawChatRequestConfig: __assign(__assign({}, selfDiscover.adaptConversation.rawChatRequestConfig), { model: selfDiscover.model, response_format: {\n                                        type: \"text\",\n                                    }, temperature: 0, max_tokens: 1024 }), messages: [\n                                    {\n                                        uuid: uuid.v4(),\n                                        messageType: \"user\",\n                                        role: \"user\",\n                                        content: prompt,\n                                    },\n                                ] });\n                            setIsLoading(true);\n                            _a.label = 1;\n                        case 1:\n                            _a.trys.push([1, 4, , 5]);\n                            return [4 /*yield*/, ConversationEditPage_1.submitConversation(openAiApi, conversationA, [])];\n                        case 2:\n                            conversationB = _a.sent();\n                            conversationC = __assign(__assign({}, conversationB), { rawChatRequestConfig: __assign(__assign({}, conversationB.rawChatRequestConfig), { response_format: {\n                                        type: \"json_object\",\n                                    } }), messages: __spreadArray(__spreadArray([], conversationB.messages), [\n                                    {\n                                        uuid: uuid.v4(),\n                                        messageType: \"user\",\n                                        role: \"user\",\n                                        content: convertPrompt,\n                                    },\n                                ]) });\n                            return [4 /*yield*/, ConversationEditPage_1.submitConversation(openAiApi, conversationC, [])];\n                        case 3:\n                            conversationD = _a.sent();\n                            setIsLoading(false);\n                            lastMessage = conversationD.messages[conversationD.messages.length - 1];\n                            if (lastMessage.role != \"assistant\") {\n                                error.push(\"negative\", [\"Expected assistant message, received \" + lastMessage.role]);\n                                return [2 /*return*/];\n                            }\n                            if (lastMessage.messageType != \"assistant\") {\n                                error.push(\"negative\", [\"Expected assistant message, received \" + lastMessage.messageType]);\n                                return [2 /*return*/];\n                            }\n                            parsed = {};\n                            try {\n                                parsed = JSON.parse(lastMessage.content);\n                            }\n                            catch (err) {\n                                error_handling_1.handleError(error, err);\n                                return [2 /*return*/];\n                            }\n                            validated = void 0;\n                            try {\n                                validated = adaptResultMapper(\"result\", parsed);\n                            }\n                            catch (err) {\n                                error_handling_1.handleError(error, err);\n                                return [2 /*return*/];\n                            }\n                            setSelfDiscover(__assign(__assign({}, selfDiscover), { adaptConversation: conversationD, adaptResult: validated }));\n                            error.reset();\n                            return [3 /*break*/, 5];\n                        case 4:\n                            err_1 = _a.sent();\n                            setIsLoading(false);\n                            error_handling_1.handleError(error, err_1);\n                            return [3 /*break*/, 5];\n                        case 5: return [2 /*return*/];\n                    }\n                });\n            }); } }, \"Adapt Reasoning Modules\"),\n        React.createElement(\"button\", { className: \"ui primary button\", onClick: function () {\n                history.push(\"/conversation/\" + selfDiscover.adaptConversation.uuid + \"/edit\");\n            } }, \"View Conversation\"));\n}\nexports.SelfDiscoverAdaptTab = SelfDiscoverAdaptTab;\nfunction buildPrompt(selfDiscover) {\n    var _a;\n    var exampleTasks = selfDiscover.tasks\n        .filter(function (t) { return t.useAsExample; })\n        .filter(function (t) { return t.problemStatement.trim() != \"\"; })\n        .map(function (t, index) { return \"### Example Task \" + (index + 1) + \"\\n\\n\" + t.problemStatement.trim(); })\n        .join(\"\\n\\n\");\n    var selectedModules = (_a = selfDiscover.selectResult) === null || _a === void 0 ? void 0 : _a.selected_reasoning_modules.map(function (i) { return \"+ \" + i; }).join(\"\\n\");\n    return \"Rephrase and specify each reasoning module so that it better helps with solving the task:\\n\\n### Selected module descriptions\\n\\n\" + selectedModules + \"\\n\\n\" + exampleTasks + \"\\n\\n### Instructions\\n\\nAdapt each reasoning module description to better solve the tasks\";\n}\nvar convertPrompt = \"Convert your response into a JSON object with the following properties,\\n+ reasoning_modules : ReasoningModule[] - an array containing the rephrased and specified reasoning modules\\n\\ninterface ReasoningModule {\\n  name : string;\\n  description : string;\\n}\";\nvar adaptResultMapper = tm.object({\n    reasoning_modules: tm.array(tm.object({\n        name: tm.string(),\n        description: tm.string(),\n    })),\n});\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SelfDiscoverEditPage = void 0;\nvar React = require(\"react\");\nvar reactRouter = require(\"react-router-dom\");\nvar classNames = require(\"classnames\");\nvar localStorageUtil = require(\"../local-storage-util\");\nvar use_error_1 = require(\"../use-error\");\nvar ErrorMessage_1 = require(\"../ErrorMessage\");\nvar SelfDiscoverTaskTab_1 = require(\"./SelfDiscoverTaskTab\");\nvar SelfDiscoverSelectTab_1 = require(\"./SelfDiscoverSelectTab\");\nvar SelfDiscoverAdaptTab_1 = require(\"./SelfDiscoverAdaptTab\");\nvar SelfDiscoverImplementTab_1 = require(\"./SelfDiscoverImplementTab\");\nvar SelfDiscoverExecuteTab_1 = require(\"./SelfDiscoverExecuteTab\");\nvar TabType;\n(function (TabType) {\n    TabType[\"Tasks\"] = \"Tasks\";\n    TabType[\"Select\"] = \"Select\";\n    TabType[\"Adapt\"] = \"Adapt\";\n    TabType[\"Implement\"] = \"Implement\";\n    TabType[\"Execute\"] = \"Execute\";\n})(TabType || (TabType = {}));\nfunction SelfDiscoverEditPage(props) {\n    var openAiApi = props.openAiApi;\n    var routeParams = reactRouter.useParams();\n    var _a = React.useState(localStorageUtil.loadSelfDiscover(routeParams.uuid)), selfDiscover = _a[0], setSelfDiscover = _a[1];\n    var _b = React.useState(false), isLoading = _b[0], setIsLoading = _b[1];\n    var error = use_error_1.useError();\n    var _c = React.useState(TabType.Tasks), tapType = _c[0], setTabType = _c[1];\n    var models = React.useState(function () {\n        return localStorageUtil.loadModels().filter(function (model) { return model.id.startsWith(\"gpt\"); });\n    })[0];\n    React.useEffect(function () {\n        if (selfDiscover == undefined) {\n            return;\n        }\n        var timer = setTimeout(function () {\n            localStorageUtil.saveSelfDiscover(selfDiscover);\n            var meta = localStorageUtil.loadSelfDiscoversMeta().map(function (m) {\n                return m.uuid == selfDiscover.uuid ?\n                    {\n                        uuid: selfDiscover.uuid,\n                        name: selfDiscover.name,\n                        description: selfDiscover.description,\n                    } :\n                    m;\n            });\n            localStorageUtil.saveSelfDiscoversMeta(meta);\n        }, 1000);\n        return function () { return clearTimeout(timer); };\n    }, [selfDiscover]);\n    if (selfDiscover == undefined) {\n        return React.createElement(\"div\", { className: \"ui main container\" },\n            \"Self-Discover \",\n            routeParams.uuid,\n            \" not found\");\n    }\n    return React.createElement(\"div\", { className: \"ui main container\" },\n        React.createElement(\"div\", { className: \"ui form\" },\n            React.createElement(\"div\", { className: \"two fields\" },\n                React.createElement(\"div\", { className: \"field\" },\n                    React.createElement(\"label\", null, \"Title\"),\n                    React.createElement(\"input\", { placeholder: \"Enter a Self-Discover Title\", value: selfDiscover.name, onChange: function (evt) {\n                            setSelfDiscover(__assign(__assign({}, selfDiscover), { name: evt.target.value }));\n                        } })),\n                React.createElement(\"div\", { className: \"field\" },\n                    React.createElement(\"label\", null, \"Description\"),\n                    React.createElement(\"input\", { placeholder: \"Enter a Self-Discover Description\", value: selfDiscover.description, onChange: function (evt) {\n                            setSelfDiscover(__assign(__assign({}, selfDiscover), { description: evt.target.value }));\n                        } })))),\n        React.createElement(\"div\", { className: \"ui top attached tabular menu\" }, [\n            TabType.Tasks,\n            TabType.Select,\n            TabType.Adapt,\n            TabType.Implement,\n            TabType.Execute,\n        ].map(function (t) {\n            return React.createElement(\"div\", { key: t, className: classNames(\"item\", tapType == t ? \"active\" : undefined), onClick: function () { return setTabType(t); } }, t);\n        })),\n        React.createElement(SelfDiscoverTaskTab_1.SelfDiscoverTaskTab, { active: tapType == TabType.Tasks, selfDiscover: selfDiscover, setSelfDiscover: setSelfDiscover }),\n        React.createElement(SelfDiscoverSelectTab_1.SelfDiscoverSelectTab, { openAiApi: openAiApi, active: tapType == TabType.Select, selfDiscover: selfDiscover, setSelfDiscover: setSelfDiscover }),\n        React.createElement(SelfDiscoverAdaptTab_1.SelfDiscoverAdaptTab, { openAiApi: openAiApi, active: tapType == TabType.Adapt, selfDiscover: selfDiscover, setSelfDiscover: setSelfDiscover }),\n        React.createElement(SelfDiscoverImplementTab_1.SelfDiscoverImplementTab, { openAiApi: openAiApi, active: tapType == TabType.Implement, selfDiscover: selfDiscover, setSelfDiscover: setSelfDiscover }),\n        React.createElement(SelfDiscoverExecuteTab_1.SelfDiscoverExecuteTab, { openAiApi: openAiApi, active: tapType == TabType.Execute, selfDiscover: selfDiscover, setSelfDiscover: setSelfDiscover }),\n        React.createElement(\"div\", { className: \"ui segment\" },\n            React.createElement(ErrorMessage_1.ErrorMessage, { error: error }),\n            React.createElement(\"button\", { className: classNames(\"ui primary button\", isLoading ? \"loading\" : undefined), onClick: function () {\n                    if (isLoading) {\n                        return;\n                    }\n                    setIsLoading(true);\n                } }, \"Submit\")),\n        React.createElement(\"div\", { className: \"ui segment\" },\n            React.createElement(\"div\", { className: \"ui form\" },\n                React.createElement(\"div\", { className: \"field\" },\n                    React.createElement(\"label\", null, \"Model\"),\n                    React.createElement(\"select\", { value: selfDiscover.model, onChange: function (evt) {\n                            setSelfDiscover(__assign(__assign({}, selfDiscover), { model: evt.target.value }));\n                        } },\n                        React.createElement(\"option\", { key: \"none\", value: \"\", disabled: true }, \"Select a Model\"),\n                        models.map(function (model) {\n                            return React.createElement(\"option\", { key: model.id, value: model.id },\n                                model.id,\n                                \" - (\",\n                                new Date(model.created * 1000).toISOString(),\n                                \")\");\n                        }))))));\n}\nexports.SelfDiscoverEditPage = SelfDiscoverEditPage;\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from) {\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\n        to[j] = from[i];\n    return to;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SelfDiscoverExecuteTab = void 0;\nvar React = require(\"react\");\nvar classNames = require(\"classnames\");\nvar localStorageUtil = require(\"../local-storage-util\");\nvar SelfDiscoverTaskListForm_1 = require(\"./SelfDiscoverTaskListForm\");\nvar ErrorMessage_1 = require(\"../ErrorMessage\");\nfunction SelfDiscoverExecuteTab(props) {\n    var openAiApi = props.openAiApi, active = props.active, selfDiscover = props.selfDiscover, setSelfDiscover = props.setSelfDiscover;\n    return React.createElement(\"div\", { className: classNames(\"ui bottom attached tab segment\", active ? \"active\" : undefined) },\n        selfDiscover.implementResult == undefined ?\n            React.createElement(ErrorMessage_1.ErrorMessage, { error: {\n                    type: \"negative\",\n                    messages: [\n                        \"No Implement Result found\",\n                    ],\n                } }) :\n            React.createElement(SelfDiscoverTaskListForm_1.SelfDiscoverTaskListForm, { tasks: selfDiscover.tasks, onChange: function (newTasks) {\n                    setSelfDiscover(__assign(__assign({}, selfDiscover), { tasks: newTasks }));\n                }, executeConfig: {\n                    openAiApi: openAiApi,\n                    implementResult: selfDiscover.implementResult,\n                    model: selfDiscover.model,\n                } }),\n        React.createElement(\"button\", { className: \"ui primary button\", onClick: function () {\n                setSelfDiscover(__assign(__assign({}, selfDiscover), { tasks: __spreadArray(__spreadArray([], selfDiscover.tasks), [\n                        localStorageUtil.makeSelfDiscoverTask(selfDiscover.uuid),\n                    ]) }));\n            } }, \"Add Task\"));\n}\nexports.SelfDiscoverExecuteTab = SelfDiscoverExecuteTab;\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SelfDiscoverImplementTab = void 0;\nvar React = require(\"react\");\nvar reactRouter = require(\"react-router-dom\");\nvar uuid = require(\"uuid\");\nvar classNames = require(\"classnames\");\nvar tm = require(\"type-mapping\");\nvar ConversationEditPage_1 = require(\"../ConversationEditPage\");\nvar use_error_1 = require(\"../use-error\");\nvar error_handling_1 = require(\"../error-handling\");\nfunction SelfDiscoverImplementTab(props) {\n    var _this = this;\n    var openAiApi = props.openAiApi, active = props.active, selfDiscover = props.selfDiscover, setSelfDiscover = props.setSelfDiscover;\n    var history = reactRouter.useHistory();\n    var _a = React.useState(function () { return buildPrompt(selfDiscover); }), prompt = _a[0], setPrompt = _a[1];\n    var _b = React.useState(false), isLoading = _b[0], setIsLoading = _b[1];\n    var error = use_error_1.useError();\n    React.useEffect(function () {\n        var timer = setTimeout(function () {\n            setPrompt(buildPrompt(selfDiscover));\n        }, 1000);\n        return function () { return clearTimeout(timer); };\n    }, [selfDiscover]);\n    return React.createElement(\"div\", { className: classNames(\"ui bottom attached tab segment\", active ? \"active\" : undefined) },\n        React.createElement(\"div\", { className: \"ui form\" },\n            React.createElement(\"div\", { className: \"field\" },\n                React.createElement(\"label\", null, \"Prompt\"),\n                React.createElement(\"textarea\", { value: prompt, readOnly: true, style: { minHeight: \"36em\", maxHeight: \"84em\" } })),\n            selfDiscover.implementResult == undefined ?\n                undefined :\n                React.createElement(\"div\", { className: \"field\" },\n                    React.createElement(\"label\", null, \"Implemented Reasoning Modules\"),\n                    React.createElement(\"textarea\", { value: JSON.stringify(selfDiscover.implementResult, null, 2), readOnly: true, style: { minHeight: \"36em\", maxHeight: \"84em\" } }))),\n        React.createElement(\"br\", null),\n        React.createElement(\"button\", { className: classNames(\"ui primary button\", isLoading ? \"loading\" : undefined), onClick: function () { return __awaiter(_this, void 0, void 0, function () {\n                var conversationA, conversationB, lastMessage, parsed, validated, err_1;\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            if (isLoading) {\n                                return [2 /*return*/];\n                            }\n                            conversationA = __assign(__assign({}, selfDiscover.implementConversation), { rawChatRequestConfig: __assign(__assign({}, selfDiscover.implementConversation.rawChatRequestConfig), { model: selfDiscover.model, response_format: {\n                                        type: \"json_object\",\n                                    }, temperature: 0, max_tokens: 1024 }), messages: [\n                                    {\n                                        uuid: uuid.v4(),\n                                        messageType: \"user\",\n                                        role: \"user\",\n                                        content: prompt,\n                                    },\n                                ] });\n                            setIsLoading(true);\n                            _a.label = 1;\n                        case 1:\n                            _a.trys.push([1, 3, , 4]);\n                            return [4 /*yield*/, ConversationEditPage_1.submitConversation(openAiApi, conversationA, [])];\n                        case 2:\n                            conversationB = _a.sent();\n                            setIsLoading(false);\n                            lastMessage = conversationB.messages[conversationB.messages.length - 1];\n                            if (lastMessage.role != \"assistant\") {\n                                error.push(\"negative\", [\"Expected assistant message, received \" + lastMessage.role]);\n                                return [2 /*return*/];\n                            }\n                            if (lastMessage.messageType != \"assistant\") {\n                                error.push(\"negative\", [\"Expected assistant message, received \" + lastMessage.messageType]);\n                                return [2 /*return*/];\n                            }\n                            parsed = {};\n                            try {\n                                parsed = JSON.parse(lastMessage.content);\n                            }\n                            catch (err) {\n                                error_handling_1.handleError(error, err);\n                                return [2 /*return*/];\n                            }\n                            validated = void 0;\n                            try {\n                                validated = implementResultMapper(\"result\", parsed);\n                            }\n                            catch (err) {\n                                error_handling_1.handleError(error, err);\n                                return [2 /*return*/];\n                            }\n                            setSelfDiscover(__assign(__assign({}, selfDiscover), { implementConversation: conversationB, implementResult: validated }));\n                            error.reset();\n                            return [3 /*break*/, 4];\n                        case 3:\n                            err_1 = _a.sent();\n                            setIsLoading(false);\n                            error_handling_1.handleError(error, err_1);\n                            return [3 /*break*/, 4];\n                        case 4: return [2 /*return*/];\n                    }\n                });\n            }); } }, \"Implement Reasoning Modules\"),\n        React.createElement(\"button\", { className: \"ui primary button\", onClick: function () {\n                history.push(\"/conversation/\" + selfDiscover.implementConversation.uuid + \"/edit\");\n            } }, \"View Conversation\"));\n}\nexports.SelfDiscoverImplementTab = SelfDiscoverImplementTab;\nfunction buildPrompt(selfDiscover) {\n    var _a;\n    var exampleTasks = selfDiscover.tasks\n        .filter(function (t) { return t.useAsExample; })\n        .filter(function (t) { return t.problemStatement.trim() != \"\"; })\n        .map(function (t, index) { return \"### Example Task \" + (index + 1) + \"\\n\\n\" + t.problemStatement.trim(); })\n        .join(\"\\n\\n\");\n    var adaptedModules = (_a = selfDiscover.adaptResult) === null || _a === void 0 ? void 0 : _a.reasoning_modules.map(function (i) { return \"#### \" + i.name + \"\\n\" + i.description; }).join(\"\\n\\n\");\n    return \"Operationalize the reasoning modules into a step-by-step reasoning plan in JSON format:\\n\\n### Adapted module description\\n\\n\" + adaptedModules + \"\\n\\n\" + exampleTasks + \"\\n\\n### Instructions\\n\\nImplement a reasoning structure for solvers to follow step-by-step and arrive at correct answers.\\n\\nThe JSON object should have properties,\\n- steps : Step[] - The steps to follow to solve the task\\n\\ninterface Step {\\n  instructions : string;\\n}\";\n}\nvar implementResultMapper = tm.object({\n    steps: tm.array(tm.object({\n        instructions: tm.string(),\n    })),\n});\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from) {\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\n        to[j] = from[i];\n    return to;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SelfDiscoverListPage = void 0;\nvar React = require(\"react\");\nvar reactRouter = require(\"react-router-dom\");\nvar uuid = require(\"uuid\");\nvar localStorageUtil = require(\"../local-storage-util\");\n//import { SelfDiscover } from \"./SelfDiscoverForm\";\nfunction SelfDiscoverListPage() {\n    var history = reactRouter.useHistory();\n    var _a = React.useState(localStorageUtil.loadSelfDiscoversMeta()), selfDiscovers = _a[0], setSelfDiscovers = _a[1];\n    return React.createElement(\"div\", { className: \"ui main container\" },\n        React.createElement(\"div\", { className: \"ui segment divided selection massive list\" }, selfDiscovers.map(function (meta) {\n            var displayName = meta.name.trim() == \"\" ?\n                \"Self-Discover \" + meta.uuid :\n                meta.name;\n            return React.createElement(\"div\", { className: \"item\", key: meta.uuid, onClick: function () {\n                    history.push(\"/self-discover/\" + meta.uuid + \"/edit\");\n                } },\n                React.createElement(\"div\", { className: \"extra right floated\" },\n                    React.createElement(\"div\", { className: \"ui icon secondary button\", onClick: function (evt) {\n                            evt.preventDefault();\n                            evt.stopPropagation();\n                            if (confirm(\"Copy \" + displayName + \"?\")) {\n                                var existingSelfDiscover = localStorageUtil.loadSelfDiscover(meta.uuid);\n                                if (existingSelfDiscover == undefined) {\n                                    alert(\"Cannot find \" + displayName + \" / \" + meta.uuid);\n                                    return;\n                                }\n                                var newUuid = uuid.v4();\n                                var newSelfDiscover = __assign(__assign({}, existingSelfDiscover), { uuid: newUuid, name: \"Copy of \" + displayName });\n                                var newSelfDiscovers = __spreadArray(__spreadArray([], localStorageUtil.loadSelfDiscoversMeta()), [\n                                    __assign(__assign({}, meta), { uuid: newUuid, name: \"Copy of \" + displayName }),\n                                ]);\n                                setSelfDiscovers(newSelfDiscovers);\n                                localStorageUtil.saveSelfDiscoversMeta(newSelfDiscovers);\n                                localStorageUtil.saveSelfDiscover(newSelfDiscover);\n                            }\n                        } },\n                        React.createElement(\"i\", { className: \"copy icon\" })),\n                    React.createElement(\"div\", { className: \"ui icon red button\", onClick: function (evt) {\n                            evt.preventDefault();\n                            evt.stopPropagation();\n                            if (confirm(\"Delete \" + displayName + \"?\")) {\n                                var newSelfDiscovers = localStorageUtil.loadSelfDiscoversMeta()\n                                    .filter(function (m) { return m.uuid != meta.uuid; });\n                                setSelfDiscovers(newSelfDiscovers);\n                                localStorageUtil.saveSelfDiscoversMeta(newSelfDiscovers);\n                                localStorageUtil.deleteSelfDiscover(meta);\n                            }\n                        } },\n                        React.createElement(\"i\", { className: \"trash icon\" }))),\n                React.createElement(\"div\", { className: \"content\" },\n                    React.createElement(\"div\", { className: \"header\" }, displayName),\n                    React.createElement(\"div\", { className: \"ui mini label\" }, meta.uuid),\n                    meta.description.trim() == \"\" ?\n                        React.createElement(\"small\", { className: \"description\" }, \"There is no description for this self-discover\") :\n                        React.createElement(\"div\", { className: \"description\" }, meta.description)));\n        })),\n        React.createElement(\"button\", { className: \"ui primary button\", onClick: function () {\n                var selfDiscovers = localStorageUtil.loadSelfDiscoversMeta();\n                var _a = localStorageUtil.makeSelfDiscover(), meta = _a.meta, selfDiscover = _a.selfDiscover;\n                var newSelfDiscovers = __spreadArray(__spreadArray([], selfDiscovers), [\n                    meta,\n                ]);\n                localStorageUtil.saveSelfDiscoversMeta(newSelfDiscovers);\n                localStorageUtil.saveSelfDiscover(selfDiscover);\n                setSelfDiscovers(newSelfDiscovers);\n            } }, \"Create Self-Discover\"));\n}\nexports.SelfDiscoverListPage = SelfDiscoverListPage;\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from) {\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\n        to[j] = from[i];\n    return to;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SelfDiscoverSelectTab = void 0;\nvar React = require(\"react\");\nvar reactRouter = require(\"react-router-dom\");\nvar uuid = require(\"uuid\");\nvar classNames = require(\"classnames\");\nvar tm = require(\"type-mapping\");\nvar ConversationEditPage_1 = require(\"../ConversationEditPage\");\nvar use_error_1 = require(\"../use-error\");\nvar error_handling_1 = require(\"../error-handling\");\nfunction SelfDiscoverSelectTab(props) {\n    var _this = this;\n    var openAiApi = props.openAiApi, active = props.active, selfDiscover = props.selfDiscover, setSelfDiscover = props.setSelfDiscover;\n    var history = reactRouter.useHistory();\n    var _a = React.useState(function () { return buildPrompt(selfDiscover); }), prompt = _a[0], setPrompt = _a[1];\n    var _b = React.useState(false), isLoading = _b[0], setIsLoading = _b[1];\n    var error = use_error_1.useError();\n    React.useEffect(function () {\n        var timer = setTimeout(function () {\n            setPrompt(buildPrompt(selfDiscover));\n        }, 1000);\n        return function () { return clearTimeout(timer); };\n    }, [selfDiscover]);\n    return React.createElement(\"div\", { className: classNames(\"ui bottom attached tab segment\", active ? \"active\" : undefined) },\n        React.createElement(\"div\", { className: \"ui form\" },\n            React.createElement(\"div\", { className: \"field\" },\n                React.createElement(\"label\", null, \"Prompt\"),\n                React.createElement(\"textarea\", { value: prompt, readOnly: true, style: { minHeight: \"36em\", maxHeight: \"84em\" } })),\n            selfDiscover.selectResult == undefined ?\n                undefined :\n                React.createElement(\"div\", { className: \"field\" },\n                    React.createElement(\"label\", null, \"Selected Reasoning Modules\"),\n                    React.createElement(\"textarea\", { value: JSON.stringify(selfDiscover.selectResult, null, 2), readOnly: true, style: { minHeight: \"36em\", maxHeight: \"84em\" } }))),\n        React.createElement(\"br\", null),\n        React.createElement(\"button\", { className: classNames(\"ui primary button\", isLoading ? \"loading\" : undefined), onClick: function () { return __awaiter(_this, void 0, void 0, function () {\n                var conversationA, conversationB, conversationC, conversationD, lastMessage, parsed, validated, err_1;\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            if (isLoading) {\n                                return [2 /*return*/];\n                            }\n                            conversationA = __assign(__assign({}, selfDiscover.selectConversation), { rawChatRequestConfig: __assign(__assign({}, selfDiscover.selectConversation.rawChatRequestConfig), { model: selfDiscover.model, response_format: {\n                                        type: \"text\",\n                                    }, temperature: 0, max_tokens: 1024 }), messages: [\n                                    {\n                                        uuid: uuid.v4(),\n                                        messageType: \"user\",\n                                        role: \"user\",\n                                        content: prompt,\n                                    },\n                                ] });\n                            setIsLoading(true);\n                            _a.label = 1;\n                        case 1:\n                            _a.trys.push([1, 4, , 5]);\n                            return [4 /*yield*/, ConversationEditPage_1.submitConversation(openAiApi, conversationA, [])];\n                        case 2:\n                            conversationB = _a.sent();\n                            conversationC = __assign(__assign({}, conversationB), { rawChatRequestConfig: __assign(__assign({}, conversationB.rawChatRequestConfig), { response_format: {\n                                        type: \"json_object\",\n                                    } }), messages: __spreadArray(__spreadArray([], conversationB.messages), [\n                                    {\n                                        uuid: uuid.v4(),\n                                        messageType: \"user\",\n                                        role: \"user\",\n                                        content: convertPrompt,\n                                    },\n                                ]) });\n                            return [4 /*yield*/, ConversationEditPage_1.submitConversation(openAiApi, conversationC, [])];\n                        case 3:\n                            conversationD = _a.sent();\n                            setIsLoading(false);\n                            lastMessage = conversationD.messages[conversationD.messages.length - 1];\n                            if (lastMessage.role != \"assistant\") {\n                                error.push(\"negative\", [\"Expected assistant message, received \" + lastMessage.role]);\n                                return [2 /*return*/];\n                            }\n                            if (lastMessage.messageType != \"assistant\") {\n                                error.push(\"negative\", [\"Expected assistant message, received \" + lastMessage.messageType]);\n                                return [2 /*return*/];\n                            }\n                            parsed = {};\n                            try {\n                                parsed = JSON.parse(lastMessage.content);\n                            }\n                            catch (err) {\n                                error_handling_1.handleError(error, err);\n                                return [2 /*return*/];\n                            }\n                            validated = void 0;\n                            try {\n                                validated = selectResultMapper(\"result\", parsed);\n                            }\n                            catch (err) {\n                                error_handling_1.handleError(error, err);\n                                return [2 /*return*/];\n                            }\n                            setSelfDiscover(__assign(__assign({}, selfDiscover), { selectConversation: conversationD, selectResult: validated }));\n                            error.reset();\n                            return [3 /*break*/, 5];\n                        case 4:\n                            err_1 = _a.sent();\n                            setIsLoading(false);\n                            error_handling_1.handleError(error, err_1);\n                            return [3 /*break*/, 5];\n                        case 5: return [2 /*return*/];\n                    }\n                });\n            }); } }, \"Select Reasoning Modules\"),\n        React.createElement(\"button\", { className: \"ui primary button\", onClick: function () {\n                history.push(\"/conversation/\" + selfDiscover.selectConversation.uuid + \"/edit\");\n            } }, \"View Conversation\"));\n}\nexports.SelfDiscoverSelectTab = SelfDiscoverSelectTab;\nfunction buildPrompt(selfDiscover) {\n    var exampleTasks = selfDiscover.tasks\n        .filter(function (t) { return t.useAsExample; })\n        .filter(function (t) { return t.problemStatement.trim() != \"\"; })\n        .map(function (t, index) { return \"### Example Task \" + (index + 1) + \"\\n\\n\" + t.problemStatement.trim(); })\n        .join(\"\\n\\n\");\n    return \"Select several reasoning modules that are crucial to utilize in order to solve the given task:\\n\\n### All reasoning module descriptions\\n\\n+ How could I devise an experiment to help solve that problem?\\n+ Make a list of ideas for solving this problem, and apply them one by one to the problem to see if any progress can be made.\\n+ How could I measure progress on this problem?\\n+ How can I simplify the problem so that it is easier to solve?\\n+ What are the key assumptions underlying this problem?\\n+ What are the potential risks and drawbacks of each solution?\\n+ What are the alternative perspectives or viewpoints on this problem?\\n+ What are the long-term implications of this problem and its solutions?\\n+ How can I break down this problem into smaller, more manageable parts?\\n+ Critical Thinking: This style involves analyzing the problem from different perspectives, questioning assumptions, and evaluating\\nthe evidence or information available. It focuses on logical reasoning, evidence-based decision-making, and identifying\\npotential biases or flaws in thinking.\\n+ Try creative thinking, generate innovative and out-of-the-box ideas to solve the problem. Explore unconventional solutions,\\nthinking beyond traditional boundaries, and encouraging imagination and originality.\\n+ Seek input and collaboration from others to solve the problem. Emphasize teamwork, open communication, and leveraging the\\ndiverse perspectives and expertise of a group to come up with effective solutions.\\n+ Use systems thinking: Consider the problem as part of a larger system and understanding the interconnectedness of various elements.\\nFocuses on identifying the underlying causes, feedback loops, and interdependencies that influence the problem, and developing holistic\\nsolutions that address the system as a whole.\\n+ Use Risk Analysis: Evaluate potential risks, uncertainties, and tradeoffs associated with different solutions or approaches to a\\nproblem. Emphasize assessing the potential consequences and likelihood of success or failure, and making informed decisions based\\non a balanced analysis of risks and benefits.\\n+ Use Reflective Thinking: Step back from the problem, take the time for introspection and self-reflection. Examine personal biases,\\nassumptions, and mental models that may influence problem-solving, and being open to learning from past experiences to improve\\nfuture approaches.\\n+ What is the core issue or problem that needs to be addressed?\\n+ What are the underlying causes or factors contributing to the problem?\\n+ Are there any potential solutions or strategies that have been tried before? If yes, what were the outcomes and lessons learned?\\n+ What are the potential obstacles or challenges that might arise in solving this problem?\\n+ Are there any relevant data or information that can provide insights into the problem? If yes, what data sources are available,\\nand how can they be analyzed?\\n+ Are there any stakeholders or individuals who are directly affected by the problem? What are their perspectives and needs?\\n+ What resources (financial, human, technological, etc.) are needed to tackle the problem effectively?\\n+ How can progress or success in solving the problem be measured or evaluated?\\n+ What indicators or metrics can be used?\\n+ Is the problem a technical or practical one that requires a specific expertise or skill set? Or is it more of a conceptual or\\ntheoretical problem?\\n+ Does the problem involve a physical constraint, such as limited resources, infrastructure, or space?\\n+ Is the problem related to human behavior, such as a social, cultural, or psychological issue?\\n+ Does the problem involve decision-making or planning, where choices need to be made under uncertainty or with competing\\nobjectives?\\n+ Is the problem an analytical one that requires data analysis, modeling, or optimization techniques?\\n+ Is the problem a design challenge that requires creative solutions and innovation?\\n+ Does the problem require addressing systemic or structural issues rather than just individual instances?\\n+ Is the problem time-sensitive or urgent, requiring immediate attention and action?\\n+ What kinds of solution typically are produced for this kind of problem specification?\\n+ Given the problem specification and the current best solution, have a guess about other possible solutions.\\n+ Let\\u2019s imagine the current best solution is totally wrong, what other ways are there to think about the problem specification?\\n+ What is the best way to modify this current best solution, given what you know about these kinds of problem specification?\\n+ Ignoring the current best solution, create an entirely new solution to the problem.\\n+ Let\\u2019s think step by step.\\n+ Let\\u2019s make a step by step plan and implement it with good notion and explanation.\\n\\n\" + exampleTasks + \"\\n\\n### Instructions\\n\\nSelect several modules that are crucial for solving the tasks above.\";\n}\nvar convertPrompt = \"Convert your response into a JSON object with the following properties,\\n+ selected_reasoning_modules : string[] - an array containing the names of the selected reasoning modules\\n+ rationale : string - A plain language explanation for why these modules were selecteds\";\nvar selectResultMapper = tm.object({\n    selected_reasoning_modules: tm.array(tm.string()),\n    rationale: tm.string(),\n});\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SelfDiscoverTaskForm = void 0;\nvar React = require(\"react\");\nvar reactRouter = require(\"react-router-dom\");\nvar classNames = require(\"classnames\");\nvar uuid = require(\"uuid\");\nvar tm = require(\"type-mapping\");\nvar use_error_1 = require(\"../use-error\");\nvar ConversationEditPage_1 = require(\"../ConversationEditPage\");\nvar error_handling_1 = require(\"../error-handling\");\nfunction SelfDiscoverTaskForm(props) {\n    var _this = this;\n    var task = props.task, onChange = props.onChange, onRemove = props.onRemove, onMoveUp = props.onMoveUp, onMoveDown = props.onMoveDown, executeConfig = props.executeConfig;\n    var _a = React.useState(function () { return executeConfig == undefined ? \"\" : buildPrompt(task, executeConfig); }), prompt = _a[0], setPrompt = _a[1];\n    var history = reactRouter.useHistory();\n    var _b = React.useState(false), isLoading = _b[0], setIsLoading = _b[1];\n    var error = use_error_1.useError();\n    React.useEffect(function () {\n        var timer = setTimeout(function () {\n            if (executeConfig == undefined) {\n                setPrompt(\"\");\n                return;\n            }\n            setPrompt(buildPrompt(task, executeConfig));\n        }, 1000);\n        return function () { return clearTimeout(timer); };\n    }, [executeConfig]);\n    return React.createElement(\"div\", { className: \"item\" },\n        React.createElement(\"div\", { className: \"header\" },\n            \"Task \",\n            task.uuid),\n        React.createElement(\"div\", { className: \"ui form\" },\n            React.createElement(\"div\", { className: \"two fields\" },\n                React.createElement(\"div\", { className: \"field\" }, executeConfig == undefined ?\n                    React.createElement(React.Fragment, null,\n                        React.createElement(\"label\", null, \"Use as Example\"),\n                        React.createElement(\"div\", { className: \"ui checkbox\" },\n                            React.createElement(\"input\", { type: \"checkbox\", checked: task.useAsExample, onChange: function (evt) {\n                                    onChange(__assign(__assign({}, task), { useAsExample: evt.target.checked }), task);\n                                } }),\n                            React.createElement(\"label\", null, \"Use as Example\"))) :\n                    React.createElement(React.Fragment, null,\n                        React.createElement(\"button\", { className: classNames(\"ui primary button\", isLoading ? \"loading\" : undefined), onClick: function () { return __awaiter(_this, void 0, void 0, function () {\n                                var conversationA, conversationB, lastMessage, parsed, validated, err_1;\n                                return __generator(this, function (_a) {\n                                    switch (_a.label) {\n                                        case 0:\n                                            if (isLoading) {\n                                                return [2 /*return*/];\n                                            }\n                                            conversationA = __assign(__assign({}, task.executeConversation), { rawChatRequestConfig: __assign(__assign({}, task.executeConversation.rawChatRequestConfig), { model: executeConfig.model, response_format: {\n                                                        type: \"json_object\",\n                                                    }, temperature: 0, max_tokens: 1024 }), messages: [\n                                                    {\n                                                        uuid: uuid.v4(),\n                                                        messageType: \"user\",\n                                                        role: \"user\",\n                                                        content: prompt,\n                                                    },\n                                                ] });\n                                            setIsLoading(true);\n                                            _a.label = 1;\n                                        case 1:\n                                            _a.trys.push([1, 3, , 4]);\n                                            return [4 /*yield*/, ConversationEditPage_1.submitConversation(executeConfig.openAiApi, conversationA, [])];\n                                        case 2:\n                                            conversationB = _a.sent();\n                                            setIsLoading(false);\n                                            lastMessage = conversationB.messages[conversationB.messages.length - 1];\n                                            if (lastMessage.role != \"assistant\") {\n                                                error.push(\"negative\", [\"Expected assistant message, received \" + lastMessage.role]);\n                                                return [2 /*return*/];\n                                            }\n                                            if (lastMessage.messageType != \"assistant\") {\n                                                error.push(\"negative\", [\"Expected assistant message, received \" + lastMessage.messageType]);\n                                                return [2 /*return*/];\n                                            }\n                                            parsed = {};\n                                            try {\n                                                parsed = JSON.parse(lastMessage.content);\n                                            }\n                                            catch (err) {\n                                                error_handling_1.handleError(error, err);\n                                                return [2 /*return*/];\n                                            }\n                                            validated = void 0;\n                                            try {\n                                                validated = executeResultMapper(\"result\", parsed);\n                                            }\n                                            catch (err) {\n                                                error_handling_1.handleError(error, err);\n                                                return [2 /*return*/];\n                                            }\n                                            onChange(__assign(__assign({}, task), { executeConversation: conversationB, executeResult: validated }), task);\n                                            error.reset();\n                                            return [3 /*break*/, 4];\n                                        case 3:\n                                            err_1 = _a.sent();\n                                            setIsLoading(false);\n                                            error_handling_1.handleError(error, err_1);\n                                            return [3 /*break*/, 4];\n                                        case 4: return [2 /*return*/];\n                                    }\n                                });\n                            }); } }, \"Execute\"),\n                        React.createElement(\"button\", { className: \"ui primary button\", onClick: function () {\n                                history.push(\"/conversation/\" + task.executeConversation.uuid + \"/edit\");\n                            } }, \"View Conversation\"))),\n                React.createElement(\"div\", { className: \"field button group\", style: {\n                        alignSelf: \"flex-end\",\n                    } },\n                    React.createElement(\"button\", { className: \"ui icon red button\", onClick: function () { return onRemove(task); } },\n                        React.createElement(\"i\", { className: \"trash icon\" })),\n                    React.createElement(\"button\", { className: \"ui icon button\", onClick: function () { return onMoveUp(task); } },\n                        React.createElement(\"i\", { className: \"arrow up icon\" })),\n                    React.createElement(\"button\", { className: \"ui icon button\", onClick: function () { return onMoveDown(task); } },\n                        React.createElement(\"i\", { className: \"arrow down icon\" }))))),\n        React.createElement(\"div\", { className: \"ui form\" },\n            React.createElement(\"textarea\", { style: {\n                    minHeight: \"8em\",\n                    maxHeight: \"48em\",\n                }, value: task.problemStatement, onChange: function (evt) {\n                    props.onChange(__assign(__assign({}, task), { problemStatement: evt.target.value }), task);\n                } }),\n            executeConfig == undefined || prompt == \"\" ?\n                undefined :\n                React.createElement(\"div\", { className: \"field\" },\n                    React.createElement(\"label\", null, \"Prompt\"),\n                    React.createElement(\"textarea\", { value: prompt, readOnly: true, style: { minHeight: \"8em\", maxHeight: \"84em\" } })),\n            executeConfig == undefined || task.executeResult == undefined ?\n                undefined :\n                React.createElement(\"div\", { className: \"field\" },\n                    React.createElement(\"label\", null, \"Execute Result\"),\n                    React.createElement(\"textarea\", { value: JSON.stringify(task.executeResult, null, 2), readOnly: true, style: { minHeight: \"36em\", maxHeight: \"84em\" } }))));\n}\nexports.SelfDiscoverTaskForm = SelfDiscoverTaskForm;\nfunction buildPrompt(task, executeConfig) {\n    var reasoningPlan = executeConfig.implementResult.steps\n        .map(function (step, index) { return index + 1 + \". \" + step.instructions; })\n        .join(\"\\n\");\n    return \"Follow the step-by-step reasoning plan to arrive at correct answers.\\n\\n### Reasoning Plan\\n\" + reasoningPlan + \"\\n\\n### Task\\n\" + task.problemStatement.trim() + \"\\n\\n### Instructions\\n\\nFollow the reasoning structure to arrive at the correct answer for the task.\\n\\nOutput a JSON object with properties,\\n+ steps : Step[] - The result of following each step in the reasoning structure\\n+ answer : string - The answer in easy-to-understand plain language\\n\\ninterface Step {\\n  result : string;\\n}\";\n}\nvar executeResultMapper = tm.object({\n    steps: tm.array(tm.object({\n        result: tm.string(),\n    })),\n    answer: tm.string(),\n});\n","\"use strict\";\nvar __spreadArray = (this && this.__spreadArray) || function (to, from) {\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\n        to[j] = from[i];\n    return to;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SelfDiscoverTaskListForm = void 0;\nvar React = require(\"react\");\nvar SelfDiscoverTaskForm_1 = require(\"./SelfDiscoverTaskForm\");\nfunction SelfDiscoverTaskListForm(props) {\n    var tasks = props.tasks, onChange = props.onChange, executeConfig = props.executeConfig;\n    return React.createElement(\"div\", { className: \"ui segment divided selection massive list\" }, tasks.map(function (t, index) {\n        return React.createElement(SelfDiscoverTaskForm_1.SelfDiscoverTaskForm, { tasks: tasks, key: t.uuid, task: t, onChange: function (newSelfDiscoverTask) {\n                onChange(tasks.map(function (m) {\n                    return m.uuid == newSelfDiscoverTask.uuid ?\n                        newSelfDiscoverTask :\n                        m;\n                }), tasks);\n            }, onRemove: function () {\n                if (!confirm(\"Delete task \" + t.uuid + \"?\")) {\n                    return;\n                }\n                var newSelfDiscoverTasks = __spreadArray([], tasks);\n                newSelfDiscoverTasks.splice(index, 1);\n                onChange(newSelfDiscoverTasks, tasks);\n            }, onMoveUp: function (t) {\n                if (index == 0) {\n                    return;\n                }\n                var newSelfDiscoverTasks = __spreadArray([], tasks);\n                newSelfDiscoverTasks.splice(index, 1);\n                newSelfDiscoverTasks.splice(index - 1, 0, t);\n                onChange(newSelfDiscoverTasks, tasks);\n            }, onMoveDown: function (t) {\n                if (index >= tasks.length) {\n                    return;\n                }\n                var newSelfDiscoverTasks = __spreadArray([], tasks);\n                newSelfDiscoverTasks.splice(index, 1);\n                newSelfDiscoverTasks.splice(index + 1, 0, t);\n                onChange(newSelfDiscoverTasks, tasks);\n            }, executeConfig: executeConfig });\n    }));\n}\nexports.SelfDiscoverTaskListForm = SelfDiscoverTaskListForm;\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from) {\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\n        to[j] = from[i];\n    return to;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SelfDiscoverTaskTab = void 0;\nvar React = require(\"react\");\nvar classNames = require(\"classnames\");\nvar localStorageUtil = require(\"../local-storage-util\");\nvar SelfDiscoverTaskListForm_1 = require(\"./SelfDiscoverTaskListForm\");\nfunction SelfDiscoverTaskTab(props) {\n    var active = props.active, selfDiscover = props.selfDiscover, setSelfDiscover = props.setSelfDiscover;\n    return React.createElement(\"div\", { className: classNames(\"ui bottom attached tab segment\", active ? \"active\" : undefined) },\n        React.createElement(SelfDiscoverTaskListForm_1.SelfDiscoverTaskListForm, { tasks: selfDiscover.tasks, onChange: function (newTasks) {\n                setSelfDiscover(__assign(__assign({}, selfDiscover), { tasks: newTasks }));\n            }, executeConfig: undefined }),\n        React.createElement(\"button\", { className: \"ui primary button\", onClick: function () {\n                setSelfDiscover(__assign(__assign({}, selfDiscover), { tasks: __spreadArray(__spreadArray([], selfDiscover.tasks), [\n                        localStorageUtil.makeSelfDiscoverTask(selfDiscover.uuid),\n                    ]) }));\n            } }, \"Add Task\"));\n}\nexports.SelfDiscoverTaskTab = SelfDiscoverTaskTab;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.useDropdown = void 0;\nvar React = require(\"react\");\nvar classnames = require(\"classnames\");\nvar onDropdownOpenListener = [];\nfunction addOnDropdownOpenListener(d) {\n    if (onDropdownOpenListener.indexOf(d) < 0) {\n        onDropdownOpenListener.push(d);\n    }\n}\nfunction removeOnDropdownOpenListener(d) {\n    var index = onDropdownOpenListener.indexOf(d);\n    if (index < 0) {\n        return;\n    }\n    onDropdownOpenListener.splice(index, 1);\n}\nfunction invokeOnDropdownOpen(element) {\n    var arr = onDropdownOpenListener.slice();\n    for (var _i = 0, arr_1 = arr; _i < arr_1.length; _i++) {\n        var d = arr_1[_i];\n        d(element);\n    }\n}\nvar onCloseAllListener = [];\nfunction addOnCloseAllListener(d) {\n    if (onCloseAllListener.indexOf(d) < 0) {\n        onCloseAllListener.push(d);\n    }\n}\nfunction removeOnCloseAllListener(d) {\n    var index = onCloseAllListener.indexOf(d);\n    if (index < 0) {\n        return;\n    }\n    onCloseAllListener.splice(index, 1);\n}\nfunction invokeOnCloseAll() {\n    var arr = onCloseAllListener.slice();\n    for (var _i = 0, arr_2 = arr; _i < arr_2.length; _i++) {\n        var d = arr_2[_i];\n        d();\n    }\n}\nvar documentClickListener = undefined;\nvar allowCloseAll = true;\nfunction initDocumentClickListener() {\n    if (documentClickListener != undefined) {\n        return;\n    }\n    if (document != undefined) {\n        documentClickListener = function (_e) {\n            //console.log(\"body click\", e);\n            if (!allowCloseAll) {\n                allowCloseAll = true;\n                return;\n            }\n            invokeOnCloseAll();\n        };\n        document.addEventListener(\"click\", documentClickListener, false);\n    }\n}\nfunction useDropdown(props) {\n    var _a = React.useState(false), open = _a[0], setOpen = _a[1];\n    var ref = React.useRef(null);\n    React.useEffect(function () {\n        initDocumentClickListener();\n        var d = function (element) {\n            if (element == ref.current) {\n                //console.log(\"opening\", element)\n                setOpen(true);\n            }\n            else {\n                //console.log(\"closing\")\n                setOpen(false);\n            }\n        };\n        addOnDropdownOpenListener(d);\n        var d2 = function () {\n            //console.log(\"close all\");\n            setOpen(false);\n        };\n        addOnCloseAllListener(d2);\n        return function () {\n            removeOnDropdownOpenListener(d);\n            removeOnCloseAllListener(d2);\n        };\n    }, []);\n    var onMouseOver = function () {\n    };\n    var onClick = function (e) {\n        e.stopPropagation();\n        allowCloseAll = false;\n        //console.log(\"click\", ref.current, e.target);\n        if (e.target == ref.current || e.target.className.indexOf(\"menu\") < 0) {\n            if (open) {\n                setOpen(false);\n            }\n            else if (ref.current != undefined) {\n                invokeOnDropdownOpen(ref.current);\n            }\n        }\n        else {\n            setOpen(false);\n        }\n    };\n    return {\n        className: function (className) {\n            return classnames([\n                className,\n                (open ?\n                    (props.openClassName == undefined ?\n                        \"open\" :\n                        props.openClassName) :\n                    props.closeClassName),\n            ]);\n        },\n        onMouseOver: onMouseOver,\n        onClick: onClick,\n        ref: ref,\n    };\n}\nexports.useDropdown = useDropdown;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.useError = void 0;\nvar React = require(\"react\");\nfunction useError() {\n    var _a = React.useState(\"warning\"), type = _a[0], setType = _a[1];\n    var _b = React.useState([]), messages = _b[0], setMessages = _b[1];\n    return {\n        messages: messages,\n        type: type,\n        push: function (newType, newMessage) {\n            if (newType == \"negative\") {\n                setType(newType);\n            }\n            setMessages(messages.concat(newMessage));\n        },\n        reset: function () {\n            setType(\"warning\");\n            setMessages([]);\n        },\n    };\n}\nexports.useError = useError;\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from) {\n    for (var i = 0, il = from.length, j = to.length; i < il; i++, j++)\n        to[j] = from[i];\n    return to;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.cleanObject = exports.cleanProperty = exports.ObjectEditor = exports.PropertyEditor = exports.dataTypes = void 0;\nvar React = require(\"react\");\nexports.dataTypes = [\n    \"string\",\n    \"number\",\n    \"boolean\",\n    \"integer\",\n    \"object\",\n    \"array\",\n];\nfunction PropertyEditor(props) {\n    var property = props.property, onChange = props.onChange, onRemove = props.onRemove, onMoveUp = props.onMoveUp, onMoveDown = props.onMoveDown, hidePropertyName = props.hidePropertyName, hideRequired = props.hideRequired, hideControls = props.hideControls, style = props.style;\n    return React.createElement(\"div\", { style: style },\n        React.createElement(\"div\", { className: \"five fields\", style: {\n                paddingLeft: \"32px\"\n            } },\n            (hidePropertyName !== null && hidePropertyName !== void 0 ? hidePropertyName : false) ?\n                undefined :\n                React.createElement(\"div\", { className: \"field\" },\n                    React.createElement(\"label\", null, \"Property Name\"),\n                    React.createElement(\"input\", { type: \"text\", value: property.propertyName, placeholder: \"Property Name\", onChange: function (evt) {\n                            onChange(__assign(__assign({}, property), { propertyName: evt.target.value }), property);\n                        } })),\n            React.createElement(\"div\", { className: \"field\" },\n                React.createElement(\"label\", null, \"Data Type\"),\n                React.createElement(\"select\", { value: property.type, onChange: function (evt) {\n                        var type = evt.target.value;\n                        if (type == \"object\") {\n                            if (\"properties\" in property) {\n                                onChange(__assign(__assign({}, property), { type: type }), property);\n                            }\n                            else {\n                                onChange(__assign(__assign({}, property), { type: type, required: [], properties: [] }), property);\n                            }\n                        }\n                        else if (type == \"array\") {\n                            if (\"items\" in property) {\n                                onChange(__assign(__assign({}, property), { type: type }), property);\n                            }\n                            else {\n                                onChange(__assign(__assign({}, property), { type: type, items: {\n                                        type: \"string\",\n                                        propertyName: \"item\",\n                                        propertyRequired: true,\n                                        description: \"\",\n                                    } }), property);\n                            }\n                        }\n                        else {\n                            onChange(__assign(__assign({}, property), { type: type }), property);\n                        }\n                    } }, exports.dataTypes.map(function (s) {\n                    return React.createElement(\"option\", { key: s, value: s }, s);\n                }))),\n            (hideRequired !== null && hideRequired !== void 0 ? hideRequired : false) ?\n                undefined :\n                React.createElement(\"div\", { className: \"field\" },\n                    React.createElement(\"label\", null, \"Required\"),\n                    React.createElement(\"div\", { className: \"ui checkbox\" },\n                        React.createElement(\"input\", { type: \"checkbox\", checked: property.propertyRequired, onChange: function (evt) {\n                                onChange(__assign(__assign({}, property), { propertyRequired: evt.target.checked }), property);\n                            } }),\n                        React.createElement(\"label\", null, \"Required\"))),\n            React.createElement(\"div\", { className: \"field\" },\n                React.createElement(\"label\", null, \"Description\"),\n                React.createElement(\"input\", { type: \"text\", value: property.description, placeholder: \"Description\", onChange: function (evt) {\n                        onChange(__assign(__assign({}, property), { description: evt.target.value }), property);\n                    } })),\n            (hideControls !== null && hideControls !== void 0 ? hideControls : false) ?\n                undefined :\n                React.createElement(\"div\", { className: \"field button group\", style: {\n                        alignSelf: \"flex-end\",\n                    } },\n                    React.createElement(\"button\", { className: \"ui icon red button\", onClick: function () { return onRemove(property); } },\n                        React.createElement(\"i\", { className: \"trash icon\" })),\n                    React.createElement(\"button\", { className: \"ui icon button\", onClick: function () { return onMoveUp(property); } },\n                        React.createElement(\"i\", { className: \"arrow up icon\" })),\n                    React.createElement(\"button\", { className: \"ui icon button\", onClick: function () { return onMoveDown(property); } },\n                        React.createElement(\"i\", { className: \"arrow down icon\" })))),\n        property.type == \"object\" ?\n            React.createElement(ObjectEditor, { object: property, onChange: function (objectProperty, oldObjectProperty) {\n                    onChange(objectProperty, oldObjectProperty);\n                }, style: {\n                    paddingLeft: \"32px\",\n                }, name: property.propertyName })\n            : undefined,\n        property.type == \"array\" ?\n            React.createElement(PropertyEditor, { property: property.items, onChange: function (propertyItems) {\n                    onChange(__assign(__assign({}, property), { items: propertyItems }), property);\n                }, onRemove: function () { }, onMoveUp: function () { }, onMoveDown: function () { }, hidePropertyName: true, hideRequired: true, hideControls: true, style: {\n                    paddingLeft: \"32px\",\n                } })\n            : undefined);\n}\nexports.PropertyEditor = PropertyEditor;\nfunction deriveRequired(properties) {\n    return properties\n        .filter(function (p) { return p.propertyRequired; })\n        .map(function (p) { return p.propertyName; });\n}\nfunction ObjectEditor(props) {\n    var object = props.object, onChange = props.onChange, style = props.style, name = props.name;\n    return React.createElement(\"div\", { className: \"fields\", style: style },\n        React.createElement(\"div\", { className: \"field\" },\n            React.createElement(\"label\", null,\n                name,\n                \" Properties\"),\n            object.properties.map(function (property, index) {\n                return React.createElement(PropertyEditor, { key: index, property: property, onRemove: function () {\n                        var newProperties = __spreadArray([], object.properties);\n                        newProperties.splice(index, 1);\n                        onChange(__assign(__assign({}, object), { required: deriveRequired(newProperties), properties: newProperties }), object);\n                    }, onChange: function (newProperty) {\n                        var newProperties = __spreadArray([], object.properties);\n                        newProperties.splice(index, 1, newProperty);\n                        onChange(__assign(__assign({}, object), { required: deriveRequired(newProperties), properties: newProperties }), object);\n                    }, onMoveUp: function () {\n                        if (index == 0) {\n                            return;\n                        }\n                        var newProperties = __spreadArray([], object.properties);\n                        newProperties.splice(index, 1);\n                        newProperties.splice(index - 1, 0, property);\n                        onChange(__assign(__assign({}, object), { required: deriveRequired(newProperties), properties: newProperties }), object);\n                    }, onMoveDown: function () {\n                        if (index >= object.properties.length) {\n                            return;\n                        }\n                        var newProperties = __spreadArray([], object.properties);\n                        newProperties.splice(index, 1);\n                        newProperties.splice(index + 1, 0, property);\n                        onChange(__assign(__assign({}, object), { required: deriveRequired(newProperties), properties: newProperties }), object);\n                    } });\n            })),\n        React.createElement(\"div\", { className: \"field button group\", style: {\n                alignSelf: \"flex-start\",\n            } },\n            React.createElement(\"button\", { className: \"ui icon red button\", onClick: function () { return onChange(__assign(__assign({}, object), { required: __spreadArray(__spreadArray([], object.required), [\n                        \"property_\" + object.properties.length,\n                    ]), properties: __spreadArray(__spreadArray([], object.properties), [\n                        {\n                            propertyName: \"property_\" + object.properties.length,\n                            type: \"string\",\n                            propertyRequired: true,\n                            description: \"\",\n                        }\n                    ]) }), object); } },\n                React.createElement(\"i\", { className: \"plus icon\" }))));\n}\nexports.ObjectEditor = ObjectEditor;\nfunction cleanProperty(property) {\n    if (property.type == \"object\") {\n        return {\n            type: property.type,\n            description: property.description,\n            required: deriveRequired(property.properties),\n            properties: Object.fromEntries(property.properties.map(function (p) { return [p.propertyName, cleanProperty(p)]; })),\n        };\n    }\n    else if (property.type == \"array\") {\n        return {\n            type: property.type,\n            description: property.description,\n            items: cleanProperty(property.items),\n        };\n    }\n    else {\n        return {\n            type: property.type,\n            description: property.description,\n        };\n    }\n}\nexports.cleanProperty = cleanProperty;\nfunction cleanObject(object) {\n    return {\n        type: object.type,\n        required: deriveRequired(object.properties),\n        properties: Object.fromEntries(object.properties.map(function (p) { return [p.propertyName, cleanProperty(p)]; })),\n    };\n}\nexports.cleanObject = cleanObject;\n"],"sourceRoot":""}